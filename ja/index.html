<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日本給与計算機2025年最新版 | 手取り額・税金・ローン・賃貸・電気料金計算ツール</title>
    <meta name="description" content="2025年最新税率で正確な手取り給与を計算。都道府県別健康保険料、年金、所得税計算＋不動産ローン、賃貸適正性、公共料金計算機まで一括対応。">
    <meta name="keywords" content="日本給与計算機, 給与税金計算機, 手取り計算機, 日本健康保険料, 年金計算, 日本所得税, 2025年給与, 都道府県別税率, 日本就職, 給与シミュレーション, 貯蓄計画, 年号変換器, 十二支計算機, 不動産ローン計算機, 賃貸適正性計算機, 公共料金計算機, 電気料金計算">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Utilities Collection">

    <!-- Open Graph -->
    <meta property="og:title" content="日本給与計算機2025年最新版 | 手取り額・税金・ローン・賃貸・電気料金計算ツール">
    <meta property="og:description" content="2025年最新税率で正確な手取り給与を計算。都道府県別健康保険料、年金、所得税計算＋不動産ローン、賃貸適正性、公共料金計算機まで一括対応。">
    <meta property="og:url" content="https://utilities.mahalohana-bruce.com/ja/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://utilities.mahalohana-bruce.com/favicon.png">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:site_name" content="日本給与計算機 - プロフェッショナル税金計算ツール">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="日本給与計算機2025年最新版 | 手取り額・税金・ローン・賃貸・電気料金計算ツール">
    <meta name="twitter:description" content="2025年最新税率で正確な手取り給与を計算。都道府県別健康保険料、年金、所得税計算＋不動産ローン、賃貸適正性、公共料金計算機まで一括対応。">
    <meta name="twitter:image" content="https://utilities.mahalohana-bruce.com/favicon.png">
    <meta name="twitter:site" content="@utilities_tools">

    <!-- Additional SEO Meta Tags -->
    <meta name="geo.region" content="JP">
    <meta name="geo.country" content="Japan">
    <meta name="application-name" content="日本給与計算機">
    <meta name="msapplication-TileColor" content="#3498db">
    <meta name="theme-color" content="#3498db">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="日本給与計算機">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <!-- Preconnect Links -->
    <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.google-analytics.com">

    <!-- Language Alternates -->
    <link rel="alternate" hreflang="x-default" href="https://utilities.mahalohana-bruce.com/">
    <link rel="alternate" hreflang="en" href="https://utilities.mahalohana-bruce.com/en/">
    <link rel="alternate" hreflang="ja" href="https://utilities.mahalohana-bruce.com/ja/">
    <link rel="alternate" hreflang="ko" href="https://utilities.mahalohana-bruce.com/ko/">
    <link rel="alternate" hreflang="vi" href="https://utilities.mahalohana-bruce.com/vi/">

    <link rel="canonical" href="https://utilities.mahalohana-bruce.com/ja/">
    <link rel="stylesheet" href="/css/professional-design-system.css">
    <link rel="icon" href="/favicon.ico">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "日本給与計算機2025年最新版",
      "description": "2025年最新税率で正確な手取り給与を計算。都道府県別健康保険料、年金、所得税計算＋不動産ローン、賃貸適正性、公共料金計算機まで一括対応。",
      "url": "https://utilities.mahalohana-bruce.com/ja/",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Any",
      "browserRequirements": "HTML5, CSS3, JavaScript",
      "inLanguage": "ja",
      "author": {
        "@type": "Organization",
        "name": "Utilities Collection",
        "url": "https://utilities.mahalohana-bruce.com"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "JPY"
      },
      "featureList": [
        "都道府県別健康保険料計算",
        "厚生年金保険料計算",
        "所得税・住民税計算",
        "手取り給与シミュレーション",
        "AI資産運用プランニング",
        "年号変換機能",
        "十二支計算機能",
        "不動産ローン計算機",
        "賃貸適正性分析機",
        "公共料金計算機",
        "電気料金予想計算"
      ]
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "日本給与計算機の計算結果は正確ですか？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "はい、2025年の最新税率と社会保険料率を反映しており、厚生労働省や国税庁の公式データに基づいて正確に計算されます。都道府県別の健康保険料率も含めて精密に算出します。"
          }
        },
        {
          "@type": "Question",
          "name": "都道府県別の計算に対応していますか？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "はい、全47都道府県の健康保険料率の違いを反映した計算が可能です。お住まいの地域を選択していただくことで、より正確な手取り額が計算できます。"
          }
        },
        {
          "@type": "Question",
          "name": "個人情報は安全に保護されますか？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "はい、すべての計算はお客様のブラウザ内で実行され、入力された情報は一切外部に送信されません。プライバシーは完全に保護されています。"
          }
        },
        {
          "@type": "Question",
          "name": "スマートフォンでも利用できますか？",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "はい、レスポンシブデザインによりスマートフォン、タブレット、パソコンなどあらゆるデバイスで快適にご利用いただけます。"
          }
        }
      ]
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HS98ZL6343"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', 'G-HS98ZL6343');
    </script>

    <!-- Performance and SW Registration -->
    <script src="/js/common/performance-utils.js"></script>
    <script>
        window.performanceUtils && window.performanceUtils.initPerformanceMonitoring();
    </script>

    <style>
        /* Integrated Tools Styles */
        .tool-panel {
            background: var(--bg-primary);
            border: 1px solid #d5d8dc;
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .tool-panel.hidden {
            display: none;
        }

        .tool-header-inline {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 2px solid var(--primary-blue);
        }

        .tool-icon-inline {
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--very-light-gray) 0%, var(--light-gray) 100%);
            border-radius: var(--radius-lg);
            border: 2px solid var(--primary-blue);
        }

        .tool-title-inline {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--text-dark);
            margin: 0;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-label {
            font-weight: var(--font-semibold);
            color: var(--text-dark);
            font-size: var(--text-base);
        }

        .form-input, .form-select {
            padding: var(--space-3);
            border: 2px solid #d5d8dc;
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            transition: var(--transition);
            background: var(--bg-primary);
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .form-button {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: var(--text-white);
            border: none;
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-lg);
            font-weight: var(--font-semibold);
            font-size: var(--text-base);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
        }

        .form-button:hover {
            background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--primary-blue) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .result-panel {
            background: linear-gradient(135deg, var(--very-light-gray) 0%, var(--light-gray) 100%);
            border: 2px solid var(--success);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
            display: none;
        }

        .result-panel.visible {
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--success);
            margin-bottom: var(--space-4);
        }

        .result-content {
            font-size: var(--text-lg);
            color: var(--text-dark);
            line-height: 1.7;
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-4);
        }

        .result-item {
            background: var(--bg-primary);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            border: 1px solid #d5d8dc;
        }

        .result-item .label {
            font-weight: var(--font-semibold);
            color: var(--text-medium);
            font-size: var(--text-sm);
            margin-bottom: var(--space-1);
        }

        .result-item .value {
            font-weight: var(--font-bold);
            font-size: var(--text-lg);
            color: var(--primary-navy);
        }

        .error-panel {
            background: #fee2e2;
            border: 2px solid var(--error);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
            color: var(--error);
            display: none;
        }

        .error-panel.visible {
            display: block;
        }

        .hidden {
            display: none;
        }

        /* 改善された結果表示スタイル */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-top: var(--space-5);
        }

        .analysis-item {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 1px solid #cbd5e1;
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            transition: transform 0.2s;
        }

        .analysis-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .analysis-item h4 {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--primary-navy);
            margin-bottom: var(--space-3);
            padding-bottom: var(--space-2);
            border-bottom: 2px solid var(--primary-blue);
        }

        .analysis-item ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .analysis-item li {
            padding: var(--space-2) 0;
            color: var(--text-dark);
            font-size: var(--text-base);
            line-height: 1.6;
            border-bottom: 1px solid #e2e8f0;
        }

        .analysis-item li:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .analysis-item li strong {
            color: var(--primary-navy);
            font-weight: var(--font-bold);
            display: block;
            margin-top: var(--space-2);
            font-size: 1.05em;
        }

        .analysis-item p {
            color: var(--text-dark);
            line-height: 1.7;
            margin: var(--space-2) 0;
        }

        .result-main {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-navy) 100%);
            color: white;
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            text-align: center;
            margin-bottom: var(--space-5);
        }

        .result-value {
            font-size: var(--text-xl);
            margin-bottom: var(--space-3);
        }

        .result-value .highlight {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: #fbbf24;
            display: block;
            margin-top: var(--space-2);
        }

        .result-subtitle {
            font-size: var(--text-lg);
            opacity: 0.95;
            margin-top: var(--space-2);
        }

        /* 情報セクションの可読性向上 */
        .info-section {
            padding: var(--space-8) 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }

        .section-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--primary-navy);
            margin-bottom: var(--space-4);
            line-height: 1.4;
        }

        .section-subtitle {
            font-size: var(--text-lg);
            color: var(--text-medium);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }

        .info-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .info-card h3 {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--primary-blue);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .info-card p {
            font-size: var(--text-base);
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: var(--space-3);
        }

        .info-card ul {
            margin-top: var(--space-3);
            padding-left: var(--space-6);
        }

        .info-card li {
            font-size: var(--text-base);
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: var(--space-2);
        }

        .info-card strong {
            color: var(--primary-navy);
            font-weight: var(--font-semibold);
        }

        /* フォーム入力フィールドの可読性向上 */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-6);
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-dark);
            margin-bottom: var(--space-2);
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .form-input,
        .form-select {
            padding: var(--space-3);
            border: 2px solid #cbd5e1;
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            background: white;
            transition: all 0.2s;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-input::placeholder {
            color: #94a3b8;
        }

        .form-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            margin-top: var(--space-6);
        }

        .form-button {
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
        }

        .form-button.primary {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-navy) 100%);
            color: white;
        }

        .form-button.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .form-button.secondary {
            background: white;
            color: var(--primary-navy);
            border: 2px solid var(--primary-blue);
        }

        .form-button.secondary:hover {
            background: var(--primary-blue);
            color: white;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: var(--space-8);
            align-items: start;
        }

        .sidebar {
            background: var(--bg-primary);
            border: 1px solid #d5d8dc;
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: var(--space-6);
        }

        .sidebar-title {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--text-dark);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .tool-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .tool-nav-item {
            background: var(--bg-secondary);
            border: 2px solid #d5d8dc;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            overflow: hidden;
        }

        .tool-nav-button {
            width: 100%;
            padding: var(--space-4);
            background: none;
            border: none;
            text-align: left;
            cursor: pointer;
            color: var(--text-dark);
            font-weight: var(--font-medium);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: var(--text-base);
        }

        .tool-nav-item:hover {
            border-color: var(--primary-blue);
            background: var(--very-light-gray);
        }

        .tool-nav-item.active {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        .tool-nav-item.active .tool-nav-button {
            color: var(--text-white);
        }

        .tool-icon-nav {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
                gap: var(--space-4);
            }

            .sidebar {
                position: static;
                margin-bottom: var(--space-6);
            }

            .sidebar-title {
                text-align: center;
            }

            .tool-nav-list {
                flex-direction: row;
                overflow-x: auto;
                padding: var(--space-2);
                gap: var(--space-2);
            }

            .tool-nav-item {
                flex-shrink: 0;
                min-width: 200px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .tool-header-inline {
                flex-direction: column;
                text-align: center;
                gap: var(--space-2);
            }
        }
    </style>
</head>
<body>
    <!-- Language Bar -->
    <div class="language-bar">
        <div class="container">
            <div class="language-selector">
                <span class="language-label">🌍 言語選択:</span>
                <a href="/" class="language-link">自動選択</a>
                <a href="/en/" class="language-link">🇺🇸 English</a>
                <a href="/ja/" class="language-link current">🇯🇵 日本語</a>
                <a href="/ko/" class="language-link">🇰🇷 한국어</a>
                <a href="/vi/" class="language-link">🇻🇳 Tiếng Việt</a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title">日本給与計算機2025年最新版</h1>
                <p class="site-description">都道府県別健康保険料・年金・税金・ローン・賃貸・公共料金を正確計算 | 総合金融計算ツール</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="main-layout">
                <!-- Sidebar Navigation -->
                <aside class="sidebar">
                    <h2 class="sidebar-title">🛠️ 計算機ツール</h2>
                    <ul class="tool-nav-list">
                        <li class="tool-nav-item active" onclick="showTool('jp-year')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📅</span>
                                <span>年号変換器</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-eto')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🐉</span>
                                <span>十二支計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('election-age')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🗳️</span>
                                <span>選挙年齢チェッカー</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-tax')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📊</span>
                                <span>日本所得税計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-loan')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏠</span>
                                <span>不動産ローン計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-rent')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏢</span>
                                <span>賃貸適正性計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-utility')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">⚡</span>
                                <span>公共料金計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-transport')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🚃</span>
                                <span>交通費計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-mobile')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📱</span>
                                <span>携帯電話料金計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-food')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🍱</span>
                                <span>食費予算計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-health')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏥</span>
                                <span>健康保険料計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-housing')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏠</span>
                                <span>住居費統合計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-netpay')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">💰</span>
                                <span>手取り給与計算機</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-living')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🛒</span>
                                <span>生活費総合計算機</span>
                            </button>
                        </li>
                    </ul>
                </aside>

                <!-- Tools Content -->
                <div class="tools-content">
            <!-- 年号変換器 -->
            <div id="jp-year-tool" class="tool-panel">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📅</div>
                    <h2 class="tool-title-inline">年号変換器</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">変換方向</label>
                        <select id="conversionType" class="form-select">
                            <option value="ad-to-era">西暦 → 年号</option>
                            <option value="era-to-ad">年号 → 西暦</option>
                        </select>
                    </div>
                    <div class="form-group" id="adYearGroup">
                        <label class="form-label">西暦年度</label>
                        <input type="number" id="adYear" class="form-input" placeholder="例: 2025" min="1868" max="2030">
                    </div>
                    <div class="form-group hidden" id="eraGroup">
                        <label class="form-label">年号選択</label>
                        <select id="eraSelect" class="form-select">
                            <option value="reiwa">令和</option>
                            <option value="heisei">平成</option>
                            <option value="showa">昭和</option>
                            <option value="taisho">大正</option>
                            <option value="meiji">明治</option>
                        </select>
                    </div>
                    <div class="form-group hidden" id="eraYearGroup">
                        <label class="form-label">年号年数</label>
                        <input type="number" id="eraYear" class="form-input" placeholder="例: 7" min="1">
                    </div>
                </div>
                
                <button class="form-button" onclick="convertYear()">変換実行</button>
                
                <div id="yearResult" class="result-panel">
                    <div class="result-title">変換結果</div>
                    <div class="result-content" id="yearResultContent"></div>
                    <div class="result-details" id="yearResultDetails"></div>
                </div>
                
                <div id="yearError" class="error-panel">
                    <div id="yearErrorContent"></div>
                </div>
            </div>

            <!-- 十二支計算機 -->
            <div id="jp-eto-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🐉</div>
                    <h2 class="tool-title-inline">十二支計算機</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">生年月日</label>
                        <input type="date" id="birthDate" class="form-input">
                    </div>
                </div>
                
                <button class="form-button" onclick="calculateEto()">十二支計算</button>
                
                <div id="etoResult" class="result-panel">
                    <div class="result-title">十二支計算結果</div>
                    <div class="result-content" id="etoResultContent"></div>
                    <div class="result-details" id="etoResultDetails"></div>
                </div>
                
                <div id="etoError" class="error-panel">
                    <div id="etoErrorContent"></div>
                </div>
            </div>

            <!-- 選挙年齢チェッカー -->
            <div id="election-age-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🗳️</div>
                    <h2 class="tool-title-inline">選挙年齢チェッカー</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">生年月日</label>
                        <input type="date" id="electionBirthDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">選挙日（2025年基準）</label>
                        <input type="date" id="electionDate" class="form-input" value="2025-03-09" readonly>
                    </div>
                </div>
                
                <button class="form-button" onclick="checkElectionAge()">投票可能確認</button>
                
                <div id="electionResult" class="result-panel">
                    <div class="result-title">選挙年齢確認結果</div>
                    <div class="result-content" id="electionResultContent"></div>
                    <div class="result-details" id="electionResultDetails"></div>
                </div>
                
                <div id="electionError" class="error-panel">
                    <div id="electionErrorContent"></div>
                </div>
            </div>

            <!-- 日本所得税計算機 -->
            <div id="jp-tax-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📊</div>
                    <h2 class="tool-title-inline">日本所得税計算機（2025年税率）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">年間所得（万円）</label>
                        <input type="number" id="jpTaxIncome" class="form-input" placeholder="例: 500" min="0" max="5000" step="10">
                        <div class="form-help">※ 税引前年間総所得を万円単位で入力</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">所得の種類</label>
                        <select id="jpIncomeType" class="form-select">
                            <option value="salary">給与所得</option>
                            <option value="business">事業所得</option>
                            <option value="freelance">フリーランス所得</option>
                            <option value="investment">投資所得</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">扶養家族数</label>
                        <input type="number" id="jpTaxDependents" class="form-input" placeholder="0" min="0" max="10" value="0">
                        <div class="form-help">※ 1人あたり38万円の所得控除</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">配偶者控除</label>
                        <select id="jpTaxSpouse" class="form-select">
                            <option value="none">該当なし</option>
                            <option value="general">一般配偶者控除（38万円）</option>
                            <option value="special">配偶者特別控除（最大38万円）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">その他所得控除</label>
                        <input type="number" id="jpTaxDeductions" class="form-input" placeholder="0" min="0" max="500" step="5">
                        <div class="form-help">※ 医療費、寄附金等の追加控除額（万円単位）</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">居住形態</label>
                        <select id="jpTaxResidence" class="form-select">
                            <option value="resident">居住者</option>
                            <option value="non-resident">非居住者</option>
                            <option value="non-permanent">非永住者</option>
                        </select>
                        <div class="form-help">※ 居住形態により課税方式が変わります</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpTax()">📊 所得税計算</button>
                    <button class="form-button secondary" onclick="resetJpTax()">🔄 リセット</button>
                </div>
                
                <div id="jpTaxResult" class="result-panel">
                    <div class="result-title">📊 所得税計算結果</div>
                    <div class="result-content" id="jpTaxResultContent"></div>
                    <div class="result-details" id="jpTaxResultDetails"></div>
                </div>
                
                <div id="jpTaxError" class="error-panel">
                    <div id="jpTaxErrorContent"></div>
                </div>
                
                <!-- 税率区間別詳細分析 -->
                <div id="jpTaxBrackets" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">📋 累進税率区間別分析</div>
                    <div id="jpTaxBracketsContent"></div>
                </div>
            </div>

            <!-- 不動産ローン計算機 -->
            <div id="jp-loan-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏠</div>
                    <h2 class="tool-title-inline">日本不動産ローン計算機（2025年金利）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">不動産価格（万円）</label>
                        <input type="number" id="jpLoanPrice" class="form-input" placeholder="例: 5000" min="1000" max="50000" step="100">
                        <div class="form-help">※ 購入予定不動産の総価格</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">自己資金比率（%）</label>
                        <input type="number" id="jpLoanDownPayment" class="form-input" placeholder="20" min="5" max="80" value="20">
                        <div class="form-help">※ 自己資金の割合（一般的に10-30%）</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ローン期間（年）</label>
                        <select id="jpLoanTerm" class="form-select">
                            <option value="25">25年</option>
                            <option value="30">30年</option>
                            <option value="35" selected>35年</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">金利タイプ</label>
                        <select id="jpLoanRateType" class="form-select">
                            <option value="variable">変動金利（0.5%）</option>
                            <option value="fixed10">10年固定（0.8%）</option>
                            <option value="fixed35">35年全期間固定（1.8%）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">年収（万円）</label>
                        <input type="number" id="jpLoanIncome" class="form-input" placeholder="例: 600" min="300" max="3000" step="50">
                        <div class="form-help">※ 年間総収入（審査基準計算用）</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">その他月返済</label>
                        <input type="number" id="jpLoanOtherDebt" class="form-input" placeholder="0" min="0" max="50" value="0">
                        <div class="form-help">※ 自動車ローン、カードローン等（万円/月）</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpLoan()">🏠 ローン計算</button>
                    <button class="form-button secondary" onclick="resetJpLoan()">🔄 リセット</button>
                </div>
                
                <div id="jpLoanResult" class="result-panel">
                    <div class="result-title">🏠 ローン計算結果</div>
                    <div class="result-content" id="jpLoanResultContent"></div>
                    <div class="result-details" id="jpLoanResultDetails"></div>
                </div>
                
                <div id="jpLoanError" class="error-panel">
                    <div id="jpLoanErrorContent"></div>
                </div>
                
                <!-- ローン審査基準分析 -->
                <div id="jpLoanAnalysis" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">📈 ローン審査分析</div>
                    <div id="jpLoanAnalysisContent"></div>
                </div>
            </div>

            <!-- 賃貸適正性計算機 -->
            <div id="jp-rent-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏢</div>
                    <h2 class="tool-title-inline">日本賃貸適正性計算機</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">月給（万円）</label>
                        <input type="number" id="jpRentSalary" class="form-input" placeholder="例: 30" min="15" max="150" step="1">
                        <div class="form-help">※ 月手取り額基準</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">賃料（万円/月）</label>
                        <input type="number" id="jpRentAmount" class="form-input" placeholder="例: 8" min="3" max="50" step="0.5">
                        <div class="form-help">※ 管理費込み月額賃料</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">地域</label>
                        <select id="jpRentRegion" class="form-select">
                            <option value="tokyo-center">東京都心部（23区）</option>
                            <option value="tokyo-suburbs">東京郊外</option>
                            <option value="osaka">大阪</option>
                            <option value="nagoya">名古屋</option>
                            <option value="fukuoka">福岡</option>
                            <option value="other-major">その他大都市</option>
                            <option value="regional">地方都市</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">住居タイプ</label>
                        <select id="jpRentType" class="form-select">
                            <option value="apartment">アパート</option>
                            <option value="mansion">マンション</option>
                            <option value="house">一戸建て</option>
                            <option value="share">シェアハウス</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">間取り</label>
                        <select id="jpRentRooms" class="form-select">
                            <option value="1R">ワンルーム（1R）</option>
                            <option value="1K">1K</option>
                            <option value="1DK">1DK</option>
                            <option value="1LDK">1LDK</option>
                            <option value="2DK">2DK</option>
                            <option value="2LDK">2LDK</option>
                            <option value="3LDK">3LDK以上</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">駅徒歩時間</label>
                        <select id="jpRentStation" class="form-select">
                            <option value="5">5分以内</option>
                            <option value="10">6-10分</option>
                            <option value="15">11-15分</option>
                            <option value="20">16分以上</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpRent()">🏢 適正性分析</button>
                    <button class="form-button secondary" onclick="resetJpRent()">🔄 リセット</button>
                </div>
                
                <div id="jpRentResult" class="result-panel">
                    <div class="result-title">🏢 賃貸適正性分析</div>
                    <div class="result-content" id="jpRentResultContent"></div>
                    <div class="result-details" id="jpRentResultDetails"></div>
                </div>
                
                <div id="jpRentError" class="error-panel">
                    <div id="jpRentErrorContent"></div>
                </div>
            </div>

            <!-- 公共料金計算機 -->
            <div id="jp-utility-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">⚡</div>
                    <h2 class="tool-title-inline">日本公共料金計算機（2025年料金）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">居住地域</label>
                        <select id="jpUtilityRegion" class="form-select">
                            <option value="tepco">東京電力（関東）</option>
                            <option value="kepco">関西電力（関西）</option>
                            <option value="chubu">中部電力（中部）</option>
                            <option value="tohoku">東北電力（東北）</option>
                            <option value="kyushu">九州電力（九州）</option>
                            <option value="chugoku">中国電力（中国）</option>
                            <option value="shikoku">四国電力（四国）</option>
                            <option value="hokkaido">北海道電力（北海道）</option>
                            <option value="hokuriku">北陸電力（北陸）</option>
                            <option value="okinawa">沖縄電力（沖縄）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">住居形態</label>
                        <select id="jpUtilityHousing" class="form-select">
                            <option value="studio">ワンルーム/スタジオ</option>
                            <option value="1bedroom">1-2部屋</option>
                            <option value="family">ファミリー（3部屋以上）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">季節</label>
                        <select id="jpUtilitySeason" class="form-select">
                            <option value="spring">春（3-5月）</option>
                            <option value="summer">夏（6-8月）</option>
                            <option value="autumn">秋（9-11月）</option>
                            <option value="winter">冬（12-2月）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">エアコン使用</label>
                        <select id="jpUtilityAC" class="form-select">
                            <option value="none">使用なし</option>
                            <option value="light">時々使用</option>
                            <option value="moderate">普通に使用</option>
                            <option value="heavy">よく使用</option>
                            <option value="always">常時使用</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">主要電化製品</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityFridge"> 冷蔵庫
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityWasher"> 洗濯機
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityDryer"> 乾燥機
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityTV"> TV/モニター
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityPC"> コンピュータ
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityHeater"> 電気ヒーター
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">在宅勤務</label>
                        <select id="jpUtilityWFH" class="form-select">
                            <option value="none">在宅勤務なし</option>
                            <option value="partial">週1-2日在宅</option>
                            <option value="hybrid">週3-4日在宅</option>
                            <option value="full">完全在宅</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpUtility()">⚡ 電気料金計算</button>
                    <button class="form-button secondary" onclick="resetJpUtility()">🔄 リセット</button>
                </div>
                
                <div id="jpUtilityResult" class="result-panel">
                    <div class="result-title">⚡ 予想電気料金</div>
                    <div class="result-content" id="jpUtilityResultContent"></div>
                    <div class="result-details" id="jpUtilityResultDetails"></div>
                </div>
                
                <div id="jpUtilityError" class="error-panel">
                    <div id="jpUtilityErrorContent"></div>
                </div>
                
                <!-- 節約のコツ -->
                <div id="jpUtilitySavings" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">💡 電気料金節約のコツ</div>
                    <div id="jpUtilitySavingsContent"></div>
                </div>
            </div>

            <!-- 交通費計算機 -->
            <div id="jp-transport-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🚃</div>
                    <h2 class="tool-title-inline">日本交通費計算機（2025年料金）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">出発駅</label>
                        <input type="text" id="jpTransportFrom" class="form-input" placeholder="例：新宿駅" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">到着駅</label>
                        <input type="text" id="jpTransportTo" class="form-input" placeholder="例：東京駅" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">利用頻度</label>
                        <select id="jpTransportFreq" class="form-select">
                            <option value="daily">毎日（通勤・通学）</option>
                            <option value="weekly">週1-2回</option>
                            <option value="monthly">月数回</option>
                            <option value="occasional">時々利用</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">切符種類</label>
                        <select id="jpTransportType" class="form-select">
                            <option value="normal">普通切符</option>
                            <option value="commuter">通勤定期券</option>
                            <option value="student">学生定期券</option>
                            <option value="ic">ICカード（回数券）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">距離（km）</label>
                        <input type="number" id="jpTransportDistance" class="form-input" placeholder="10" min="1" max="100" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">路線種別</label>
                        <select id="jpTransportLine" class="form-select">
                            <option value="jr">JR線</option>
                            <option value="metro">地下鉄</option>
                            <option value="private">私鉄</option>
                            <option value="bus">バス</option>
                            <option value="mixed">複数路線</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpTransport()">🚃 交通費計算</button>
                    <button class="form-button secondary" onclick="resetJpTransport()">🔄 リセット</button>
                </div>
                
                <div id="jpTransportResult" class="result-panel">
                    <div class="result-title">🚃 交通費詳細</div>
                    <div class="result-content" id="jpTransportResultContent"></div>
                </div>
                
                <div id="jpTransportError" class="error-panel">
                    <div id="jpTransportErrorContent"></div>
                </div>
            </div>

            <!-- 携帯電話料金計算機 -->
            <div id="jp-mobile-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📱</div>
                    <h2 class="tool-title-inline">日本携帯電話料金計算機（2025年料金）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">キャリア</label>
                        <select id="jpMobileCarrier" class="form-select">
                            <option value="docomo">NTTドコモ</option>
                            <option value="au">au（KDDI）</option>
                            <option value="softbank">ソフトバンク</option>
                            <option value="rakuten">楽天モバイル</option>
                            <option value="ahamo">ahamo</option>
                            <option value="povo">povo</option>
                            <option value="linemo">LINEMO</option>
                            <option value="mineo">mineo</option>
                            <option value="uqmobile">UQモバイル</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">データ使用量</label>
                        <select id="jpMobileData" class="form-select">
                            <option value="1gb">1GB以下</option>
                            <option value="3gb">3GB</option>
                            <option value="7gb">7GB</option>
                            <option value="20gb">20GB</option>
                            <option value="unlimited">無制限</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">通話利用</label>
                        <select id="jpMobileCall" class="form-select">
                            <option value="basic">基本通話のみ</option>
                            <option value="5min">5分かけ放題</option>
                            <option value="unlimited">完全かけ放題</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">契約タイプ</label>
                        <select id="jpMobileContract" class="form-select">
                            <option value="postpaid">ポストペイド（月額制）</option>
                            <option value="prepaid">プリペイド</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">端末代金</label>
                        <select id="jpMobileDevice" class="form-select">
                            <option value="none">端末代金なし</option>
                            <option value="budget">格安機種（月1,000円）</option>
                            <option value="mid">中級機種（月2,000円）</option>
                            <option value="premium">プレミアム機種（月3,500円）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">割引適用</label>
                        <select id="jpMobileDiscount" class="form-select">
                            <option value="none">割引なし</option>
                            <option value="family">家族割引</option>
                            <option value="student">学生割引</option>
                            <option value="senior">シニア割引</option>
                            <option value="internet">光回線セット割</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpMobile()">📱 料金計算</button>
                    <button class="form-button secondary" onclick="resetJpMobile()">🔄 リセット</button>
                </div>
                
                <div id="jpMobileResult" class="result-panel">
                    <div class="result-title">📱 月額料金詳細</div>
                    <div class="result-content" id="jpMobileResultContent"></div>
                </div>
                
                <div id="jpMobileError" class="error-panel">
                    <div id="jpMobileErrorContent"></div>
                </div>
            </div>

            <!-- 食費予算計算機 -->
            <div id="jp-food-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🍱</div>
                    <h2 class="tool-title-inline">日本食費予算計算機（2025年物価）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">世帯人数</label>
                        <select id="jpFoodFamily" class="form-select">
                            <option value="1">一人暮らし</option>
                            <option value="2">二人暮らし</option>
                            <option value="3">三人家族</option>
                            <option value="4">四人家族</option>
                            <option value="5">五人以上</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">食事スタイル</label>
                        <select id="jpFoodStyle" class="form-select">
                            <option value="home-cooking">自炊中心</option>
                            <option value="mixed">自炊+外食混合</option>
                            <option value="convenience">コンビニ+外食</option>
                            <option value="restaurant">外食中心</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">居住地域</label>
                        <select id="jpFoodRegion" class="form-select">
                            <option value="tokyo">東京都心部</option>
                            <option value="osaka">大阪市内</option>
                            <option value="yokohama">横浜市内</option>
                            <option value="regional">地方都市</option>
                            <option value="rural">地方・郊外</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">食材へのこだわり</label>
                        <select id="jpFoodPreference" class="form-select">
                            <option value="budget">節約重視</option>
                            <option value="normal">標準的</option>
                            <option value="quality">品質重視</option>
                            <option value="organic">オーガニック志向</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">お酒・飲み物</label>
                        <select id="jpFoodDrinking" class="form-select">
                            <option value="none">なし</option>
                            <option value="light">時々飲酒</option>
                            <option value="moderate">週末飲酒</option>
                            <option value="regular">定期的飲酒</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ランチスタイル</label>
                        <select id="jpFoodLunch" class="form-select">
                            <option value="bento">弁当持参</option>
                            <option value="cafeteria">社食・学食</option>
                            <option value="convenience">コンビニ</option>
                            <option value="restaurant">レストラン</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpFood()">🍱 食費計算</button>
                    <button class="form-button secondary" onclick="resetJpFood()">🔄 リセット</button>
                </div>
                
                <div id="jpFoodResult" class="result-panel">
                    <div class="result-title">🍱 月間食費詳細</div>
                    <div class="result-content" id="jpFoodResultContent"></div>
                </div>
                
                <div id="jpFoodError" class="error-panel">
                    <div id="jpFoodErrorContent"></div>
                </div>
            </div>

            <!-- 健康保険料計算機 -->
            <div id="jp-health-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏥</div>
                    <h2 class="tool-title-inline">日本健康保険料計算機（2025年料率）</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">月額給与（万円）</label>
                        <input type="number" id="jpHealthSalary" class="form-input" placeholder="30" min="15" max="200" step="1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">都道府県</label>
                        <select id="jpHealthPrefecture" class="form-select">
                            <option value="tokyo">東京都</option>
                            <option value="osaka">大阪府</option>
                            <option value="kanagawa">神奈川県</option>
                            <option value="aichi">愛知県</option>
                            <option value="saitama">埼玉県</option>
                            <option value="chiba">千葉県</option>
                            <option value="hyogo">兵庫県</option>
                            <option value="hokkaido">北海道</option>
                            <option value="fukuoka">福岡県</option>
                            <option value="other">その他</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">年齢</label>
                        <input type="number" id="jpHealthAge" class="form-input" placeholder="30" min="20" max="75" step="1" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">雇用形態</label>
                        <select id="jpHealthEmployment" class="form-select">
                            <option value="employee">会社員（被保険者）</option>
                            <option value="self-employed">自営業（国民健康保険）</option>
                            <option value="part-time">パート・アルバイト</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">扶養人数</label>
                        <input type="number" id="jpHealthDependents" class="form-input" placeholder="0" min="0" max="10" step="1" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">年間賞与（万円）</label>
                        <input type="number" id="jpHealthBonus" class="form-input" placeholder="100" min="0" max="500" step="10">
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpHealth()">🏥 健康保険料計算</button>
                    <button class="form-button secondary" onclick="resetJpHealth()">🔄 リセット</button>
                </div>
                
                <div id="jpHealthResult" class="result-panel">
                    <div class="result-title">🏥 健康保険料詳細</div>
                    <div class="result-content" id="jpHealthResultContent"></div>
                </div>
                
                <div id="jpHealthError" class="error-panel">
                    <div id="jpHealthErrorContent"></div>
                </div>
            </div>

            <!-- 1. 住居費統合計算機 -->
            <div id="jp-housing-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏠</div>
                    <h2 class="tool-title-inline">住居費統合計算機（2025年基準）</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">月額賃料（万円）</label>
                        <input type="number" id="jpHousingRent" class="form-input" placeholder="例: 8" min="3" max="50" step="0.5">
                    </div>
                    <div class="form-group">
                        <label class="form-label">管理費（円）</label>
                        <input type="number" id="jpHousingManagement" class="form-input" placeholder="例: 5000" min="0" max="30000" step="1000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">敷金（ヶ月分）</label>
                        <select id="jpHousingDeposit" class="form-select">
                            <option value="0">敷金なし</option>
                            <option value="1" selected>1ヶ月分</option>
                            <option value="2">2ヶ月分</option>
                            <option value="3">3ヶ月分</option>
                            <option value="6">6ヶ月分</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">礼金（ヶ月分）</label>
                        <select id="jpHousingKeyMoney" class="form-select">
                            <option value="0" selected>礼金なし</option>
                            <option value="1">1ヶ月分</option>
                            <option value="2">2ヶ月分</option>
                            <option value="3">3ヶ月分</option>
                            <option value="6">6ヶ月分</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">仲介手数料</label>
                        <select id="jpHousingBrokerage" class="form-select">
                            <option value="0.5">0.5ヶ月分（一般的）</option>
                            <option value="1" selected>1ヶ月分</option>
                            <option value="1.5">1.5ヶ月分</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">火災保険料（年間）</label>
                        <input type="number" id="jpHousingInsurance" class="form-input" placeholder="例: 15000" min="10000" max="50000" value="15000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">地域</label>
                        <select id="jpHousingRegion" class="form-select">
                            <option value="tokyo">東京（高コスト）</option>
                            <option value="osaka" selected>大阪（中コスト）</option>
                            <option value="yokohama">横浜</option>
                            <option value="nagoya">名古屋</option>
                            <option value="sapporo">札幌</option>
                            <option value="fukuoka">福岡</option>
                            <option value="regional">地方都市（低コスト）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">住居タイプ</label>
                        <select id="jpHousingType" class="form-select">
                            <option value="apartment" selected>アパート</option>
                            <option value="mansion">マンション</option>
                            <option value="house">一戸建て</option>
                            <option value="share">シェアハウス</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpHousing()">💰 住居費計算</button>
                    <button class="form-button secondary" onclick="resetJpHousing()">🔄 リセット</button>
                </div>

                <div id="jpHousingResult" class="result-panel">
                    <h3>💰 住居費詳細分析</h3>
                    <div class="result-content" id="jpHousingResultContent"></div>
                    <div class="result-details" id="jpHousingResultDetails"></div>
                </div>

                <div id="jpHousingError" class="error-panel">
                    <div id="jpHousingErrorContent"></div>
                </div>
            </div>

            <!-- 2. 手取り給与計算機 -->
            <div id="jp-netpay-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">💰</div>
                    <h2 class="tool-title-inline">手取り給与計算機（2025年税率）</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">月額総給与（万円）</label>
                        <input type="number" id="jpNetpayGross" class="form-input" placeholder="例: 30" min="15" max="150" step="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">年間賞与（万円）</label>
                        <input type="number" id="jpNetpayBonus" class="form-input" placeholder="例: 100" min="0" max="500" step="10" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">居住地</label>
                        <select id="jpNetpayRegion" class="form-select">
                            <option value="tokyo">東京都</option>
                            <option value="osaka" selected>大阪府</option>
                            <option value="kanagawa">神奈川県</option>
                            <option value="aichi">愛知県</option>
                            <option value="saitama">埼玉県</option>
                            <option value="chiba">千葉県</option>
                            <option value="hyogo">兵庫県</option>
                            <option value="hokkaido">北海道</option>
                            <option value="fukuoka">福岡県</option>
                            <option value="other">その他の県</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">年齢</label>
                        <input type="number" id="jpNetpayAge" class="form-input" placeholder="例: 30" min="18" max="70" value="30">
                    </div>
                    <div class="form-group">
                        <label class="form-label">扶養家族数</label>
                        <input type="number" id="jpNetpayDependents" class="form-input" placeholder="0" min="0" max="10" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">配偶者状況</label>
                        <select id="jpNetpaySpouse" class="form-select">
                            <option value="none" selected>配偶者なし</option>
                            <option value="dependent">扶養配偶者あり</option>
                            <option value="working">共働き</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">雇用形態</label>
                        <select id="jpNetpayEmployment" class="form-select">
                            <option value="fulltime" selected>正社員</option>
                            <option value="contract">契約社員</option>
                            <option value="parttime">パートタイム</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">その他所得控除（万円/年）</label>
                        <input type="number" id="jpNetpayDeductions" class="form-input" placeholder="例: 50" min="0" max="200" step="5" value="0">
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpNetpay()">💰 手取り額計算</button>
                    <button class="form-button secondary" onclick="resetJpNetpay()">🔄 リセット</button>
                </div>

                <div id="jpNetpayResult" class="result-panel">
                    <h3>💰 給与手取り額詳細分析</h3>
                    <div class="result-content" id="jpNetpayResultContent"></div>
                    <div class="result-details" id="jpNetpayResultDetails"></div>
                </div>

                <div id="jpNetpayError" class="error-panel">
                    <div id="jpNetpayErrorContent"></div>
                </div>
            </div>

            <!-- 3. 生活費総合計算機 -->
            <div id="jp-living-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🛒</div>
                    <h2 class="tool-title-inline">生活費総合計算機（2025年物価）</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">家族構成員数</label>
                        <select id="jpLivingFamily" class="form-select">
                            <option value="1" selected>1名（一人暮らし）</option>
                            <option value="2">2名（夫婦・カップル）</option>
                            <option value="3">3名（夫婦＋子供1）</option>
                            <option value="4">4名（夫婦＋子供2）</option>
                            <option value="5">5名以上</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">居住地域</label>
                        <select id="jpLivingRegion" class="form-select">
                            <option value="tokyo">東京（最高額）</option>
                            <option value="osaka" selected>大阪（高額）</option>
                            <option value="yokohama">横浜</option>
                            <option value="nagoya">名古屋</option>
                            <option value="sapporo">札幌</option>
                            <option value="fukuoka">福岡</option>
                            <option value="regional">地方中小都市</option>
                            <option value="rural">田舎・農村部</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">生活スタイル</label>
                        <select id="jpLivingStyle" class="form-select">
                            <option value="minimal">節約型（必需品のみ）</option>
                            <option value="standard" selected>一般型（平均的）</option>
                            <option value="comfortable">余裕型（利便性重視）</option>
                            <option value="luxury">高級型（品質重視）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">外食頻度</label>
                        <select id="jpLivingDining" class="form-select">
                            <option value="rarely">ほとんどしない（月1-2回）</option>
                            <option value="occasional" selected>時々（週1-2回）</option>
                            <option value="frequent">よくする（週3-4回）</option>
                            <option value="mostly">主に外食（週5回以上）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">交通費込み</label>
                        <select id="jpLivingTransport" class="form-select">
                            <option value="none">交通費なし</option>
                            <option value="minimal">最小限（徒歩・自転車中心）</option>
                            <option value="public" selected>公共交通機関利用</option>
                            <option value="mixed">公共交通＋タクシー併用</option>
                            <option value="car">自動車保有</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">娯楽・文化活動</label>
                        <select id="jpLivingEntertainment" class="form-select">
                            <option value="minimal">最小限（主に自宅）</option>
                            <option value="moderate" selected>適度（月2-3回）</option>
                            <option value="active">活発（週1-2回）</option>
                            <option value="frequent">頻繁（週3回以上）</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ショッピング傾向</label>
                        <select id="jpLivingShopping" class="form-select">
                            <option value="essential">必需品のみ購入</option>
                            <option value="moderate" selected>普通レベル</option>
                            <option value="frequent">よくショッピング</option>
                            <option value="luxury">高級ブランド好み</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">貯蓄目標</label>
                        <select id="jpLivingSavings" class="form-select">
                            <option value="none">貯蓄しない</option>
                            <option value="minimal">少額貯蓄（5-10%）</option>
                            <option value="moderate" selected>適正貯蓄（15-20%）</option>
                            <option value="aggressive">積極貯蓄（25%以上）</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpLiving()">🛒 生活費計算</button>
                    <button class="form-button secondary" onclick="resetJpLiving()">🔄 リセット</button>
                </div>

                <div id="jpLivingResult" class="result-panel">
                    <h3>🛒 月間生活費詳細分析</h3>
                    <div class="result-content" id="jpLivingResultContent"></div>
                    <div class="result-details" id="jpLivingResultDetails"></div>
                </div>

                <div id="jpLivingError" class="error-panel">
                    <div id="jpLivingErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Era Converter Info Section -->
            <section id="jp-year-info" class="info-section" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">📅 日本年号変換器 - 詳細ガイド</h2>
                        <p class="section-subtitle">
                            明治から令和まで、すべての年号と西暦の正確な相互変換。公文書や履歴書作成に必須の年号知識。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📅 日本元号制度（年号システム）の詳細解説</h3>
                            <p>
                                <strong>元号制度（げんごうせいど）</strong>は、日本独自の年の表記方法で、天皇の在位期間に基づいて定められます。現在使用される主な元号は以下の通りです：
                            </p>
                            <ul>
                                <li><strong>明治（めいじ）</strong>：1868年1月25日〜1912年7月30日（45年間）</li>
                                <li><strong>大正（たいしょう）</strong>：1912年7月30日〜1926年12月25日（15年間）</li>
                                <li><strong>昭和（しょうわ）</strong>：1926年12月25日〜1989年1月7日（64年間）</li>
                                <li><strong>平成（へいせい）</strong>：1989年1月8日〜2019年4月30日（31年間）</li>
                                <li><strong>令和（れいわ）</strong>：2019年5月1日〜現在</li>
                            </ul>
                            <p>
                                各元号の変更日時は正確に定められており、履歴書や公的文書では正しい元号表記が求められます。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>📋 公文書での年号使用と実生活での活用</h3>
                            <p>
                                日本の公的機関では<strong>元号表記が標準</strong>となっており、以下の場面で正確な変換が必要です：
                            </p>
                            <ul>
                                <li><strong>履歴書・職務経歴書</strong>：学歴・職歴は元号で記載</li>
                                <li><strong>戸籍・住民票</strong>：生年月日は元号表記</li>
                                <li><strong>税務申告書</strong>：所得税・住民税申告では元号使用</li>
                                <li><strong>契約書・公証書</strong>：法的文書では元号が正式</li>
                                <li><strong>学校・大学の証明書</strong>：卒業証明書等は元号表記</li>
                            </ul>
                            <p>
                                <strong>実務ポイント：</strong>平成生まれの方は就職活動時に元号変換が頻繁に必要になるため、
                                自分の生年や重要な年の元号変換を覚えておくと便利です。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🎯 正確な年号変換の重要性と地域特性</h3>
                            <p>
                                年号の変わり目は<strong>年の途中</strong>で発生するため、同じ西暦年でも異なる元号が混在します：
                            </p>
                            <ul>
                                <li><strong>昭和64年/平成元年</strong>：1989年（1月1日〜7日は昭和64年、1月8日〜は平成元年）</li>
                                <li><strong>平成31年/令和元年</strong>：2019年（1月1日〜4月30日は平成31年、5月1日〜は令和元年）</li>
                            </ul>
                            <p>
                                <strong>地域による使い分け：</strong>
                            </p>
                            <ul>
                                <li><strong>官公庁・自治体</strong>：必ず元号使用（全国統一）</li>
                                <li><strong>民間企業</strong>：業界により異なる（金融機関は元号重視、IT企業は西暦使用が多い）</li>
                                <li><strong>教育機関</strong>：文部科学省系は元号、国際系は西暦併用</li>
                                <li><strong>医療機関</strong>：カルテは西暦、公的書類は元号</li>
                            </ul>
                            <p>
                                <strong>節約ポイント：</strong>履歴書用紙購入時は元号欄があるものを選び、
                                間違いを防いで書き直しコストを削減できます。
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 年号変換器 FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 年号変換の精度は正確ですか？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: はい、すべての年号の開始・終了年月日を正確に反映して計算しています。明治（1868-1912）、大正（1912-1926）、昭和（1926-1989）、平成（1989-2019）、令和（2019-現在）の正確な期間を基準としています。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 年号と西暦の変換方法は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 変換方向（西暦→年号、年号→西暦）を選択し、年を入力してから変換ボタンをクリックしてください。システムが自動的に正しい年号を判定し、詳細な変換情報を提供します。</p>
                            </div>

                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 履歴書作成時の注意点は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 履歴書では統一して元号または西暦のどちらかを使用します。多くの日本企業では元号使用が慣例です。学歴・職歴の年月は正確な元号で記載し、特に年号切り替わり年（1989年、2019年）は月まで注意して記入してください。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Zodiac Calculator Info Section -->
            <section id="jp-eto-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🐉 十二支計算器 - 干支ガイド</h2>
                        <p class="section-subtitle">
                            伝統的な東洋暦に基づく干支（かんし）文化と十二支動物の詳細解説。日本の暦と文化の深い理解。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🐉 日本の干支文化と十二支動物の意味</h3>
                            <p>
                                <strong>干支（かんし）</strong>は、十干（じっかん）と十二支（じゅうにし）を組み合わせた60年周期の暦体系です。
                                日本では主に十二支が広く親しまれており、各動物には深い文化的意味があります：
                            </p>
                            <ul>
                                <li><strong>子（ね・ねずみ）</strong>：勤勉、繁栄、知恵 - 商売繁盛の象徴</li>
                                <li><strong>丑（うし）</strong>：忍耐、誠実、努力 - 農業の守り神</li>
                                <li><strong>寅（とら）</strong>：勇気、決断力、リーダーシップ - 邪気払いの象徴</li>
                                <li><strong>卯（う・うさぎ）</strong>：温和、跳躍、飛躍 - 月の使者として崇拝</li>
                                <li><strong>辰（たつ・りゅう）</strong>：権威、成功、昇龍 - 最も縁起の良い干支</li>
                                <li><strong>巳（み・へび）</strong>：知恵、再生、脱皮 - 金運の象徴</li>
                            </ul>
                            <p>
                                年賀状や新年の挨拶では、その年の干支が重要な役割を果たし、
                                お守りや置物としても親しまれています。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🌸 立春基準の正確な計算と60年周期システム</h3>
                            <p>
                                伝統的な干支計算は<strong>立春（2月4日頃）</strong>を年の始まりとしており、
                                1月1日の元日ではありません。これは以下の理由によります：
                            </p>
                            <ul>
                                <li><strong>旧暦の影響</strong>：中国から伝来した陰陽五行思想に基づく</li>
                                <li><strong>二十四節気</strong>：立春は春の始まりを表す最重要節気</li>
                                <li><strong>占術・風水</strong>：正確な運勢判定には立春基準が必須</li>
                            </ul>
                            <p>
                                <strong>60年周期（還暦）の仕組み：</strong>
                                十干（甲・乙・丙・丁・戊・己・庚・辛・壬・癸）と
                                十二支の組み合わせで60通りの年が生まれます。
                                60歳を「還暦（かんれき）」と呼ぶのはここから来ています。
                            </p>
                            <p>
                                <strong>地域差：</strong>沖縄では中国文化の影響が強く、
                                本土と異なる干支解釈が残っている場合があります。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🎯 現代日本での干支活用と実用的な節約術</h3>
                            <p>
                                現代の日本社会でも干支は様々な場面で活用されており、
                                知識を持つことで生活に役立てることができます：
                            </p>
                            <ul>
                                <li><strong>年賀状作成</strong>：その年の干支デザインで印象アップ</li>
                                <li><strong>お正月飾り</strong>：干支の置物で開運祈願</li>
                                <li><strong>ビジネス会話</strong>：年配の方との話題作りに最適</li>
                                <li><strong>お守り・縁起物</strong>：自分の干支グッズで運気向上</li>
                                <li><strong>神社参拝</strong>：干支に関する神社で特別祈願</li>
                            </ul>
                            <p>
                                <strong>節約ポイント：</strong>
                            </p>
                            <ul>
                                <li><strong>年賀状印刷</strong>：干支デザインテンプレートを自作で年間3,000円節約</li>
                                <li><strong>お正月準備</strong>：100円ショップの干支グッズで飾り付け費用削減</li>
                                <li><strong>贈り物選び</strong>：相手の干支を考慮したプレゼントで喜ばれ、リピート購入不要</li>
                                <li><strong>御朱印集め</strong>：干支ゆかりの神社巡りで趣味と節約を両立</li>
                            </ul>
                            <p>
                                <strong>関西vs関東：</strong>関西では商売繁盛の観点から干支を重視する傾向があり、
                                関東では学問・出世運の視点が強い地域差が見られます。
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 十二支計算器 FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 十二支計算の立春基準とは何ですか？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 伝統的に十二支は立春（通常2月4日頃）を基準に計算されます。例えば1月生まれの場合、前年の十二支が適用されます。これは伝統的な東洋暦システムに従ったもので、占術や風水では正確な運勢判定に必要不可欠です。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 60年周期の還暦とは何ですか？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 十干（甲乙丙丁戊己庚辛壬癸）と十二支の組み合わせで60通りの年があり、60年で一巡します。これが「還暦」の由来で、60歳で生まれた年の干支に還ることから赤いちゃんちゃんこを着てお祝いする習慣があります。</p>
                            </div>

                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 干支を日常生活に活かす方法は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 年賀状のデザイン選択、お正月の飾り付け、ビジネスでの話題作り、神社参拝時の特別祈願など、様々な場面で活用できます。特に年配の方とのコミュニケーションでは、干支の知識があると会話が弾み、良好な関係構築に役立ちます。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Election Age Checker Info Section -->
            <section id="election-age-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🗳️ 選挙年齢確認器 - 投票資格ガイド</h2>
                        <p class="section-subtitle">
                            現在の年齢要件に基づいて、選挙での投票資格を確認してください。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🗳️ 投票年齢要件</h3>
                            <p>
                                最低投票年齢は<strong>18歳</strong>です。このツールは選挙日での正確な年齢を計算し、
                                今後の選挙での投票資格を判定します。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>📅 年齢計算方法</h3>
                            <p>
                                システムは選挙日における正確な年齢（年数）を計算します。投票資格を得るには選挙日に18歳以上である必要があります。
                                計算では閏年や正確な生年月日を考慮して精密な結果を提供します。
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 選挙年齢確認 FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 投票年齢基準は変わりますか？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 現在、18歳以上の方が投票可能で、これは選挙法で規定されています。法律が変更された場合、内容も更新されます。2025年の大統領選挙を基準に設定されています。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 選挙日後に18歳になる場合は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 選挙日以前に18歳になっている必要があります。選挙後に18歳になる場合、その特定の選挙では投票資格がありません。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Income Tax Calculator Info Section -->
            <section id="jp-tax-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">📊 日本所得税計算器2025 - 完全ガイド</h2>
                        <p class="section-subtitle">
                            2025年最新税率と累進税率表を使用した正確な日本所得税計算。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📊 2025年日本所得税累進税率と詳細計算方法</h3>
                            <p>
                                <strong>日本の累進所得税制度</strong>は所得が高いほど税率が上がる仕組みで、
                                給与計画や転職・副業収入の計算に重要です：
                            </p>
                            <ul>
                                <li><strong>第1段階</strong>：195万円以下 → 5%</li>
                                <li><strong>第2段階</strong>：195万円超～330万円以下 → 10%（控除額97,500円）</li>
                                <li><strong>第3段階</strong>：330万円超～695万円以下 → 20%（控除額427,500円）</li>
                                <li><strong>第4段階</strong>：695万円超～900万円以下 → 23%（控除額636,000円）</li>
                                <li><strong>第5段階</strong>：900万円超～1,800万円以下 → 33%（控除額1,536,000円）</li>
                                <li><strong>第6段階</strong>：1,800万円超～4,000万円以下 → 40%（控除額2,796,000円）</li>
                                <li><strong>第7段階</strong>：4,000万円超 → 45%（控除額4,796,000円）</li>
                            </ul>
                            <p>
                                <strong>復興特別所得税</strong>：所得税額の2.1%が追加で課税
                                <br><strong>実効税率</strong>：住民税10%、社会保険料約15%を含めると、
                                年収500万円で約25%、年収1,000万円で約35%の負担率となります。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💰 所得控除の種類と節税効果</h3>
                            <p>
                                所得控除を最大限活用することで、大幅な節税が可能です：
                            </p>
                            <ul>
                                <li><strong>基礎控除</strong>：48万円（全員適用）</li>
                                <li><strong>給与所得控除</strong>：年収により55万円～195万円</li>
                                <li><strong>配偶者控除</strong>：38万円（年収103万円以下の配偶者）</li>
                                <li><strong>配偶者特別控除</strong>：最大38万円（年収103万円超～201万円以下）</li>
                                <li><strong>扶養控除</strong>：一般38万円、特定扶養63万円、老人扶養48万円</li>
                                <li><strong>社会保険料控除</strong>：支払額全額（年収の約15%）</li>
                                <li><strong>生命保険料控除</strong>：最大12万円</li>
                                <li><strong>地震保険料控除</strong>：最大5万円</li>
                                <li><strong>医療費控除</strong>：10万円超の部分（最大200万円）</li>
                                <li><strong>住宅ローン控除</strong>：年末残高の0.7%（最大35万円×13年）</li>
                            </ul>
                            <p>
                                <strong>節税例</strong>：年収600万円、配偶者・子供1人の場合、
                                基本控除だけでも約150万円控除で年間約30万円の節税効果。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🎯 地域別税負担と実用的節税戦略</h3>
                            <p>
                                <strong>地域による税負担差：</strong>
                            </p>
                            <ul>
                                <li><strong>所得税</strong>：全国一律（国税）</li>
                                <li><strong>住民税</strong>：ほぼ一律10%（一部地域で若干の差）</li>
                                <li><strong>東京都</strong>：住民税等の均等割が若干高い（年5,000円）</li>
                                <li><strong>夕張市</strong>：財政再建団体のため住民税率が高い（11.5%）</li>
                                <li><strong>森林環境税</strong>：2024年から年間1,000円（全国一律）</li>
                            </ul>
                            <p>
                                <strong>実用的な節税戦略：</strong>
                            </p>
                            <ul>
                                <li><strong>iDeCoの活用</strong>：月額2.3万円拠出で年間約8万円節税</li>
                                <li><strong>ふるさと納税</strong>：上限額まで利用で実質2,000円負担</li>
                                <li><strong>NISA・つみたてNISA</strong>：運用益非課税</li>
                                <li><strong>小規模企業共済</strong>：年間84万円まで拠出可能</li>
                                <li><strong>医療費控除</strong>：家族分まとめて確定申告</li>
                                <li><strong>副業の経費計上</strong>：在宅ワーク関連費用を適切に計上</li>
                            </ul>
                            <p>
                                <strong>年収別節税目安：</strong>年収400万円で年間10-15万円、
                                年収800万円で年間20-35万円の節税が可能です。
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 所得税計算 FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 2025年税計算の精度は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 当計算器は最新の2025年日本税率と税率表を使用しています。結果には復興特別税（2.1%）が含まれ、入力に基づいて適切な控除が適用されます。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 税計算に含まれるものは？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 計算には所得税、復興特別所得税、給与所得控除、基礎控除、扶養控除、配偶者控除が該当する場合に含まれます。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Real Estate Loan Calculator Info Section -->
            <section id="jp-loan-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏠 日本不動産ローン計算器 - 住宅購入ガイド</h2>
                        <p class="section-subtitle">
                            日本の不動産購入のための住宅ローン支払いと融資資格を計算。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏠 日本住宅ローンの金利体系と選択指針</h3>
                            <p>
                                日本の住宅ローンは金利タイプによって大きな違いがあり、
                                総返済額に数百万円の差が出ることもあります：
                            </p>
                            <ul>
                                <li><strong>変動金利</strong>：0.3-0.6%（2025年現在）- 金利上昇リスクあり</li>
                                <li><strong>10年固定金利</strong>：0.7-1.2% - 当初10年は安心</li>
                                <li><strong>20年固定金利</strong>：1.3-1.8% - 中期安定志向</li>
                                <li><strong>35年全期間固定（フラット35）</strong>：1.6-2.0% - 完全安心型</li>
                            </ul>
                            <p>
                                <strong>金利選択のコツ：</strong>
                            </p>
                            <ul>
                                <li><strong>変動金利</strong>：金利上昇に対応できる余裕資金がある方</li>
                                <li><strong>固定金利</strong>：返済計画を確実に立てたい方</li>
                                <li><strong>ミックス型</strong>：変動50%+固定50%でリスク分散</li>
                            </ul>
                            <p>
                                <strong>主要銀行比較</strong>：ネット銀行（住信SBI、楽天銀行）は低金利、
                                メガバンクは手厚いサポート、地方銀行は地域密着サービスが特徴。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>📈 ローン審査基準と承認率向上策</h3>
                            <p>
                                住宅ローンの審査は複数の要素を総合的に判断されます：
                            </p>
                            <ul>
                                <li><strong>返済負担率</strong>：年収の25-35%以内（理想は25%以内）</li>
                                <li><strong>勤続年数</strong>：正社員3年以上、転職直後は不利</li>
                                <li><strong>年収</strong>：安定収入が重要（最低300万円以上が目安）</li>
                                <li><strong>健康状態</strong>：団体信用生命保険への加入が必須</li>
                                <li><strong>個人信用情報</strong>：クレジットカード事故歴は影響大</li>
                            </ul>
                            <p>
                                <strong>審査通過率アップのコツ：</strong>
                            </p>
                            <ul>
                                <li><strong>複数金融機関に申込み</strong>：審査基準が異なる</li>
                                <li><strong>頭金を多めに準備</strong>：20%以上で金利優遇</li>
                                <li><strong>既存借入の完済</strong>：カードローン等は事前完済</li>
                                <li><strong>勤務先の規模</strong>：上場企業・公務員は有利</li>
                            </ul>
                            <p>
                                <strong>外国人の特別要件</strong>：永住権または日本人配偶者、勤続3年以上、
                                日本語での収入証明が一般的に必要です。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🎯 地域別住宅価格と資金計画の実用戦略</h3>
                            <p>
                                <strong>地域別住宅価格相場（2025年）：</strong>
                            </p>
                            <ul>
                                <li><strong>東京都心部</strong>：新築マンション平均8,000-15,000万円</li>
                                <li><strong>東京郊外</strong>：新築戸建て4,000-8,000万円</li>
                                <li><strong>大阪市内</strong>：新築マンション3,000-7,000万円</li>
                                <li><strong>名古屋市内</strong>：新築戸建て3,000-6,000万円</li>
                                <li><strong>福岡市内</strong>：新築マンション2,500-4,500万円</li>
                                <li><strong>札幌市内</strong>：新築戸建て2,000-4,000万円</li>
                            </ul>
                            <p>
                                <strong>頭金・諸費用の準備目安：</strong>
                            </p>
                            <ul>
                                <li><strong>頭金</strong>：物件価格の10-20%（理想は20%以上）</li>
                                <li><strong>諸費用</strong>：物件価格の7-10%（登記費用、税金、仲介手数料等）</li>
                                <li><strong>引越し・家具費</strong>：100-300万円</li>
                                <li><strong>予備資金</strong>：年収の6ヶ月分以上</li>
                            </ul>
                            <p>
                                <strong>資金調達の節約術：</strong>
                            </p>
                            <ul>
                                <li><strong>親からの贈与活用</strong>：住宅取得資金贈与は非課税枠あり</li>
                                <li><strong>住宅ローン控除最大化</strong>：年末残高の0.7%×13年間</li>
                                <li><strong>すまい給付金</strong>：収入により最大50万円</li>
                                <li><strong>地域型住宅グリーン化事業</strong>：補助金100万円</li>
                                <li><strong>ネット銀行活用</strong>：事務手数料・保証料の節約</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 不動産ローン FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 頭金はいくら必要ですか？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: ほとんどの日本の銀行は10-30%の頭金を要求します。頭金が多い（20%以上）とより良い金利とローン条件を得ることができます。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: ローン承認の可能性に影響する要因は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 主要な要因には債務収入比率（25%以下が望ましい）、安定した雇用、信用履歴、頭金額が含まれます。外国人居住者は追加要件に直面する場合があります。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Rental Calculator Info Section -->
            <section id="jp-rent-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏢 日本賃貸適正性計算器 - 住宅ガイド</h2>
                        <p class="section-subtitle">
                            日本での賃貸費用を分析し、収入に適した住宅費を決定。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏢 日本賃貸市場の地域別相場と特徴</h3>
                            <p>
                                日本の賃貸住宅市場は地域間で大きな価格差があり、ライフスタイルに合わせた選択が重要です：
                            </p>
                            <ul>
                                <li><strong>東京都心部（港区・千代田区・中央区）</strong>：1K 12-25万円、2LDK 20-50万円</li>
                                <li><strong>東京23区内</strong>：1K 7-15万円、2LDK 12-30万円</li>
                                <li><strong>東京近郊（埼玉・千葉・神奈川）</strong>：1K 5-10万円、2LDK 8-20万円</li>
                                <li><strong>大阪市内</strong>：1K 5-12万円、2LDK 8-25万円</li>
                                <li><strong>名古屋市内</strong>：1K 4-8万円、2LDK 7-18万円</li>
                                <li><strong>福岡市内</strong>：1K 3-6万円、2LDK 6-15万円</li>
                                <li><strong>札幌市内</strong>：1K 3-5万円、2LDK 5-12万円</li>
                            </ul>
                            <p>
                                <strong>推奨家賃収入比率</strong>：手取り給与の25-30%が理想。
                                東京では35%まで許容される場合もありますが、生活の質に影響します。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🌍 地域選択の総合判断基準</h3>
                            <p>
                                賃料だけでなく、総合的な生活コストと利便性を考慮することが重要です：
                            </p>
                            <ul>
                                <li><strong>通勤交通費</strong>：月額2-3万円も珍しくない（企業負担上限あり）</li>
                                <li><strong>買い物利便性</strong>：都心はスーパー・コンビニ豊富、郊外は車必要な場合も</li>
                                <li><strong>医療・教育施設</strong>：都心部は病院・学校へのアクセス良好</li>
                                <li><strong>娯楽・文化施設</strong>：映画館・美術館・コンサート会場は都市部に集中</li>
                                <li><strong>将来性</strong>：再開発計画・人口動態を考慮</li>
                            </ul>
                            <p>
                                <strong>地域別メリット・デメリット：</strong>
                            </p>
                            <ul>
                                <li><strong>都心部</strong>：利便性抜群だが家賃高・住空間狭い</li>
                                <li><strong>近郊住宅地</strong>：住環境良好・家賃適正だが通勤時間長</li>
                                <li><strong>地方都市</strong>：家賃安・住空間広いが就職機会限定</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎯 賃貸コスト最適化と節約戦略</h3>
                            <p>
                                <strong>初期費用の内訳と節約ポイント：</strong>
                            </p>
                            <ul>
                                <li><strong>敷金・礼金</strong>：それぞれ家賃1-2ヶ月分（ゼロゼロ物件もあり）</li>
                                <li><strong>仲介手数料</strong>：家賃1ヶ月分+消費税（交渉可能）</li>
                                <li><strong>前家賃</strong>：入居月の日割り+翌月分</li>
                                <li><strong>火災保険料</strong>：2年間で1.5-3万円（自分で選択可能）</li>
                                <li><strong>鍵交換費用</strong>：1.5-3万円（交渉で削減可能）</li>
                            </ul>
                            <p>
                                <strong>月々のコスト削減術：</strong>
                            </p>
                            <ul>
                                <li><strong>家賃交渉</strong>：更新時期や近隣相場を根拠に月5,000-10,000円減額</li>
                                <li><strong>共益費見直し</strong>：管理内容確認で適正価格判断</li>
                                <li><strong>光熱費最適化</strong>：電力・ガス自由化で月2,000-5,000円節約</li>
                                <li><strong>インターネット費用</strong>：建物一括契約で月3,000-6,000円節約</li>
                                <li><strong>駐車場代替案</strong>：月極駐車場・カーシェアリング比較</li>
                            </ul>
                            <p>
                                <strong>年間節約効果例</strong>：家賃交渉5,000円+光熱費3,000円+ネット費用4,000円
                                = 月12,000円 = 年間144,000円の節約が可能です。
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 賃貸計算器 FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 合理的な家賃収入比率は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 一般的に手取り給与の25-30%が推奨されます。より高い比率（35%以上）は他の支出の予算を圧迫する可能性があります。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 日本全国の賃貸費用比較は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 東京が最も高く、大阪と名古屋がそれに続きます。地方都市は大幅に低い費用を提供しますが、就職機会は少なくなります。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Utility Calculator Info Section -->
            <section id="jp-utility-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">⚡ 日本光熱費計算器 - エネルギーコストガイド</h2>
                        <p class="section-subtitle">
                            日本での電気料金を見積もり、エネルギーコストを効果的に管理。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>⚡ 日本の電力自由化と地域別料金体系</h3>
                            <p>
                                2016年の電力自由化により、電力会社を自由に選択できるようになり、
                                年間数万円の節約が可能になりました：
                            </p>
                            <ul>
                                <li><strong>東京電力エリア</strong>：基本料金1,144円+使用量27.51円/kWh</li>
                                <li><strong>関西電力エリア</strong>：基本料金759円+使用量25.80円/kWh</li>
                                <li><strong>中部電力エリア</strong>：基本料金1,056円+使用量26.15円/kWh</li>
                                <li><strong>北海道電力エリア</strong>：基本料金1,540円+使用量31.44円/kWh</li>
                                <li><strong>九州電力エリア</strong>：基本料金1,001円+使用量25.41円/kWh</li>
                            </ul>
                            <p>
                                <strong>新電力の選択メリット：</strong>
                            </p>
                            <ul>
                                <li><strong>楽天でんき</strong>：楽天ポイント還元で実質5-10%お得</li>
                                <li><strong>auでんき</strong>：au回線とセットで月500-2,000円割引</li>
                                <li><strong>ENEOSでんき</strong>：ガソリン・灯油割引で車持ちにお得</li>
                                <li><strong>東京ガスの電気</strong>：ガス料金とセットで年1-3万円節約</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🌡️ 季節・ライフスタイル別消費パターンと節約術</h3>
                            <p>
                                日本の光熱費は季節による変動が大きく、適切な対策で大幅な節約が可能です：
                            </p>
                            <ul>
                                <li><strong>夏季（7-9月）</strong>：エアコンで月+5,000-15,000円（設定温度28℃で20%節約）</li>
                                <li><strong>冬季（12-2月）</strong>：暖房で月+3,000-12,000円（こたつ併用で40%節約）</li>
                                <li><strong>春秋（3-6月、10-11月）</strong>：ベース料金3,000-6,000円</li>
                            </ul>
                            <p>
                                <strong>在宅ワーク影響：</strong>平日昼間の使用で月+2,000-8,000円
                                <br><strong>効果的な節約方法：</strong>
                            </p>
                            <ul>
                                <li><strong>LED照明への交換</strong>：年間3,000-8,000円節約</li>
                                <li><strong>省エネエアコン</strong>：10年前比で年間15,000円節約</li>
                                <li><strong>冷蔵庫の設定変更</strong>：「中」設定で年間2,000円節約</li>
                                <li><strong>待機電力の削減</strong>：コンセント抜きで年間5,000円節約</li>
                                <li><strong>時間帯別料金プラン</strong>：夜間使用シフトで月1,000-3,000円節約</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎯 ガス自由化とオール電化の比較戦略</h3>
                            <p>
                                <strong>都市ガス自由化（2017年開始）で選択肢拡大：</strong>
                            </p>
                            <ul>
                                <li><strong>東京ガス vs 新ガス</strong>：年間5,000-15,000円の節約可能</li>
                                <li><strong>大阪ガス vs 新ガス</strong>：年間3,000-12,000円の節約可能</li>
                                <li><strong>プロパンガス</strong>：都市ガスの1.5-2倍高額（地域差大）</li>
                            </ul>
                            <p>
                                <strong>地域別エネルギー選択指針：</strong>
                            </p>
                            <ul>
                                <li><strong>北海道・東北</strong>：都市ガス+電気が最安（オール電化は暖房費高額）</li>
                                <li><strong>関東・関西</strong>：電気ガス併用が最安（太陽光併用でさらに節約）</li>
                                <li><strong>九州・沖縄</strong>：オール電化+太陽光が最安（日照条件良好）</li>
                            </ul>
                            <p>
                                <strong>年間光熱費の目安：</strong>
                            </p>
                            <ul>
                                <li><strong>一人暮らし</strong>：月8,000-15,000円（年間10-18万円）</li>
                                <li><strong>二人暮らし</strong>：月12,000-22,000円（年間14-26万円）</li>
                                <li><strong>四人家族</strong>：月18,000-35,000円（年間22-42万円）</li>
                            </ul>
                            <p>
                                <strong>総合節約戦略で年間3-8万円の削減が可能です。</strong>
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 光熱費計算器 FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: 光熱費見積もりの精度は？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: 見積もりは典型的な使用パターンと地域料金に基づいています。実際の請求書は特定の家電、使用習慣、季節要因によって異なる場合があります。</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: モバイルデバイスで使用できますか？</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: はい、すべてのデバイスで使用できます。スマートフォン、タブレット、デスクトップを問わず、ウェブブラウザがあればすぐに利用可能です。各画面サイズに最適化されたレスポンシブデザインです。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 交通費計算機情報セクション -->
            <section id="jp-transport-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🚃 日本交通費計算機 - 通勤・通学コストガイド</h2>
                        <p class="section-subtitle">
                            日本の公共交通機関の運賃と定期券料金を正確に計算し、通勤・通学コストを最適化。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🚃 日本の総合交通システムと料金体系</h3>
                            <p>
                                日本の公共交通は世界最高水準の利便性を誇り、適切な活用で大幅な交通費節約が可能です：
                            </p>
                            <ul>
                                <li><strong>JR（旧国鉄）</strong>：
                                    <ul>
                                        <li><strong>JR東日本</strong>：首都圏・東北エリア（初乗り147円）</li>
                                        <li><strong>JR西日本</strong>：関西・中国エリア（初乗り147円）</li>
                                        <li><strong>JR東海</strong>：中部エリア＋新幹線（初乗り147円）</li>
                                    </ul>
                                </li>
                                <li><strong>私鉄各社</strong>：
                                    <ul>
                                        <li><strong>東急・小田急・京急</strong>：都心アクセス良好、競合で運賃安め</li>
                                        <li><strong>阪急・阪神・近鉄</strong>：関西の主要路線、沿線開発充実</li>
                                        <li><strong>名古屋地下鉄・西鉄</strong>：地域密着型、バス連携強化</li>
                                    </ul>
                                </li>
                                <li><strong>地下鉄・市営交通</strong>：
                                    <ul>
                                        <li><strong>東京メトロ・都営地下鉄</strong>：都心部は最安170円から</li>
                                        <li><strong>大阪市営地下鉄（Osaka Metro）</strong>：初乗り180円</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>
                                <strong>ICカードの利便性：</strong>Suica、PASMO、ICOCA等の相互利用で
                                全国どこでも利用可能。現金より2-10円安い運賃設定。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💰 定期券・回数券の効果的活用術</h3>
                            <p>
                                定期券の選択により年間10-20万円の節約が可能です：
                            </p>
                            <ul>
                                <li><strong>通勤定期券</strong>：
                                    <ul>
                                        <li><strong>1ヶ月定期</strong>：基準価格</li>
                                        <li><strong>3ヶ月定期</strong>：約1%割引</li>
                                        <li><strong>6ヶ月定期</strong>：約2.5%割引</li>
                                    </ul>
                                </li>
                                <li><strong>学生定期券</strong>：通勤定期の約30-50%割引</li>
                                <li><strong>利用頻度別損益分岐点</strong>：
                                    <ul>
                                        <li><strong>月20日以上</strong>：定期券が有利</li>
                                        <li><strong>月15-19日</strong>：回数券検討</li>
                                        <li><strong>月14日以下</strong>：都度購入が最安</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>
                                <strong>区間選択の節約ワザ：</strong>
                            </p>
                            <ul>
                                <li><strong>分割定期</strong>：途中駅で分割して購入で最大20%節約</li>
                                <li><strong>連絡定期</strong>：複数社利用でも1枚で済む便利性</li>
                                <li><strong>時差通勤</strong>：朝のピーク時間外で回数券割引</li>
                                <li><strong>企業補助</strong>：通勤手当は月15万円まで非課税</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎯 地域別交通費最適化戦略</h3>
                            <p>
                                <strong>地域別交通費の特徴：</strong>
                            </p>
                            <ul>
                                <li><strong>首都圏（東京・神奈川・埼玉・千葉）</strong>：
                                    <ul>
                                        <li>平均通勤定期：月15,000-30,000円</li>
                                        <li>最長通勤：2時間以内が一般的</li>
                                        <li>競合路線多く選択肢豊富</li>
                                    </ul>
                                </li>
                                <li><strong>関西圏（大阪・京都・兵庫・奈良）</strong>：
                                    <ul>
                                        <li>平均通勤定期：月12,000-25,000円</li>
                                        <li>私鉄発達で多様なルート</li>
                                        <li>梅田・難波・天王寺の三極構造</li>
                                    </ul>
                                </li>
                                <li><strong>名古屋圏</strong>：
                                    <ul>
                                        <li>平均通勤定期：月8,000-18,000円</li>
                                        <li>地下鉄・JR・私鉄バランス良好</li>
                                        <li>中心部集約で通勤距離短め</li>
                                    </ul>
                                </li>
                                <li><strong>地方都市</strong>：
                                    <ul>
                                        <li>平均通勤定期：月5,000-12,000円</li>
                                        <li>バス中心、本数少なく車併用多い</li>
                                        <li>コミュニティバス100円区間あり</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>
                                <strong>総合節約戦略：</strong>
                            </p>
                            <ul>
                                <li><strong>住居と職場の距離最適化</strong>：通勤費月2万円差で年24万円</li>
                                <li><strong>乗り継ぎ最適化</strong>：乗り換え1回減で月3,000-8,000円節約</li>
                                <li><strong>自転車併用</strong>：最寄り駅まで自転車で定期区間短縮</li>
                                <li><strong>テレワーク活用</strong>：週2日在宅で定期券不要に</li>
                                <li><strong>早朝・深夜回避</strong>：始発・終電回避で割増料金回避</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 携帯電話料金計算機情報セクション -->
            <section id="jp-mobile-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">📱 日本携帯電話料金計算機 - モバイル通信費ガイド</h2>
                        <p class="section-subtitle">
                            大手キャリアから格安SIMまで、最適なモバイルプランを選択して通信費を節約。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📱 日本携帯電話市場の完全ガイド</h3>
                            <p>
                                日本の携帯電話市場は多様化が進み、適切な選択で年間10万円以上の節約が可能です：
                            </p>
                            <ul>
                                <li><strong>大手3キャリア（MNO）</strong>：
                                    <ul>
                                        <li><strong>docomo</strong>：無制限7,315円、20GB ahamo 2,970円</li>
                                        <li><strong>au</strong>：無制限7,238円、20GB povo 2,728円</li>
                                        <li><strong>ソフトバンク</strong>：無制限7,238円、20GB LINEMO 2,728円</li>
                                    </ul>
                                </li>
                                <li><strong>サブブランド</strong>：
                                    <ul>
                                        <li><strong>UQモバイル（au系）</strong>：3GB 1,628円、15GB 2,728円</li>
                                        <li><strong>Y!mobile（ソフトバンク系）</strong>：3GB 2,178円、15GB 3,278円</li>
                                    </ul>
                                </li>
                                <li><strong>格安SIM（MVNO）</strong>：
                                    <ul>
                                        <li><strong>楽天モバイル</strong>：3GB 1,078円、無制限 3,278円</li>
                                        <li><strong>IIJmio</strong>：2GB 858円、20GB 2,068円</li>
                                        <li><strong>mineo</strong>：1GB 1,298円、20GB 2,178円</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 データ使用量別最適プラン選択術</h3>
                            <p>
                                データ使用量に応じた最適プラン選択で大幅な通信費削減が可能です：
                            </p>
                            <ul>
                                <li><strong>～1GB/月</strong>：楽天モバイル（1,078円）が最安</li>
                                <li><strong>1-3GB/月</strong>：IIJmio・UQモバイルが最適（1,500円前後）</li>
                                <li><strong>3-15GB/月</strong>：ahamo・povo・LINEMOが競合（2,700円前後）</li>
                                <li><strong>15GB-無制限</strong>：楽天モバイル（3,278円）が最安</li>
                            </ul>
                            <p>
                                <strong>使用量チェック方法：</strong>設定→モバイル通信で過去12ヶ月の平均確認
                                <br><strong>Wi-Fi環境別推奨：</strong>
                            </p>
                            <ul>
                                <li><strong>自宅・職場Wi-Fi完備</strong>：3GB以下で十分（月1,500円以下可能）</li>
                                <li><strong>外出先でも動画視聴</strong>：20GB以上必要（月3,000円程度）</li>
                                <li><strong>テザリング使用</strong>：無制限プランが最適（月3,300円程度）</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎯 地域別通信品質と総合節約戦略</h3>
                            <p>
                                <strong>地域別通信品質の特徴：</strong>
                            </p>
                            <ul>
                                <li><strong>東京・大阪</strong>：全キャリア良好、格安SIMでも実用レベル</li>
                                <li><strong>地方都市</strong>：大手キャリアが安定、楽天モバイルはエリア要確認</li>
                                <li><strong>山間部・離島</strong>：docomo・auが最強、格安SIMは不安定な場合も</li>
                            </ul>
                            <p>
                                <strong>最大節約を実現する組み合わせ戦略：</strong>
                            </p>
                            <ul>
                                <li><strong>家族3人以上</strong>：UQモバイル家族割+auでんきセット割で月3,300円節約</li>
                                <li><strong>楽天経済圏利用者</strong>：楽天モバイル+楽天ひかりで年1年無料キャンペーン活用</li>
                                <li><strong>ソフトバンク光ユーザー</strong>：Y!mobile家族割で月1,188円×人数分割引</li>
                                <li><strong>au光ユーザー</strong>：UQモバイル自宅セット割で月858円×人数分割引</li>
                            </ul>
                            <p>
                                <strong>年間節約効果の例：</strong>
                            </p>
                            <ul>
                                <li><strong>大手キャリア→格安SIM</strong>：月4,000円×12ヶ月 = 年間48,000円節約</li>
                                <li><strong>家族4人での最適化</strong>：月12,000円×12ヶ月 = 年間144,000円節約</li>
                                <li><strong>スマホ代+ネット回線見直し</strong>：月8,000円×12ヶ月 = 年間96,000円節約</li>
                            </ul>
                            <p>
                                <strong>乗り換え時の注意点：</strong>MNP転出手数料無料化、端末SIMロック解除無料、
                                2年縛り廃止により、いつでも気軽に乗り換え可能になりました。
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 食費予算計算機情報セクション -->
            <section id="jp-food-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🍱 日本食費予算計算機 - 食生活コスト管理ガイド</h2>
                        <p class="section-subtitle">
                            自炊から外食まで、ライフスタイルに応じた食費予算を計画し、健康的で経済的な食生活を実現。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🍱 日本の地域別食費相場と詳細分析</h3>
                            <p>
                                食費は地域・ライフスタイルにより大きく変動し、適切な計画で年間20-50万円の節約が可能です：
                            </p>
                            <ul>
                                <li><strong>一人暮らし食費目安：</strong>
                                    <ul>
                                        <li><strong>自炊中心</strong>：月2.5-4万円（1食300-450円）</li>
                                        <li><strong>外食中心</strong>：月6-10万円（1食700-1,200円）</li>
                                        <li><strong>コンビニ中心</strong>：月5-8万円（1食550-900円）</li>
                                    </ul>
                                </li>
                                <li><strong>地域別食費差：</strong>
                                    <ul>
                                        <li><strong>東京都心</strong>：全国平均+30%（外食1食1,000-2,000円）</li>
                                        <li><strong>大阪・名古屋</strong>：全国平均+10%（外食1食800-1,500円）</li>
                                        <li><strong>福岡・札幌</strong>：全国平均-10%（外食1食600-1,200円）</li>
                                        <li><strong>地方都市</strong>：全国平均-20%（外食1食500-1,000円）</li>
                                    </ul>
                                </li>
                                <li><strong>年代別平均食費：</strong>
                                    <ul>
                                        <li><strong>20代単身</strong>：月4.2万円（外食多め）</li>
                                        <li><strong>30代単身</strong>：月3.8万円（自炊増加）</li>
                                        <li><strong>40代単身</strong>：月4.5万円（品質重視）</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💰 食費の最適化戦略と実用的節約術</h3>
                            <p>
                                <strong>自炊による節約効果：</strong>
                            </p>
                            <ul>
                                <li><strong>基本自炊</strong>：外食比60%削減（月4-6万円節約）</li>
                                <li><strong>まとめ買い</strong>：食材費20%削減（月5,000-8,000円節約）</li>
                                <li><strong>冷凍活用</strong>：食材ロス90%削減（月3,000-5,000円節約）</li>
                                <li><strong>季節食材</strong>：旬活用で30%削減（月8,000-12,000円節約）</li>
                            </ul>
                            <p>
                                <strong>効率的な買い物術：</strong>
                            </p>
                            <ul>
                                <li><strong>業務スーパー活用</strong>：冷凍食品・調味料を大容量購入で40%節約</li>
                                <li><strong>見切り品狙い</strong>：夕方以降の半額セールで30%節約</li>
                                <li><strong>PBブランド選択</strong>：プライベートブランドで20%節約</li>
                                <li><strong>ポイント活用</strong>：楽天西友・イオンで5-10%還元</li>
                            </ul>
                            <p>
                                <strong>弁当・社食活用術：</strong>
                            </p>
                            <ul>
                                <li><strong>弁当持参</strong>：1食150円×22日 = 月3,300円（外食比75%削減）</li>
                                <li><strong>社員食堂</strong>：1食400-600円で栄養バランス良好</li>
                                <li><strong>学生食堂</strong>：1食300-500円で最安外食選択肢</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎯 ライフスタイル別食費最適化戦略</h3>
                            <p>
                                <strong>在宅ワーク時代の食費管理：</strong>
                            </p>
                            <ul>
                                <li><strong>在宅ワーク増加</strong>：昼食費月1-2万円削減可能</li>
                                <li><strong>宅配活用</strong>：時短と節約のバランス重要</li>
                                <li><strong>冷凍食品の質向上</strong>：手作りと遜色ないレベルで時短実現</li>
                            </ul>
                            <p>
                                <strong>家族構成別最適戦略：</strong>
                            </p>
                            <ul>
                                <li><strong>単身者</strong>：食材シェア・冷凍食品活用で効率化</li>
                                <li><strong>夫婦二人</strong>：まとめ調理・作り置きで時短&節約</li>
                                <li><strong>子育て世帯</strong>：業務スーパー・コストコ活用で大容量購入</li>
                            </ul>
                            <p>
                                <strong>健康とコストのバランス：</strong>
                            </p>
                            <ul>
                                <li><strong>栄養価重視</strong>：食材の質を落とさず量で調整</li>
                                <li><strong>季節野菜活用</strong>：旬の食材で栄養価最大・コスト最小</li>
                                <li><strong>タンパク質確保</strong>：鶏胸肉・卵・豆腐で低コスト高栄養</li>
                            </ul>
                            <p>
                                <strong>年間節約効果例：</strong>外食中心→自炊中心で年間60万円、
                                コンビニ中心→計画的自炊で年間36万円の節約が実現可能です。
                            </p>
                            <p>
                                <strong>地域特産活用：</strong>各地の特産品直売所・道の駅利用で
                                高品質食材を市価の30-50%で購入可能。地産地消で輸送費も削減。
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 健康保険料計算機情報セクション -->
            <section id="jp-health-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏥 日本健康保険料計算機 - 医療保険制度ガイド</h2>
                        <p class="section-subtitle">
                            都道府県別の健康保険料率で正確な保険料を計算し、日本の医療保険制度を理解。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏥 日本の健康保険制度完全ガイド</h3>
                            <p>
                                日本の健康保険制度は雇用形態により異なり、保険料も大きく変動します：
                            </p>
                            <ul>
                                <li><strong>被用者保険（会社員・公務員）</strong>：
                                    <ul>
                                        <li><strong>協会けんぽ</strong>：中小企業対象、都道府県別料率</li>
                                        <li><strong>組合健保</strong>：大企業独自、付加給付充実</li>
                                        <li><strong>共済組合</strong>：公務員対象、福利厚生手厚い</li>
                                    </ul>
                                </li>
                                <li><strong>国民健康保険</strong>：自営業・フリーランス・無職者対象</li>
                                <li><strong>後期高齢者医療制度</strong>：75歳以上対象</li>
                            </ul>
                            <p>
                                <strong>都道府県別協会けんぽ料率（2025年）：</strong>
                            </p>
                            <ul>
                                <li><strong>最安：新潟県</strong> 9.51%</li>
                                <li><strong>東京都</strong> 10.00%</li>
                                <li><strong>大阪府</strong> 10.29%</li>
                                <li><strong>最高：佐賀県</strong> 11.73%</li>
                            </ul>
                            <p>
                                地域の医療費水準により料率が決定され、生活習慣病対策の効果も反映されます。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💡 保険料計算の詳細メカニズム</h3>
                            <p>
                                健康保険料は複雑な計算式で決定されますが、理解することで節約に繋がります：
                            </p>
                            <ul>
                                <li><strong>被用者保険料算定</strong>：
                                    <ul>
                                        <li>標準報酬月額 × 健康保険料率 ÷ 2（労使折半）</li>
                                        <li>標準賞与額 × 健康保険料率 ÷ 2（賞与分）</li>
                                        <li>40-64歳：介護保険料1.82%も追加</li>
                                    </ul>
                                </li>
                                <li><strong>国民健康保険料算定</strong>：
                                    <ul>
                                        <li>所得割：前年所得 × 料率（6-10%程度）</li>
                                        <li>均等割：加入者数 × 定額（2-5万円/人）</li>
                                        <li>平等割：世帯あたり定額（1-3万円）</li>
                                    </ul>
                                </li>
                            </ul>
                            <p>
                                <strong>保険料節約のポイント：</strong>
                            </p>
                            <ul>
                                <li><strong>扶養活用</strong>：配偶者年収130万円未満で扶養に</li>
                                <li><strong>任意継続検討</strong>：退職時、国保より安い場合も</li>
                                <li><strong>限度額認定証</strong>：高額医療費時の負担軽減</li>
                                <li><strong>健康維持</strong>：健康経営優良法人は料率優遇あり</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎯 地域別医療費負担と効果的活用法</h3>
                            <p>
                                <strong>地域による医療費格差と保険料への影響：</strong>
                            </p>
                            <ul>
                                <li><strong>医療費高額地域</strong>：九州・四国（高齢化率高い）</li>
                                <li><strong>医療費低額地域</strong>：関東・中部（予防意識高い）</li>
                                <li><strong>都市部特徴</strong>：専門医療充実、外来費用高</li>
                                <li><strong>地方部特徴</strong>：入院中心、交通費負担大</li>
                            </ul>
                            <p>
                                <strong>保険制度の効果的活用法：</strong>
                            </p>
                            <ul>
                                <li><strong>付加給付活用</strong>：組合健保の独自給付で自己負担軽減</li>
                                <li><strong>健康診断受診</strong>：早期発見で医療費抑制</li>
                                <li><strong>ジェネリック選択</strong>：薬剤費30-80%削減</li>
                                <li><strong>セカンドオピニオン</strong>：適切な治療選択で費用最適化</li>
                                <li><strong>医療費控除</strong>：年間10万円超で所得控除対象</li>
                            </ul>
                            <p>
                                <strong>年収別保険料目安（東京都・40歳・扶養なし）：</strong>
                            </p>
                            <ul>
                                <li><strong>年収300万円</strong>：月14,850円（年178,200円）</li>
                                <li><strong>年収500万円</strong>：月24,750円（年297,000円）</li>
                                <li><strong>年収800万円</strong>：月39,600円（年475,200円）</li>
                                <li><strong>年収1000万円</strong>：月49,500円（年594,000円）</li>
                            </ul>
                            <p>
                                <strong>転職・独立時の注意点：</strong>会社員→自営業への転換時、
                                国民健康保険料が2-3倍になる場合があるため、
                                任意継続との比較検討が重要です。
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Housing Calculator Info Section -->
            <section id="jp-housing-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏠 住居費統合計算機 - 賃貸関連すべての費用を一目で</h2>
                        <p class="section-subtitle">
                            2025年日本賃貸市場基準で月額賃料、初期費用、管理費を統合計算し、実際の住居費を正確に把握しましょう。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>💰 日本賃貸初期費用のすべて</h3>
                            <p>
                                日本で部屋を借りる際は月額賃料以外にも様々な初期費用が発生します。敷金、礼金、仲介手数料、火災保険料などを正確に計算し、予想外の費用を防ぎましょう。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>📍 地域別コスト特性</h3>
                            <p>
                                東京は賃料・光熱費が全国最高水準、大阪は東京の80-90%水準、地方都市は60-70%程度。住居タイプ別でもマンション > 一戸建て > アパート > シェアハウスの順で費用が異なります。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🎯 住居費適正判断</h3>
                            <p>
                                一般的に月収の25-30%が住居費の適正範囲とされています。当計算機では入力された条件から適正性を判断し、具体的なアドバイスを提供します。
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Netpay Calculator Info Section -->
            <section id="jp-netpay-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">💰 手取り給与計算機 - 2025年税率完全対応</h2>
                        <p class="section-subtitle">
                            所得税、住民税、社会保険料を詳細計算し、実際の手取り額を正確に算出。地域別税率の違いまで完全対応しています。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏛️ 日本の税制システム</h3>
                            <p>
                                <strong>所得税</strong>: 累進税率5%-45%、<strong>住民税</strong>: 一律10%（都道府県税4%+市町村税6%）、
                                <strong>復興特別所得税</strong>: 所得税額の2.1%。これらすべてを2025年基準で正確計算します。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🏥 社会保険料の仕組み</h3>
                            <p>
                                健康保険料（約9.8%）、厚生年金保険料（18.3%）、雇用保険料（0.6%）、40歳以上は介護保険料（1.17%）が給与から控除されます。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💡 所得控除活用法</h3>
                            <p>
                                基礎控除48万円、給与所得控除、配偶者控除38万円、扶養控除38万円/人など、各種控除を活用して税負担を軽減できます。
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Living Cost Calculator Info Section -->
            <section id="jp-living-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🛒 生活費総合計算機 - 2025年物価対応</h2>
                        <p class="section-subtitle">
                            家族構成、地域、ライフスタイルに応じた月間生活費を算出。貯蓄目標まで考慮した総合的な家計管理をサポートします。
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📊 生活費カテゴリ別分析</h3>
                            <p>
                                食費、光熱費、交通費、娯楽費、医療費、通信費など8つのカテゴリで詳細分析。各項目の地域差、家族規模差を正確に反映します。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🌍 地域別物価指数</h3>
                            <p>
                                東京を100とした場合、大阪85、横浜90、名古屋82、札幌70、地方都市65程度。地域特性を反映した現実的な生活費を算出します。
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💰 貯蓄目標設定</h3>
                            <p>
                                収入の5-10%（少額）、15-20%（適正）、25%以上（積極的）の3段階で貯蓄目標を設定。目標達成に必要な月収も自動計算します。
                            </p>
                        </div>
                    </div>
                </div>
            </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <h3 class="footer-title">日本給与計算機2025年最新版 - 統合サービス</h3>
                <p class="footer-description">
                    都道府県別対応・AI資産運用プランニング搭載の総合給与計算サービスです。
                </p>
                <div class="footer-links">
                    <p>📧 お問い合わせ: <a href="mailto:contact@utilities.mahalohana-bruce.com">contact@utilities.mahalohana-bruce.com</a></p>
                </div>
                <div class="footer-copyright">
                    <p>© 2025 日本給与計算機 - Utilities Collection. すべての権利を保有.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Sidebar navigation functionality
        function showTool(toolId) {
            // Hide all tools
            document.querySelectorAll('.tool-panel').forEach(panel => {
                panel.classList.add('hidden');
            });
            
            // Hide all info sections
            document.querySelectorAll('.info-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Remove active from all nav items
            document.querySelectorAll('.tool-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected tool
            document.getElementById(toolId + '-tool').classList.remove('hidden');
            
            // Show corresponding info section
            const infoSection = document.getElementById(toolId + '-info');
            if (infoSection) {
                infoSection.classList.remove('hidden');
            }
            
            // Activate selected nav item
            event.currentTarget.classList.add('active');
            
            // Hide all results
            document.querySelectorAll('.result-panel, .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Japanese Year Converter - Accurate Implementation
        class JpYearConverterIntegrated {
            constructor() {
                this.eras = {
                    reiwa: 2019,
                    heisei: 1989,
                    showa: 1926,
                    taisho: 1912,
                    meiji: 1868
                };
                
                this.eraNames = {
                    reiwa: "令和",
                    heisei: "平成",
                    showa: "昭和",
                    taisho: "大正",
                    meiji: "明治"
                };

                // Define exact end years for each era
                this.eraEndYears = {
                    meiji: 1912,   // Meiji 45 (ended July 30, 1912)
                    taisho: 1926,  // Taisho 15 (ended December 25, 1926)
                    showa: 1989,   // Showa 64 (ended January 7, 1989)
                    heisei: 2019,  // Heisei 31 (ended April 30, 2019)
                    reiwa: new Date().getFullYear() // Current era, ongoing
                };
                
                this.init();
            }

            init() {
                document.getElementById('conversionType').addEventListener('change', (e) => {
                    const isAdToEra = e.target.value === 'ad-to-era';
                    document.getElementById('adYearGroup').classList.toggle('hidden', !isAdToEra);
                    document.getElementById('eraGroup').classList.toggle('hidden', isAdToEra);
                    document.getElementById('eraYearGroup').classList.toggle('hidden', isAdToEra);
                });
            }

            convertYear() {
                const conversionType = document.getElementById('conversionType').value;
                const resultPanel = document.getElementById('yearResult');
                const errorPanel = document.getElementById('yearError');
                
                resultPanel.classList.remove('visible');
                errorPanel.classList.remove('visible');
                
                try {
                    if (conversionType === 'ad-to-era') {
                        this.convertToWareki();
                    } else {
                        this.convertToSeireki();
                    }
                    resultPanel.classList.add('visible');
                } catch (error) {
                    document.getElementById('yearErrorContent').textContent = error.message;
                    errorPanel.classList.add('visible');
                }
            }

            convertToWareki() {
                const adYear = parseInt(document.getElementById('adYear').value);
                if (!adYear || adYear < 1868 || adYear > 2030) {
                    throw new Error('1868年から2030年の間の年度を入力してください。');
                }

                // Sort eras by start year descending to find the correct era
                const sortedEras = Object.entries(this.eras).sort((a, b) => b[1] - a[1]);
                
                for (const [era, start] of sortedEras) {
                    if (adYear >= start) {
                        const ey = adYear - start + 1;
                        const eraName = this.eraNames[era];
                        const endYear = this.eraEndYears[era];
                        
                        // Check if the year is within the era's valid range
                        if (endYear && adYear >= endYear) {
                            continue; // This era has ended, try the next one
                        }
                        
                        document.getElementById('yearResultContent').innerHTML = 
                            `<strong>西暦${adYear}年</strong>は<strong>${eraName}${ey}年</strong>です。`;
                        
                        document.getElementById('yearResultDetails').innerHTML = `
                            <div class="result-item">
                                <div class="label">西暦</div>
                                <div class="value">${adYear}年</div>
                            </div>
                            <div class="result-item">
                                <div class="label">年号</div>
                                <div class="value">${eraName}${ey}年</div>
                            </div>
                            <div class="result-item">
                                <div class="label">年号期間</div>
                                <div class="value">${start}年 ～ ${endYear === new Date().getFullYear() ? '現在' : endYear + '年'}</div>
                            </div>
                        `;
                        return;
                    }
                }
                
                throw new Error('該当年度の年号が見つかりません。');
            }

            convertToSeireki() {
                const eraKey = document.getElementById('eraSelect').value;
                const eraYear = parseInt(document.getElementById('eraYear').value);
                
                if (!eraYear || eraYear < 1) {
                    throw new Error('正しい年号年数を入力してください。');
                }
                
                const start = this.eras[eraKey];
                const endYear = this.eraEndYears[eraKey];
                const maxYear = endYear - start + 1;
                
                if (eraYear > maxYear) {
                    throw new Error(`${this.eraNames[eraKey]}は最大${maxYear}年まで存在します。`);
                }
                
                const adYear = start + eraYear - 1;
                const eraName = this.eraNames[eraKey];
                
                document.getElementById('yearResultContent').innerHTML = 
                    `<strong>${eraName}${eraYear}年</strong>は<strong>西暦${adYear}年</strong>です。`;
                
                document.getElementById('yearResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">年号</div>
                        <div class="value">${eraName}${eraYear}年</div>
                    </div>
                    <div class="result-item">
                        <div class="label">西暦</div>
                        <div class="value">${adYear}年</div>
                    </div>
                    <div class="result-item">
                        <div class="label">年号期間</div>
                        <div class="value">${start}年 ～ ${endYear === new Date().getFullYear() ? '現在' : endYear + '年'}</div>
                    </div>
                `;
            }
        }

        // Initialize the year converter
        const jpYearConverter = new JpYearConverterIntegrated();

        // Global function for the convert button
        function convertYear() {
            jpYearConverter.convertYear();
        }

        // Eto Calculator
        const etoAnimals = [
            { name: 'ねずみ', kanji: '子', description: '知恵があり聡明な性格' },
            { name: 'うし', kanji: '丑', description: '誠実で勤勉な性格' },
            { name: 'とら', kanji: '寅', description: '勇敢で強靭な性格' },
            { name: 'うさぎ', kanji: '卯', description: '温和で繊細な性格' },
            { name: 'りゅう', kanji: '辰', description: '躍動的でカリスマのある性格' },
            { name: 'へび', kanji: '巳', description: '慎重で知的な性格' },
            { name: 'うま', kanji: '午', description: '活発で自由な性格' },
            { name: 'ひつじ', kanji: '未', description: '平和で芸術的な性格' },
            { name: 'さる', kanji: '申', description: '機知に富んで創造的な性格' },
            { name: 'とり', kanji: '酉', description: '正確で責任感のある性格' },
            { name: 'いぬ', kanji: '戌', description: '忠実で正直な性格' },
            { name: 'いのしし', kanji: '亥', description: '寛大で幸福な性格' }
        ];

        function calculateEto() {
            const birthDate = document.getElementById('birthDate').value;
            const resultPanel = document.getElementById('etoResult');
            const errorPanel = document.getElementById('etoError');
            
            resultPanel.classList.remove('visible');
            errorPanel.classList.remove('visible');
            
            try {
                if (!birthDate) {
                    throw new Error('生年月日を入力してください。');
                }
                
                const date = new Date(birthDate);
                let year = date.getFullYear();
                
                // 立春基準計算（概算で2月4日基準）
                if (date.getMonth() === 0 || (date.getMonth() === 1 && date.getDate() < 4)) {
                    year -= 1;
                }
                
                const etoIndex = (year - 4) % 12;
                const animal = etoAnimals[etoIndex];
                
                document.getElementById('etoResultContent').innerHTML = 
                    `<strong>${year}年生まれ</strong>の十二支は<strong>${animal.name}（${animal.kanji}）</strong>です。`;
                
                document.getElementById('etoResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">十二支</div>
                        <div class="value">${animal.name}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">漢字</div>
                        <div class="value">${animal.kanji}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">特徴</div>
                        <div class="value">${animal.description}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">基準年度</div>
                        <div class="value">${year}年（立春基準）</div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('etoErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Election Age Checker
        function checkElectionAge() {
            const birthDate = document.getElementById('electionBirthDate').value;
            const electionDate = document.getElementById('electionDate').value;
            const resultPanel = document.getElementById('electionResult');
            const errorPanel = document.getElementById('electionError');
            
            resultPanel.classList.remove('visible');
            errorPanel.classList.remove('visible');
            
            try {
                if (!birthDate) {
                    throw new Error('生年月日を入力してください。');
                }
                
                const birth = new Date(birthDate);
                const election = new Date(electionDate);
                const age = Math.floor((election - birth) / (365.25 * 24 * 60 * 60 * 1000));
                const canVote = age >= 18;
                
                const resultClass = canVote ? 'success' : 'error';
                const resultMessage = canVote ? '投票できます！' : '投票できません。';
                const ageMessage = canVote ? 
                    `満${age}歳で投票年齢（満18歳）以上です。` : 
                    `満${age}歳で投票年齢（満18歳）に満たません。`;
                
                document.getElementById('electionResultContent').innerHTML = 
                    `<strong>${resultMessage}</strong><br>${ageMessage}`;
                
                document.getElementById('electionResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">現在年齢</div>
                        <div class="value">満${age}歳</div>
                    </div>
                    <div class="result-item">
                        <div class="label">投票可能</div>
                        <div class="value" style="color: ${canVote ? 'var(--success)' : 'var(--error)'}">
                            ${canVote ? '可能' : '不可能'}
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">選挙日</div>
                        <div class="value">${election.toLocaleDateString('ja-JP')}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">法的根拠</div>
                        <div class="value">公職選挙法（満18歳以上）</div>
                    </div>
                `;
                
                if (canVote) {
                    resultPanel.style.borderColor = 'var(--success)';
                    document.querySelector('#electionResult .result-title').style.color = 'var(--success)';
                } else {
                    resultPanel.style.borderColor = 'var(--error)';
                    document.querySelector('#electionResult .result-title').style.color = 'var(--error)';
                }
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('electionErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // 日本所得税計算機
        function calculateJpTax() {
            const annualIncome = parseFloat(document.getElementById('jpTaxIncome').value) * 10000; // 万円を円に変換
            const incomeType = document.getElementById('jpIncomeType').value;
            const dependents = parseInt(document.getElementById('jpTaxDependents').value || 0);
            const spouseType = document.getElementById('jpTaxSpouse').value;
            const additionalDeductions = parseFloat(document.getElementById('jpTaxDeductions').value || 0) * 10000;
            const residenceType = document.getElementById('jpTaxResidence').value;
            
            const resultPanel = document.getElementById('jpTaxResult');
            const errorPanel = document.getElementById('jpTaxError');
            const bracketsPanel = document.getElementById('jpTaxBrackets');
            
            // パネルを初期化
            [resultPanel, errorPanel, bracketsPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!annualIncome || annualIncome <= 0) {
                    throw new Error('年間所得を正しく入力してください。');
                }
                
                // 2025年日本所得税累進税率（給与所得者基準）
                let taxableIncome = annualIncome;
                
                // 給与所得控除（2025年基準）
                if (incomeType === 'salary') {
                    if (annualIncome <= 1625000) {
                        taxableIncome = Math.max(0, annualIncome - 550000);
                    } else if (annualIncome <= 1800000) {
                        taxableIncome = annualIncome - annualIncome * 0.4 + 100000;
                    } else if (annualIncome <= 3600000) {
                        taxableIncome = annualIncome - annualIncome * 0.3 + 80000;
                    } else if (annualIncome <= 6600000) {
                        taxableIncome = annualIncome - annualIncome * 0.2 + 440000;
                    } else if (annualIncome <= 8500000) {
                        taxableIncome = annualIncome - annualIncome * 0.1 + 1100000;
                    } else {
                        taxableIncome = annualIncome - 1950000;
                    }
                }
                
                // 所得控除適用
                let totalDeductions = 480000; // 基礎控除
                totalDeductions += dependents * 380000; // 扶養家族控除
                totalDeductions += additionalDeductions; // その他控除
                
                if (spouseType === 'general' || spouseType === 'special') {
                    totalDeductions += 380000; // 配偶者控除
                }
                
                taxableIncome = Math.max(0, taxableIncome - totalDeductions);
                
                // 所得税計算（累進税率）
                let incomeTax = 0;
                const taxBrackets = [
                    { min: 0, max: 1950000, rate: 0.05, deduction: 0, label: '195万円以下' },
                    { min: 1950000, max: 3300000, rate: 0.10, deduction: 97500, label: '195万円超～330万円以下' },
                    { min: 3300000, max: 6950000, rate: 0.20, deduction: 427500, label: '330万円超～695万円以下' },
                    { min: 6950000, max: 9000000, rate: 0.23, deduction: 636000, label: '695万円超～900万円以下' },
                    { min: 9000000, max: 18000000, rate: 0.33, deduction: 1536000, label: '900万円超～1800万円以下' },
                    { min: 18000000, max: 40000000, rate: 0.40, deduction: 2796000, label: '1800万円超～4000万円以下' },
                    { min: 40000000, max: Infinity, rate: 0.45, deduction: 4796000, label: '4000万円超' }
                ];
                
                let applicableBracket = null;
                for (const bracket of taxBrackets) {
                    if (taxableIncome > bracket.min) {
                        incomeTax = taxableIncome * bracket.rate - bracket.deduction;
                        applicableBracket = bracket;
                    } else {
                        break;
                    }
                }
                
                // 復興特別所得税（2.1%）
                const reconstructionTax = incomeTax * 0.021;
                const totalTax = incomeTax + reconstructionTax;
                
                // 実効税率計算
                const effectiveRate = (totalTax / annualIncome) * 100;
                
                // 結果表示
                document.getElementById('jpTaxResultContent').innerHTML = 
                    `<strong>年間総所得：${(annualIncome/10000).toLocaleString()}万円</strong><br>
                     <strong>課税所得：${(taxableIncome/10000).toLocaleString()}万円</strong><br>
                     <strong>総税額：${Math.round(totalTax).toLocaleString()}円</strong>`;
                
                document.getElementById('jpTaxResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">所得税</div>
                        <div class="value">${Math.round(incomeTax).toLocaleString()}円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">復興特別所得税</div>
                        <div class="value">${Math.round(reconstructionTax).toLocaleString()}円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">実効税率</div>
                        <div class="value">${effectiveRate.toFixed(2)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="label">適用税率</div>
                        <div class="value">${applicableBracket ? (applicableBracket.rate * 100).toFixed(0) + '%' : '0%'}</div>
                    </div>
                `;
                
                // 税率区間別分析表示
                if (applicableBracket) {
                    document.getElementById('jpTaxBracketsContent').innerHTML = `
                        <div class="tax-bracket-analysis">
                            <h4>適用税率区間：${applicableBracket.label}</h4>
                            <p>税率：${(applicableBracket.rate * 100).toFixed(0)}%</p>
                            <p>控除額：${applicableBracket.deduction.toLocaleString()}円</p>
                            <div class="bracket-advice">
                                <h5>💡 税金節約のアドバイス</h5>
                                ${effectiveRate > 20 ? 
                                    '<p>・iDeCoやふるさと納税で所得控除を活用しましょう</p><p>・医療費控除や住宅ローン控除の適用を検討しましょう</p>' :
                                    '<p>・基本的な控除は適切に活用されています</p><p>・将来の税率上昇に備えて資産形成を計画しましょう</p>'
                                }
                            </div>
                        </div>
                    `;
                    bracketsPanel.classList.add('visible');
                }
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('jpTaxErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // 不動産ローン計算機
        function calculateJpLoan() {
            const propertyPrice = parseFloat(document.getElementById('jpLoanPrice').value) * 10000;
            const downPaymentRate = parseFloat(document.getElementById('jpLoanDownPayment').value) / 100;
            const loanTerm = parseInt(document.getElementById('jpLoanTerm').value);
            const rateType = document.getElementById('jpLoanRateType').value;
            const annualIncome = parseFloat(document.getElementById('jpLoanIncome').value) * 10000;
            const otherDebt = parseFloat(document.getElementById('jpLoanOtherDebt').value || 0) * 10000;
            
            const resultPanel = document.getElementById('jpLoanResult');
            const errorPanel = document.getElementById('jpLoanError');
            const analysisPanel = document.getElementById('jpLoanAnalysis');
            
            // パネルを初期化
            [resultPanel, errorPanel, analysisPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!propertyPrice || !annualIncome) {
                    throw new Error('すべての項目を入力してください。');
                }
                
                // 金利設定
                const interestRates = {
                    'variable': 0.005, // 0.5%
                    'fixed10': 0.008, // 0.8%
                    'fixed35': 0.018  // 1.8%
                };
                
                const interestRate = interestRates[rateType];
                const loanAmount = propertyPrice * (1 - downPaymentRate);
                const downPayment = propertyPrice * downPaymentRate;
                
                // 月利率
                const monthlyRate = interestRate / 12;
                const totalMonths = loanTerm * 12;
                
                // 月返済額計算（元利均等返済）
                const monthlyPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths) / 
                                     (Math.pow(1 + monthlyRate, totalMonths) - 1);
                
                const totalPayment = monthlyPayment * totalMonths;
                const totalInterest = totalPayment - loanAmount;
                
                // 年間返済額
                const annualPayment = monthlyPayment * 12 + otherDebt * 12;
                
                // 返済負担率計算
                const repaymentRatio = (annualPayment / annualIncome) * 100;
                
                // 承認可能性判定
                let approvalChance = '';
                let approvalClass = '';
                
                if (repaymentRatio <= 20) {
                    approvalChance = '非常に高い';
                    approvalClass = 'excellent';
                } else if (repaymentRatio <= 25) {
                    approvalChance = '高い';
                    approvalClass = 'good';
                } else if (repaymentRatio <= 30) {
                    approvalChance = '普通';
                    approvalClass = 'fair';
                } else if (repaymentRatio <= 35) {
                    approvalChance = '低い';
                    approvalClass = 'poor';
                } else {
                    approvalChance = '非常に低い';
                    approvalClass = 'very-poor';
                }
                
                // 結果表示
                document.getElementById('jpLoanResultContent').innerHTML = 
                    `<strong>融資額：${(loanAmount/10000).toLocaleString()}万円</strong><br>
                     <strong>月返済額：${Math.round(monthlyPayment).toLocaleString()}円</strong><br>
                     <strong>返済負担率：${repaymentRatio.toFixed(1)}%</strong>`;
                
                document.getElementById('jpLoanResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">物件価格</div>
                        <div class="value">${(propertyPrice/10000).toLocaleString()}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">自己資金</div>
                        <div class="value">${(downPayment/10000).toLocaleString()}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">総返済額</div>
                        <div class="value">${Math.round(totalPayment/10000).toLocaleString()}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">総利息</div>
                        <div class="value">${Math.round(totalInterest/10000).toLocaleString()}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">承認可能性</div>
                        <div class="value ${approvalClass}">${approvalChance}</div>
                    </div>
                `;
                
                // 審査分析表示
                document.getElementById('jpLoanAnalysisContent').innerHTML = `
                    <div class="loan-analysis-detail">
                        <h4>📊 詳細分析</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>返済条件</h5>
                                <p>期間：${loanTerm}年（${totalMonths}ヶ月）</p>
                                <p>金利：${(interestRate * 100).toFixed(2)}%（年）</p>
                                <p>金利タイプ：${rateType === 'variable' ? '変動金利' : rateType === 'fixed10' ? '10年固定' : '全期間固定'}</p>
                            </div>
                            <div class="analysis-item">
                                <h5>審査のポイント</h5>
                                ${repaymentRatio <= 25 ? 
                                    '<p style="color: var(--success)">✓ 返済負担率が適正範囲内です</p>' :
                                    '<p style="color: var(--error)">⚠ 返済負担率が高めです</p>'
                                }
                                ${annualIncome >= 3000000 ? 
                                    '<p style="color: var(--success)">✓ 年収が安定的です</p>' :
                                    '<p style="color: var(--warning)">△ 年収をさらに向上させましょう</p>'
                                }
                            </div>
                        </div>
                        <div class="loan-advice">
                            <h5>💡 ローンのアドバイス</h5>
                            ${repaymentRatio > 30 ? 
                                '<p>・返済期間を延長することを検討してください</p><p>・自己資金比率を上げることを検討してください</p>' :
                                '<p>・現在の条件で問題ありません</p><p>・変動金利の場合は将来の金利上昇リスクを考慮しましょう</p>'
                            }
                        </div>
                    </div>
                `;
                
                [resultPanel, analysisPanel].forEach(panel => panel.classList.add('visible'));
            } catch (error) {
                document.getElementById('jpLoanErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // 賃貸適正性計算機
        function calculateJpRent() {
            const monthlySalary = parseFloat(document.getElementById('jpRentSalary').value) * 10000;
            const monthlyRent = parseFloat(document.getElementById('jpRentAmount').value) * 10000;
            const region = document.getElementById('jpRentRegion').value;
            const housingType = document.getElementById('jpRentType').value;
            const roomLayout = document.getElementById('jpRentRooms').value;
            const stationWalk = document.getElementById('jpRentStation').value;
            
            const resultPanel = document.getElementById('jpRentResult');
            const errorPanel = document.getElementById('jpRentError');
            
            // パネルを初期化
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!monthlySalary || !monthlyRent) {
                    throw new Error('月給と賃料を入力してください。');
                }
                
                // 賃料負担率計算
                const rentRatio = (monthlyRent / monthlySalary) * 100;
                
                // 地域別平均賃料（万円/月）
                const averageRentData = {
                    'tokyo-center': { '1R': 7.5, '1K': 8.2, '1DK': 10.1, '1LDK': 13.2, '2DK': 15.8, '2LDK': 18.5, '3LDK': 22.3 },
                    'tokyo-suburbs': { '1R': 5.8, '1K': 6.5, '1DK': 8.2, '1LDK': 10.8, '2DK': 12.1, '2LDK': 14.2, '3LDK': 16.8 },
                    'osaka': { '1R': 5.2, '1K': 5.8, '1DK': 7.1, '1LDK': 9.2, '2DK': 9.8, '2LDK': 11.5, '3LDK': 13.8 },
                    'nagoya': { '1R': 4.8, '1K': 5.3, '1DK': 6.5, '1LDK': 8.5, '2DK': 9.0, '2LDK': 10.8, '3LDK': 13.2 },
                    'fukuoka': { '1R': 4.2, '1K': 4.6, '1DK': 5.6, '1LDK': 7.2, '2DK': 7.7, '2LDK': 9.1, '3LDK': 11.5 },
                    'other-major': { '1R': 4.5, '1K': 5.0, '1DK': 6.0, '1LDK': 7.8, '2DK': 8.5, '2LDK': 9.8, '3LDK': 12.0 },
                    'regional': { '1R': 3.8, '1K': 4.2, '1DK': 5.1, '1LDK': 6.5, '2DK': 7.0, '2LDK': 8.2, '3LDK': 10.1 }
                };
                
                const avgRentForType = (averageRentData[region]?.[roomLayout] || 6.0) * 10000;
                const rentComparison = ((monthlyRent - avgRentForType) / avgRentForType) * 100;
                
                // 適正性判定
                let rentJudgment = '';
                let judgmentClass = '';
                
                if (rentRatio <= 25) {
                    rentJudgment = '非常に適正';
                    judgmentClass = 'excellent';
                } else if (rentRatio <= 30) {
                    rentJudgment = '適正';
                    judgmentClass = 'good';
                } else if (rentRatio <= 35) {
                    rentJudgment = 'やや負担大';
                    judgmentClass = 'fair';
                } else if (rentRatio <= 40) {
                    rentJudgment = '負担大';
                    judgmentClass = 'poor';
                } else {
                    rentJudgment = '過度な負担';
                    judgmentClass = 'very-poor';
                }
                
                // 市場価格比較
                let priceComparison = '';
                if (rentComparison <= -10) {
                    priceComparison = '相場より安い';
                } else if (rentComparison <= 10) {
                    priceComparison = '相場適正';
                } else {
                    priceComparison = '相場より高い';
                }
                
                // 結果表示
                document.getElementById('jpRentResultContent').innerHTML = 
                    `<strong>月賃料：${(monthlyRent/10000).toLocaleString()}万円</strong><br>
                     <strong>賃料負担率：${rentRatio.toFixed(1)}%</strong><br>
                     <strong>適正性評価：<span class="${judgmentClass}">${rentJudgment}</span></strong>`;
                
                document.getElementById('jpRentResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">月給</div>
                        <div class="value">${(monthlySalary/10000).toLocaleString()}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">地域平均賃料</div>
                        <div class="value">${(avgRentForType/10000).toFixed(1)}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">相場との比較</div>
                        <div class="value">${priceComparison}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">年間賃料</div>
                        <div class="value">${(monthlyRent * 12 / 10000).toLocaleString()}万円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">推奨賃料上限</div>
                        <div class="value">${(monthlySalary * 0.3 / 10000).toFixed(1)}万円</div>
                    </div>
                `;
                
                // アドバイス追加
                let advice = '';
                if (rentRatio > 35) {
                    advice = '<div class="rent-advice" style="margin-top: 15px; padding: 15px; background: #fee2e2; border-radius: 8px;"><h5 style="color: var(--error)">⚠️ 改善のアドバイス</h5><p>・より安価な物件の検討をお勧めします</p><p>・収入アップの計画を立てましょう</p><p>・シェアハウスや郊外への移住も検討してみてください</p></div>';
                } else {
                    advice = '<div class="rent-advice" style="margin-top: 15px; padding: 15px; background: #dcfce7; border-radius: 8px;"><h5 style="color: var(--success)">✅ 良好な状況です</h5><p>・現在の賃料負担は適正範囲内です</p><p>・余剰資金を貯蓄や投資に活用できます</p></div>';
                }
                
                document.getElementById('jpRentResultDetails').innerHTML += advice;
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('jpRentErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // 公共料金計算機
        function calculateJpUtility() {
            const region = document.getElementById('jpUtilityRegion').value;
            const housing = document.getElementById('jpUtilityHousing').value;
            const season = document.getElementById('jpUtilitySeason').value;
            const acUsage = document.getElementById('jpUtilityAC').value;
            const wfh = document.getElementById('jpUtilityWFH').value;
            
            const resultPanel = document.getElementById('jpUtilityResult');
            const errorPanel = document.getElementById('jpUtilityError');
            const savingsPanel = document.getElementById('jpUtilitySavings');
            
            // パネルを初期化
            [resultPanel, errorPanel, savingsPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!region || !housing || !season) {
                    throw new Error('すべての項目を入力してください。');
                }
                
                // 地域別電力会社および基本料金
                const electricCompanies = {
                    'tepco': { name: '東京電力', basicFee: 295.24, unitPrice: 30.00, region: '関東' },
                    'kepco': { name: '関西電力', basicFee: 522.58, unitPrice: 25.80, region: '関西' },
                    'chubu': { name: '中部電力', basicFee: 297.00, unitPrice: 28.46, region: '中部' },
                    'tohoku': { name: '東北電力', basicFee: 370.40, unitPrice: 29.42, region: '東北' },
                    'kyushu': { name: '九州電力', basicFee: 316.24, unitPrice: 26.84, region: '九州' },
                    'chugoku': { name: '中国電力', basicFee: 759.00, unitPrice: 27.44, region: '中国' },
                    'shikoku': { name: '四国電力', basicFee: 421.20, unitPrice: 29.65, region: '四国' },
                    'hokkaido': { name: '北海道電力', basicFee: 402.60, unitPrice: 31.21, region: '北海道' },
                    'hokuriku': { name: '北陸電力', basicFee: 302.50, unitPrice: 27.89, region: '北陸' },
                    'okinawa': { name: '沖縄電力', basicFee: 402.40, unitPrice: 28.49, region: '沖縄' }
                };
                
                const company = electricCompanies[region];
                
                // 住居形態別平均電力使用量（kWh/月）
                let baseUsage = 0;
                if (housing === 'studio') baseUsage = 200;
                else if (housing === '1bedroom') baseUsage = 300;
                else baseUsage = 450; // family
                
                // 季節別補正
                const seasonMultiplier = {
                    'spring': 0.85,
                    'summer': 1.4,
                    'autumn': 0.9,
                    'winter': 1.3
                };
                
                baseUsage *= seasonMultiplier[season];
                
                // エアコン使用量補正
                const acMultiplier = {
                    'none': 0.8,
                    'light': 0.9,
                    'moderate': 1.0,
                    'heavy': 1.3,
                    'always': 1.6
                };
                
                baseUsage *= acMultiplier[acUsage];
                
                // 在宅勤務補正
                const wfhMultiplier = {
                    'none': 0.85,
                    'partial': 0.95,
                    'hybrid': 1.1,
                    'full': 1.25
                };
                
                baseUsage *= wfhMultiplier[wfh];
                
                // 電化製品による追加使用量
                let additionalUsage = 0;
                const appliances = ['jpUtilityFridge', 'jpUtilityWasher', 'jpUtilityDryer', 'jpUtilityTV', 'jpUtilityPC', 'jpUtilityHeater'];
                const appliancePower = [45, 15, 60, 25, 20, 80]; // 月間追加kWh
                
                appliances.forEach((id, index) => {
                    if (document.getElementById(id)?.checked) {
                        additionalUsage += appliancePower[index];
                    }
                });
                
                baseUsage += additionalUsage;
                
                // 電気料金計算（3段階料金制度）
                let electricityFee = company.basicFee;
                
                if (baseUsage <= 120) {
                    electricityFee += baseUsage * company.unitPrice * 0.7;
                } else if (baseUsage <= 300) {
                    electricityFee += 120 * company.unitPrice * 0.7;
                    electricityFee += (baseUsage - 120) * company.unitPrice;
                } else {
                    electricityFee += 120 * company.unitPrice * 0.7;
                    electricityFee += 180 * company.unitPrice;
                    electricityFee += (baseUsage - 300) * company.unitPrice * 1.3;
                }
                
                // ガス料金推定（都市ガス基準）
                let gasUsage = housing === 'studio' ? 15 : housing === '1bedroom' ? 25 : 40;
                const gasFee = gasUsage * 170 + 1200; // 基本料金 + 使用料
                
                // 水道料金推定
                let waterUsage = housing === 'studio' ? 8 : housing === '1bedroom' ? 16 : 24;
                const waterFee = waterUsage * 140 + 1000; // 基本料金 + 使用料
                
                const totalUtility = electricityFee + gasFee + waterFee;
                const annualUtility = totalUtility * 12;
                
                // 結果表示
                document.getElementById('jpUtilityResultContent').innerHTML = 
                    `<strong>月間予想電気料金：${Math.round(electricityFee).toLocaleString()}円</strong><br>
                     <strong>月間総公共料金：${Math.round(totalUtility).toLocaleString()}円</strong><br>
                     <strong>年間予想総額：${Math.round(annualUtility).toLocaleString()}円</strong>`;
                
                document.getElementById('jpUtilityResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">電力会社</div>
                        <div class="value">${company.name}（${company.region}）</div>
                    </div>
                    <div class="result-item">
                        <div class="label">月間電力使用量</div>
                        <div class="value">${Math.round(baseUsage)} kWh</div>
                    </div>
                    <div class="result-item">
                        <div class="label">電気料金</div>
                        <div class="value">${Math.round(electricityFee).toLocaleString()}円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">ガス料金（推定）</div>
                        <div class="value">${Math.round(gasFee).toLocaleString()}円</div>
                    </div>
                    <div class="result-item">
                        <div class="label">水道料金（推定）</div>
                        <div class="value">${Math.round(waterFee).toLocaleString()}円</div>
                    </div>
                `;
                
                // 節約のコツ表示
                document.getElementById('jpUtilitySavingsContent').innerHTML = `
                    <div class="savings-tips">
                        <h4>💡 電気料金節約のコツ</h4>
                        <div class="tips-grid">
                            <div class="tip-item">
                                <h5>エアコン効率化</h5>
                                <p>・設定温度を夏28℃、冬20℃に</p>
                                <p>・フィルター清掃を月1回実施</p>
                                <p>・カーテンで断熱効果を高める</p>
                            </div>
                            <div class="tip-item">
                                <h5>照明・電化製品</h5>
                                <p>・LED電球への交換</p>
                                <p>・待機電力を削減（コンセントを抜く）</p>
                                <p>・省エネ機器への買い替え検討</p>
                            </div>
                            <div class="tip-item">
                                <h5>料金プラン見直し</h5>
                                <p>・時間帯別料金プランの検討</p>
                                <p>・電力会社の変更検討</p>
                                <p>・オール電化プランの検討</p>
                            </div>
                        </div>
                        <div class="estimated-savings">
                            <h5>予想節約効果</h5>
                            <p>上記の対策により<strong>月間1,000～3,000円</strong>程度の節約が期待できます。</p>
                            <p>年間で<strong>12,000～36,000円</strong>の電気料金削減が可能です。</p>
                        </div>
                    </div>
                `;
                
                [resultPanel, savingsPanel].forEach(panel => panel.classList.add('visible'));
            } catch (error) {
                document.getElementById('jpUtilityErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // リセット関数
        function resetJpTax() {
            document.getElementById('jpTaxIncome').value = '';
            document.getElementById('jpIncomeType').value = 'salary';
            document.getElementById('jpTaxDependents').value = '0';
            document.getElementById('jpTaxSpouse').value = 'none';
            document.getElementById('jpTaxDeductions').value = '0';
            document.getElementById('jpTaxResidence').value = 'resident';
            document.querySelectorAll('#jp-tax-tool .result-panel, #jp-tax-tool .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        function resetJpLoan() {
            document.getElementById('jpLoanPrice').value = '';
            document.getElementById('jpLoanDownPayment').value = '20';
            document.getElementById('jpLoanTerm').value = '35';
            document.getElementById('jpLoanRateType').value = 'variable';
            document.getElementById('jpLoanIncome').value = '';
            document.getElementById('jpLoanOtherDebt').value = '0';
            document.querySelectorAll('#jp-loan-tool .result-panel, #jp-loan-tool .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        function resetJpRent() {
            document.getElementById('jpRentSalary').value = '';
            document.getElementById('jpRentAmount').value = '';
            document.getElementById('jpRentRegion').value = 'tokyo-center';
            document.getElementById('jpRentType').value = 'apartment';
            document.getElementById('jpRentRooms').value = '1R';
            document.getElementById('jpRentStation').value = '5';
            document.querySelectorAll('#jp-rent-tool .result-panel, #jp-rent-tool .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        function resetJpUtility() {
            document.getElementById('jpUtilityRegion').value = 'tepco';
            document.getElementById('jpUtilityHousing').value = 'studio';
            document.getElementById('jpUtilitySeason').value = 'spring';
            document.getElementById('jpUtilityAC').value = 'none';
            document.getElementById('jpUtilityWFH').value = 'none';
            document.querySelectorAll('#jp-utility-tool input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            document.querySelectorAll('#jp-utility-tool .result-panel, #jp-utility-tool .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Transport Calculator Functions
        function calculateJpTransport() {
            const fromStation = document.getElementById('jpTransportFrom').value.trim();
            const toStation = document.getElementById('jpTransportTo').value.trim();
            const frequency = document.getElementById('jpTransportFreq').value;
            const ticketType = document.getElementById('jpTransportType').value;
            const distance = parseFloat(document.getElementById('jpTransportDistance').value);
            const lineType = document.getElementById('jpTransportLine').value;

            const resultPanel = document.getElementById('jpTransportResult');
            const errorPanel = document.getElementById('jpTransportError');

            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => panel.classList.remove('visible'));

            // Validation
            if (!fromStation || !toStation) {
                document.getElementById('jpTransportErrorContent').innerHTML = `
                    <strong>入力エラー</strong><br>
                    出発駅と到着駅を入力してください。
                `;
                errorPanel.classList.add('visible');
                return;
            }

            if (!distance || distance <= 0) {
                document.getElementById('jpTransportErrorContent').innerHTML = `
                    <strong>入力エラー</strong><br>
                    距離を正しく入力してください（1-100km）。
                `;
                errorPanel.classList.add('visible');
                return;
            }

            try {
                // Calculate base fare based on distance and line type (2025 rates)
                let baseFare;
                switch (lineType) {
                    case 'jr':
                        baseFare = distance <= 3 ? 150 : distance <= 6 ? 200 : distance <= 10 ? 250 : 
                                  distance <= 20 ? Math.round(250 + (distance - 10) * 15) : 
                                  Math.round(400 + (distance - 20) * 12);
                        break;
                    case 'metro':
                        baseFare = distance <= 6 ? 180 : distance <= 11 ? 220 : 
                                  distance <= 16 ? 280 : Math.round(280 + (distance - 16) * 20);
                        break;
                    case 'private':
                        baseFare = distance <= 3 ? 160 : distance <= 6 ? 210 : distance <= 10 ? 270 : 
                                  Math.round(270 + (distance - 10) * 18);
                        break;
                    case 'bus':
                        baseFare = distance <= 3 ? 230 : distance <= 6 ? 270 : Math.round(270 + (distance - 6) * 25);
                        break;
                    default:
                        baseFare = distance <= 5 ? 200 : Math.round(200 + (distance - 5) * 16);
                }

                // Apply IC card discount (2% off)
                let farePerTrip = Math.round(baseFare * 0.98);

                // Calculate monthly costs based on frequency
                let dailyTrips, workingDays, monthlyTrips;
                switch (frequency) {
                    case 'daily':
                        dailyTrips = 2; // round trip
                        workingDays = 22;
                        monthlyTrips = dailyTrips * workingDays;
                        break;
                    case 'weekly':
                        monthlyTrips = 2 * 4.3 * 2; // 2 days per week, round trip
                        break;
                    case 'monthly':
                        monthlyTrips = 6 * 2; // 6 days per month, round trip
                        break;
                    case 'occasional':
                        monthlyTrips = 4 * 2; // 4 days per month, round trip
                        break;
                }

                let monthlyCostRegular = farePerTrip * monthlyTrips;
                let monthlyCostCommuter = 0;
                let monthlyCostStudent = 0;

                // Calculate commuter pass cost (30% savings for daily use)
                if (frequency === 'daily') {
                    monthlyCostCommuter = Math.round(monthlyCostRegular * 0.7);
                    monthlyCostStudent = Math.round(monthlyCostCommuter * 0.7); // Student discount
                }

                // Determine recommended ticket type
                let recommendedType = ticketType;
                let recommendedCost = monthlyCostRegular;

                if (frequency === 'daily' && monthlyCostCommuter > 0) {
                    if (ticketType === 'student' && monthlyCostStudent > 0) {
                        recommendedType = 'student';
                        recommendedCost = monthlyCostStudent;
                    } else if (ticketType === 'commuter' || monthlyCostCommuter < monthlyCostRegular) {
                        recommendedType = 'commuter';
                        recommendedCost = monthlyCostCommuter;
                    }
                }

                // Annual cost calculation
                const annualCost = recommendedCost * 12;

                document.getElementById('jpTransportResultContent').innerHTML = `
                    <div class="result-summary">
                        <div class="result-row">
                            <span class="label">区間</span>
                            <span class="value">${fromStation} → ${toStation}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">距離</span>
                            <span class="value">${distance}km</span>
                        </div>
                        <div class="result-row">
                            <span class="label">1回あたり運賃</span>
                            <span class="value">¥${farePerTrip.toLocaleString()}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">月間利用回数</span>
                            <span class="value">${monthlyTrips}回</span>
                        </div>
                        <div class="result-row highlight">
                            <span class="label">推奨月額交通費</span>
                            <span class="value">¥${recommendedCost.toLocaleString()}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">年間交通費</span>
                            <span class="value">¥${annualCost.toLocaleString()}</span>
                        </div>
                    </div>

                    ${frequency === 'daily' ? `
                    <div class="transport-analysis">
                        <h4>💡 定期券比較</h4>
                        <div class="comparison-table">
                            <div class="comparison-row">
                                <span>普通切符</span>
                                <span>¥${monthlyCostRegular.toLocaleString()}/月</span>
                            </div>
                            ${monthlyCostCommuter > 0 ? `
                            <div class="comparison-row">
                                <span>通勤定期券</span>
                                <span>¥${monthlyCostCommuter.toLocaleString()}/月</span>
                            </div>
                            ` : ''}
                            ${monthlyCostStudent > 0 ? `
                            <div class="comparison-row recommended">
                                <span>学生定期券</span>
                                <span>¥${monthlyCostStudent.toLocaleString()}/月</span>
                            </div>
                            ` : ''}
                        </div>
                        <p><strong>推奨：${recommendedType === 'student' ? '学生定期券' : 
                                        recommendedType === 'commuter' ? '通勤定期券' : '普通切符'}</strong></p>
                    </div>
                    ` : ''}

                    <div class="savings-tips">
                        <h4>🎯 交通費節約のコツ</h4>
                        <ul>
                            <li>月20日以上利用する場合は定期券がお得</li>
                            <li>ICカード利用で切符より約2%安い</li>
                            <li>6ヶ月定期券で約2.5%、12ヶ月定期券で約5%の追加割引</li>
                            <li>会社の交通費補助制度を確認</li>
                        </ul>
                    </div>
                `;

                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpTransportErrorContent').innerHTML = `
                    <strong>計算エラー</strong><br>
                    入力内容を確認してください。エラーが続く場合は、ページをリロードしてお試しください。
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpTransport() {
            document.getElementById('jpTransportFrom').value = '';
            document.getElementById('jpTransportTo').value = '';
            document.getElementById('jpTransportFreq').value = 'daily';
            document.getElementById('jpTransportType').value = 'normal';
            document.getElementById('jpTransportDistance').value = '';
            document.getElementById('jpTransportLine').value = 'jr';
            document.querySelectorAll('#jpTransportResult, #jpTransportError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Mobile Phone Calculator Functions
        function calculateJpMobile() {
            const carrier = document.getElementById('jpMobileCarrier').value;
            const dataUsage = document.getElementById('jpMobileData').value;
            const callUsage = document.getElementById('jpMobileCall').value;
            const contract = document.getElementById('jpMobileContract').value;
            const device = document.getElementById('jpMobileDevice').value;
            const discount = document.getElementById('jpMobileDiscount').value;

            const resultPanel = document.getElementById('jpMobileResult');
            const errorPanel = document.getElementById('jpMobileError');

            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => panel.classList.remove('visible'));

            try {
                // Base plan costs (2025 rates)
                const planCosts = {
                    'docomo': { '1gb': 3465, '3gb': 4565, '7gb': 6765, '20gb': 7315, 'unlimited': 7315 },
                    'au': { '1gb': 3465, '3gb': 4565, '7gb': 6765, '20gb': 7238, 'unlimited': 7238 },
                    'softbank': { '1gb': 3278, '3gb': 4378, '7gb': 5478, '20gb': 7238, 'unlimited': 7238 },
                    'rakuten': { '1gb': 1078, '3gb': 1078, '7gb': 2178, '20gb': 2178, 'unlimited': 3278 },
                    'ahamo': { '1gb': 2970, '3gb': 2970, '7gb': 2970, '20gb': 2970, 'unlimited': 4950 },
                    'povo': { '1gb': 390, '3gb': 990, '7gb': 1500, '20gb': 2700, 'unlimited': 2700 },
                    'linemo': { '1gb': 990, '3gb': 990, '7gb': 2728, '20gb': 2728, 'unlimited': 2728 },
                    'mineo': { '1gb': 1298, '3gb': 1518, '7gb': 1958, '20gb': 2178, 'unlimited': 2398 },
                    'uqmobile': { '1gb': 1628, '3gb': 1628, '7gb': 2728, '20gb': 3828, 'unlimited': 3828 }
                };

                // Call plan costs
                const callCosts = {
                    'basic': 0,
                    '5min': carrier.includes('docomo') || carrier.includes('au') || carrier.includes('softbank') ? 770 : 550,
                    'unlimited': carrier.includes('docomo') || carrier.includes('au') || carrier.includes('softbank') ? 1870 : 1650
                };

                // Device costs
                const deviceCosts = {
                    'none': 0,
                    'budget': 1000,
                    'mid': 2000,
                    'premium': 3500
                };

                // Calculate base monthly cost
                let monthlyCost = planCosts[carrier][dataUsage] + callCosts[callUsage] + deviceCosts[device];

                // Apply discounts
                let discountAmount = 0;
                switch (discount) {
                    case 'family':
                        discountAmount = Math.min(1100, monthlyCost * 0.2);
                        break;
                    case 'student':
                        discountAmount = Math.min(1650, monthlyCost * 0.25);
                        break;
                    case 'senior':
                        discountAmount = Math.min(1100, monthlyCost * 0.15);
                        break;
                    case 'internet':
                        discountAmount = Math.min(1100, monthlyCost * 0.15);
                        break;
                }

                const finalMonthlyCost = Math.max(0, monthlyCost - discountAmount);
                const annualCost = finalMonthlyCost * 12;

                // Generate carrier-specific recommendations
                const carrierNames = {
                    'docomo': 'NTTドコモ', 'au': 'au（KDDI）', 'softbank': 'ソフトバンク', 'rakuten': '楽天モバイル',
                    'ahamo': 'ahamo', 'povo': 'povo', 'linemo': 'LINEMO', 'mineo': 'mineo', 'uqmobile': 'UQモバイル'
                };

                const dataNames = {
                    '1gb': '1GB以下', '3gb': '3GB', '7gb': '7GB', '20gb': '20GB', 'unlimited': '無制限'
                };

                document.getElementById('jpMobileResultContent').innerHTML = `
                    <div class="result-summary">
                        <div class="result-row">
                            <span class="label">キャリア</span>
                            <span class="value">${carrierNames[carrier]}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">データプラン</span>
                            <span class="value">${dataNames[dataUsage]}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">基本料金</span>
                            <span class="value">¥${planCosts[carrier][dataUsage].toLocaleString()}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">通話オプション</span>
                            <span class="value">¥${callCosts[callUsage].toLocaleString()}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">端末代金</span>
                            <span class="value">¥${deviceCosts[device].toLocaleString()}</span>
                        </div>
                        ${discountAmount > 0 ? `
                        <div class="result-row">
                            <span class="label">割引額</span>
                            <span class="value discount">-¥${discountAmount.toLocaleString()}</span>
                        </div>
                        ` : ''}
                        <div class="result-row highlight">
                            <span class="label">月額料金合計</span>
                            <span class="value">¥${finalMonthlyCost.toLocaleString()}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">年間通信費</span>
                            <span class="value">¥${annualCost.toLocaleString()}</span>
                        </div>
                    </div>

                    <div class="mobile-analysis">
                        <h4>📱 料金プラン分析</h4>
                        <div class="analysis-content">
                            <p><strong>選択プラン評価：</strong></p>
                            ${finalMonthlyCost <= 2000 ? '<p class="good">💚 非常にお得なプランです</p>' : 
                              finalMonthlyCost <= 4000 ? '<p class="moderate">💛 標準的な料金です</p>' : 
                              '<p class="expensive">💰 高額プランです。格安SIMの検討をお勧めします</p>'}
                            
                            <div class="tips">
                                <h5>💡 節約のコツ</h5>
                                <ul>
                                    ${carrier.includes('docomo') || carrier.includes('au') || carrier.includes('softbank') ? 
                                      '<li>オンライン専用プラン（ahamo、povo、LINEMO）で大幅節約可能</li>' : ''}
                                    ${discount === 'none' ? '<li>家族割引や光回線セット割の活用を検討</li>' : ''}
                                    <li>データ使用量を確認して最適プランに変更</li>
                                    <li>格安SIMで月1,000-3,000円程度まで削減可能</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `;

                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpMobileErrorContent').innerHTML = `
                    <strong>計算エラー</strong><br>
                    入力内容を確認してください。エラーが続く場合は、ページをリロードしてお試しください。
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpMobile() {
            document.getElementById('jpMobileCarrier').value = 'docomo';
            document.getElementById('jpMobileData').value = '1gb';
            document.getElementById('jpMobileCall').value = 'basic';
            document.getElementById('jpMobileContract').value = 'postpaid';
            document.getElementById('jpMobileDevice').value = 'none';
            document.getElementById('jpMobileDiscount').value = 'none';
            document.querySelectorAll('#jpMobileResult, #jpMobileError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Food Budget Calculator Functions
        function calculateJpFood() {
            const familySize = document.getElementById('jpFoodFamily').value;
            const foodStyle = document.getElementById('jpFoodStyle').value;
            const region = document.getElementById('jpFoodRegion').value;
            const preference = document.getElementById('jpFoodPreference').value;
            const drinking = document.getElementById('jpFoodDrinking').value;
            const lunchType = document.getElementById('jpFoodLunch').value;

            const resultPanel = document.getElementById('jpFoodResult');
            const errorPanel = document.getElementById('jpFoodError');

            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => panel.classList.remove('visible'));

            try {
                // Base food costs per person (2025 prices)
                let baseFood = 0;
                if (foodStyle === 'home-cooking') baseFood = 25000;
                else if (foodStyle === 'mixed') baseFood = 40000;
                else if (foodStyle === 'convenience') baseFood = 55000;
                else baseFood = 80000; // restaurant

                // Family size multipliers
                const familyMultiplier = {
                    '1': 1.0,
                    '2': 1.7,
                    '3': 2.3,
                    '4': 2.8,
                    '5': 3.3
                };

                let totalFood = baseFood * familyMultiplier[familySize];

                // Regional multipliers
                const regionMultiplier = {
                    'tokyo': 1.3,
                    'osaka': 1.15,
                    'yokohama': 1.2,
                    'regional': 1.0,
                    'rural': 0.85
                };

                totalFood *= regionMultiplier[region];

                // Preference multipliers
                const preferenceMultiplier = {
                    'budget': 0.7,
                    'normal': 1.0,
                    'quality': 1.3,
                    'organic': 1.8
                };

                totalFood *= preferenceMultiplier[preference];

                // Drinking costs
                const drinkingCosts = {
                    'none': 0,
                    'light': 5000,
                    'moderate': 12000,
                    'regular': 20000
                };
                const drinkingCost = drinkingCosts[drinking];

                // Lunch costs
                const lunchCosts = {
                    'bento': 0, // already included in home cooking
                    'cafeteria': 15000,
                    'convenience': 25000,
                    'restaurant': 35000
                };
                const lunchCost = lunchCosts[lunchType];

                const monthlyTotal = Math.round(totalFood + drinkingCost + lunchCost);

                // Breakdown
                const groceryCost = Math.round(totalFood * 0.7);
                const restaurantCost = Math.round(totalFood * 0.3);

                // Regional names
                const regionNames = {
                    'tokyo': '東京都心部',
                    'osaka': '大阪市内',
                    'yokohama': '横浜市内',
                    'regional': '地方都市',
                    'rural': '地方・郊外'
                };

                const styleNames = {
                    'home-cooking': '自炊中心',
                    'mixed': '自炊+外食混合',
                    'convenience': 'コンビニ+外食',
                    'restaurant': '外食中心'
                };

                document.getElementById('jpFoodResultContent').innerHTML = `
                    <div class="result-summary">
                        <div class="result-row">
                            <span class="label">世帯人数</span>
                            <span class="value">${familySize === '1' ? '一人暮らし' : familySize + '人家族'}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">食事スタイル</span>
                            <span class="value">${styleNames[foodStyle]}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">居住地域</span>
                            <span class="value">${regionNames[region]}</span>
                        </div>
                        <div class="result-row highlight">
                            <span class="label">月間食費合計</span>
                            <span class="value">¥${monthlyTotal.toLocaleString()}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">年間食費</span>
                            <span class="value">¥${(monthlyTotal * 12).toLocaleString()}</span>
                        </div>
                    </div>

                    <div class="food-breakdown">
                        <h4>🍱 食費内訳</h4>
                        <div class="breakdown-content">
                            <div class="breakdown-row">
                                <span>基本食材・調理</span>
                                <span>¥${groceryCost.toLocaleString()}</span>
                            </div>
                            <div class="breakdown-row">
                                <span>外食・中食</span>
                                <span>¥${restaurantCost.toLocaleString()}</span>
                            </div>
                            ${drinkingCost > 0 ? `
                            <div class="breakdown-row">
                                <span>お酒・飲み物</span>
                                <span>¥${drinkingCost.toLocaleString()}</span>
                            </div>
                            ` : ''}
                            ${lunchCost > 0 ? `
                            <div class="breakdown-row">
                                <span>ランチ代</span>
                                <span>¥${lunchCost.toLocaleString()}</span>
                            </div>
                            ` : ''}
                        </div>
                    </div>

                    <div class="food-analysis">
                        <h4>💡 食費節約のコツ</h4>
                        <div class="analysis-content">
                            ${monthlyTotal <= 30000 ? '<p class="good">💚 非常に節約上手な食費です</p>' : 
                              monthlyTotal <= 50000 ? '<p class="moderate">💛 標準的な食費です</p>' : 
                              '<p class="expensive">💰 食費が高めです。節約の余地があります</p>'}
                            
                            <div class="tips">
                                <h5>🎯 節約ポイント</h5>
                                <ul>
                                    ${foodStyle === 'restaurant' ? '<li>自炊中心に変更で月3-4万円節約可能</li>' : ''}
                                    <li>まとめ買いと冷凍保存で食材コスト削減</li>
                                    <li>季節の食材を活用して美味しく節約</li>
                                    <li>社食・学食利用で外食費を抑える</li>
                                    <li>弁当持参で月1-2万円の外食費削減</li>
                                    ${region === 'tokyo' ? '<li>業務スーパーや激安スーパーの活用</li>' : ''}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;

                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpFoodErrorContent').innerHTML = `
                    <strong>計算エラー</strong><br>
                    入力内容を確認してください。エラーが続く場合は、ページをリロードしてお試しください。
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpFood() {
            document.getElementById('jpFoodFamily').value = '1';
            document.getElementById('jpFoodStyle').value = 'home-cooking';
            document.getElementById('jpFoodRegion').value = 'tokyo';
            document.getElementById('jpFoodPreference').value = 'normal';
            document.getElementById('jpFoodDrinking').value = 'none';
            document.getElementById('jpFoodLunch').value = 'bento';
            document.querySelectorAll('#jpFoodResult, #jpFoodError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Health Insurance Calculator Functions
        function calculateJpHealth() {
            const monthlySalary = parseFloat(document.getElementById('jpHealthSalary').value) * 10000;
            const prefecture = document.getElementById('jpHealthPrefecture').value;
            const age = parseInt(document.getElementById('jpHealthAge').value);
            const employment = document.getElementById('jpHealthEmployment').value;
            const dependents = parseInt(document.getElementById('jpHealthDependents').value || 0);
            const annualBonus = parseFloat(document.getElementById('jpHealthBonus').value || 0) * 10000;

            const resultPanel = document.getElementById('jpHealthResult');
            const errorPanel = document.getElementById('jpHealthError');

            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => panel.classList.remove('visible'));

            // Validation
            if (!monthlySalary || monthlySalary <= 0 || !age || age <= 0) {
                document.getElementById('jpHealthErrorContent').innerHTML = `
                    <strong>入力エラー</strong><br>
                    月額給与と年齢を正しく入力してください。
                `;
                errorPanel.classList.add('visible');
                return;
            }

            try {
                // Prefecture health insurance rates (2025)
                const prefectureRates = {
                    'tokyo': 0.1000,
                    'osaka': 0.1029,
                    'kanagawa': 0.1019,
                    'aichi': 0.1038,
                    'saitama': 0.1000,
                    'chiba': 0.1007,
                    'hyogo': 0.1048,
                    'hokkaido': 0.1068,
                    'fukuoka': 0.1040,
                    'other': 0.1050
                };

                const healthRate = prefectureRates[prefecture];

                // Calculate standard monthly pay (used for insurance calculation)
                const standardMonthlyPay = Math.min(monthlySalary, 1390000); // 2025 ceiling

                let monthlyHealthInsurance = Math.round(standardMonthlyPay * healthRate * 0.5);
                
                // Long-term care insurance (age 40+)
                let monthlyLongTermCare = 0;
                if (age >= 40) {
                    monthlyLongTermCare = Math.round(standardMonthlyPay * 0.0123 * 0.5);
                }

                // Pension insurance (厚生年金)
                const monthlyPension = Math.round(standardMonthlyPay * 0.183 * 0.5);

                // Employment insurance (雇用保険)
                const monthlyEmployment = Math.round(monthlySalary * 0.006 * 0.5);

                // Bonus insurance calculation
                let bonusInsurance = 0;
                if (annualBonus > 0) {
                    bonusInsurance = Math.round(annualBonus * (healthRate * 0.5 + 0.183 * 0.5));
                    if (age >= 40) {
                        bonusInsurance += Math.round(annualBonus * 0.0123 * 0.5);
                    }
                }

                const totalMonthlySocial = monthlyHealthInsurance + monthlyLongTermCare + monthlyPension + monthlyEmployment;

                // Calculate savings vs highest/lowest rates
                const highestRate = Math.max(...Object.values(prefectureRates));
                const lowestRate = Math.min(...Object.values(prefectureRates));
                
                const savingsVsHighest = Math.round((highestRate - healthRate) * standardMonthlyPay * 0.5 * 12);

                let rateComparison = '';
                if (healthRate === lowestRate) {
                    rateComparison = '💚 最も保険料率が低い地域です';
                } else if (healthRate === highestRate) {
                    rateComparison = '💰 最も保険料率が高い地域です';
                } else {
                    rateComparison = '💛 標準的な保険料率の地域です';
                }

                const prefectureNames = {
                    'tokyo': '東京都', 'osaka': '大阪府', 'kanagawa': '神奈川県',
                    'aichi': '愛知県', 'saitama': '埼玉県', 'chiba': '千葉県',
                    'hyogo': '兵庫県', 'hokkaido': '北海道', 'fukuoka': '福岡県',
                    'other': 'その他地域'
                };

                document.getElementById('jpHealthResultContent').innerHTML = `
                    <div class="result-summary">
                        <div class="result-row">
                            <span class="label">都道府県</span>
                            <span class="value">${prefectureNames[prefecture]}</span>
                        </div>
                        <div class="result-row">
                            <span class="label">健康保険料率</span>
                            <span class="value">${(healthRate * 100).toFixed(2)}%</span>
                        </div>
                        <div class="result-row">
                            <span class="label">月額健康保険料</span>
                            <span class="value">${monthlyHealthInsurance.toLocaleString()}円</span>
                        </div>
                        ${age >= 40 ? `
                        <div class="result-row">
                            <span class="label">介護保険料</span>
                            <span class="value">${monthlyLongTermCare.toLocaleString()}円</span>
                        </div>
                        ` : ''}
                        <div class="result-row">
                            <span class="label">厚生年金保険料</span>
                            <span class="value">${monthlyPension.toLocaleString()}円</span>
                        </div>
                        <div class="result-row">
                            <span class="label">雇用保険料</span>
                            <span class="value">${monthlyEmployment.toLocaleString()}円</span>
                        </div>
                        <div class="result-row highlight">
                            <span class="label">社会保険料合計</span>
                            <span class="value">${totalMonthlySocial.toLocaleString()}円/月</span>
                        </div>
                        <div class="result-row">
                            <span class="label">年間社会保険料</span>
                            <span class="value">${(totalMonthlySocial * 12 + bonusInsurance).toLocaleString()}円</span>
                        </div>
                    </div>

                    <div class="health-analysis">
                        <h4>🏥 健康保険料詳細分析</h4>
                        <div class="analysis-content">
                            <p><strong>地域比較：</strong> ${rateComparison}</p>
                            
                            <div class="insurance-breakdown">
                                <h5>💡 保険料の内訳</h5>
                                <p>個人負担: ${monthlyHealthInsurance.toLocaleString()}円</p>
                                <p>会社負担: ${monthlyHealthInsurance.toLocaleString()}円</p>
                                <p>総保険料: ${(monthlyHealthInsurance * 2).toLocaleString()}円</p>
                            </div>
                            
                            <div class="rate-comparison">
                                <h5>📊 都道府県別料率比較</h5>
                                <p>現在地域: ${(healthRate * 100).toFixed(2)}%</p>
                                <p>全国最低: ${(lowestRate * 100).toFixed(2)}%</p>
                                <p>全国最高: ${(highestRate * 100).toFixed(2)}%</p>
                                ${savingsVsHighest > 0 ? 
                                  `<p class="savings">💰 最高料率地域と比較して年間${savingsVsHighest.toLocaleString()}円お得</p>` : 
                                  ''}
                            </div>

                            <div class="tips">
                                <h5>💡 健康保険の豆知識</h5>
                                <ul>
                                    <li>扶養家族の保険料は無料（年収130万円未満）</li>
                                    ${healthRate > 0.101 ? '<li>保険料率が高い地域です。転居時の参考にしてください</li>' : ''}
                                    <li>40歳から介護保険料が加算されます</li>
                                    <li>退職時は任意継続も選択可能（最大2年間）</li>
                                    <li>医療費の自己負担は3割（高齢者は1-2割）</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `;

                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpHealthErrorContent').innerHTML = `
                    <strong>計算エラー</strong><br>
                    入力内容を確認してください。エラーが続く場合は、ページをリロードしてお試しください。
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpHealth() {
            document.getElementById('jpHealthSalary').value = '';
            document.getElementById('jpHealthPrefecture').value = 'tokyo';
            document.getElementById('jpHealthAge').value = '';
            document.getElementById('jpHealthEmployment').value = 'employee';
            document.getElementById('jpHealthDependents').value = '0';
            document.getElementById('jpHealthBonus').value = '';
            document.querySelectorAll('#jpHealthResult, #jpHealthError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // 1. 住居費統合計算機
        function calculateJpHousing() {
            try {
                const monthlyRent = parseFloat(document.getElementById('jpHousingRent').value) * 10000;
                const managementFee = parseFloat(document.getElementById('jpHousingManagement').value || 0);
                const depositMonths = parseFloat(document.getElementById('jpHousingDeposit').value);
                const keyMoneyMonths = parseFloat(document.getElementById('jpHousingKeyMoney').value);
                const brokerageFee = parseFloat(document.getElementById('jpHousingBrokerage').value);
                const insurance = parseFloat(document.getElementById('jpHousingInsurance').value || 15000);
                const region = document.getElementById('jpHousingRegion').value;
                const housingType = document.getElementById('jpHousingType').value;

                const resultPanel = document.getElementById('jpHousingResult');
                const errorPanel = document.getElementById('jpHousingError');

                if (!monthlyRent || monthlyRent <= 0) {
                    throw new Error('月額賃料を正しく入力してください。');
                }

                // 地域別追加費用係数
                const regionMultiplier = {
                    tokyo: 1.3,
                    osaka: 1.1,
                    yokohama: 1.2,
                    nagoya: 1.05,
                    sapporo: 0.9,
                    fukuoka: 0.95,
                    regional: 0.8
                };

                // 住居タイプ別追加費用
                const typeMultiplier = {
                    apartment: 1.0,
                    mansion: 1.2,
                    house: 1.1,
                    share: 0.7
                };

                const baseMultiplier = (regionMultiplier[region] || 1.0) * (typeMultiplier[housingType] || 1.0);
                
                // 月間費用計算
                const totalMonthlyRent = monthlyRent + managementFee;
                const utilities = Math.round(8000 * baseMultiplier); // 基本光熱費
                const monthlyTotal = totalMonthlyRent + utilities;

                // 初期費用計算
                const deposit = monthlyRent * depositMonths;
                const keyMoney = monthlyRent * keyMoneyMonths;
                const brokerage = monthlyRent * brokerageFee;
                const cleaningFee = Math.round(30000 * baseMultiplier);
                const lockChange = Math.round(15000 * baseMultiplier);
                
                const initialCost = deposit + keyMoney + brokerage + insurance + cleaningFee + lockChange + monthlyRent;

                // 年間費用
                const yearlyRent = monthlyTotal * 12;
                const yearlyInsurance = insurance;
                const yearlyTotal = yearlyRent + yearlyInsurance;

                // 評価およびアドバイス
                let evaluation = '';
                let advice = [];
                
                const rentIncomeRatio = monthlyTotal / (300000); // 平均所得対比
                
                if (rentIncomeRatio <= 0.25) {
                    evaluation = '非常に適正な住居費です';
                    advice.push('余裕資金を貯蓄や投資に活用してください');
                } else if (rentIncomeRatio <= 0.33) {
                    evaluation = '適正な住居費水準です';
                    advice.push('現在の水準を維持して生活費を管理してください');
                } else if (rentIncomeRatio <= 0.4) {
                    evaluation = 'やや高い住居費です';
                    advice.push('他の生活費を節約してバランスを取ってください');
                } else {
                    evaluation = '住居費負担が大きいです';
                    advice.push('より安価な地域や小さな部屋を検討してみてください');
                }

                if (region === 'tokyo') {
                    advice.push('東京は交通費節約のため職場近くの居住をお勧めします');
                }

                if (housingType === 'share') {
                    advice.push('シェアハウスは初期費用が安価ですがプライバシーを考慮してください');
                }

                document.getElementById('jpHousingResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">月総住居費: <span class="highlight">${monthlyTotal.toLocaleString()}円</span></div>
                        <div class="result-subtitle">初期入居費用: ${initialCost.toLocaleString()}円</div>
                        <div class="result-subtitle">年間住居費: ${yearlyTotal.toLocaleString()}円</div>
                    </div>
                `;

                document.getElementById('jpHousingResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>📋 月間費用内訳</h4>
                            <ul>
                                <li>月額賃料: ${monthlyRent.toLocaleString()}円</li>
                                <li>管理費: ${managementFee.toLocaleString()}円</li>
                                <li>予想光熱費: ${utilities.toLocaleString()}円</li>
                                <li><strong>月総計: ${monthlyTotal.toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>💰 初期費用内訳</h4>
                            <ul>
                                <li>敷金: ${deposit.toLocaleString()}円</li>
                                <li>礼金: ${keyMoney.toLocaleString()}円</li>
                                <li>仲介手数料: ${brokerage.toLocaleString()}円</li>
                                <li>火災保険料: ${insurance.toLocaleString()}円</li>
                                <li>清掃費: ${cleaningFee.toLocaleString()}円</li>
                                <li>鍵交換費: ${lockChange.toLocaleString()}円</li>
                                <li>初月賃料: ${monthlyRent.toLocaleString()}円</li>
                                <li><strong>総初期費用: ${initialCost.toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 評価とアドバイス</h4>
                            <p><strong>${evaluation}</strong></p>
                            <ul>
                                ${advice.map(tip => `<li>${tip}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;

                errorPanel.classList.remove('visible');
                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpHousingErrorContent').textContent = error.message;
                document.getElementById('jpHousingError').classList.add('visible');
                document.getElementById('jpHousingResult').classList.remove('visible');
            }
        }

        function resetJpHousing() {
            document.getElementById('jpHousingRent').value = '';
            document.getElementById('jpHousingManagement').value = '';
            document.getElementById('jpHousingDeposit').value = '1';
            document.getElementById('jpHousingKeyMoney').value = '0';
            document.getElementById('jpHousingBrokerage').value = '1';
            document.getElementById('jpHousingInsurance').value = '15000';
            document.getElementById('jpHousingRegion').value = 'osaka';
            document.getElementById('jpHousingType').value = 'apartment';
            document.querySelectorAll('#jpHousingResult, #jpHousingError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // 2. 手取り給与計算機
        function calculateJpNetpay() {
            try {
                const monthlyGross = parseFloat(document.getElementById('jpNetpayGross').value) * 10000;
                const yearlyBonus = parseFloat(document.getElementById('jpNetpayBonus').value || 0) * 10000;
                const region = document.getElementById('jpNetpayRegion').value;
                const age = parseInt(document.getElementById('jpNetpayAge').value);
                const dependents = parseInt(document.getElementById('jpNetpayDependents').value || 0);
                const spouseType = document.getElementById('jpNetpaySpouse').value;
                const employment = document.getElementById('jpNetpayEmployment').value;
                const deductions = parseFloat(document.getElementById('jpNetpayDeductions').value || 0) * 10000;

                const resultPanel = document.getElementById('jpNetpayResult');
                const errorPanel = document.getElementById('jpNetpayError');

                if (!monthlyGross || monthlyGross <= 0) {
                    throw new Error('月額総給与を正しく入力してください。');
                }

                if (!age || age < 18 || age > 70) {
                    throw new Error('年齢を正しく入力してください（18-70歳）。');
                }

                const yearlyGross = monthlyGross * 12 + yearlyBonus;

                // 地域別住民税率
                const regionTaxRates = {
                    tokyo: { prefectural: 0.04, municipal: 0.06 },
                    osaka: { prefectural: 0.04, municipal: 0.06 },
                    kanagawa: { prefectural: 0.0425, municipal: 0.06 },
                    aichi: { prefectural: 0.04, municipal: 0.06 },
                    saitama: { prefectural: 0.04, municipal: 0.06 },
                    chiba: { prefectural: 0.04, municipal: 0.06 },
                    hyogo: { prefectural: 0.04, municipal: 0.06 },
                    hokkaido: { prefectural: 0.04, municipal: 0.06 },
                    fukuoka: { prefectural: 0.04, municipal: 0.06 },
                    other: { prefectural: 0.04, municipal: 0.06 }
                };

                // 所得控除計算
                const basicDeduction = 480000; // 基礎控除
                const employeeDeduction = Math.min(yearlyGross * 0.3, 1950000); // 給与所得控除
                const spouseDeduction = spouseType === 'dependent' ? 380000 : 0;
                const dependentDeduction = dependents * 380000;
                const totalDeductions = basicDeduction + employeeDeduction + spouseDeduction + dependentDeduction + deductions;

                // 課税所得
                const taxableIncome = Math.max(0, yearlyGross - totalDeductions);

                // 所得税計算（2025年累進税率）
                let incomeTax = 0;
                if (taxableIncome > 0) {
                    if (taxableIncome <= 1950000) incomeTax = taxableIncome * 0.05;
                    else if (taxableIncome <= 3300000) incomeTax = 97500 + (taxableIncome - 1950000) * 0.10;
                    else if (taxableIncome <= 6950000) incomeTax = 232500 + (taxableIncome - 3300000) * 0.20;
                    else if (taxableIncome <= 9000000) incomeTax = 962500 + (taxableIncome - 6950000) * 0.23;
                    else if (taxableIncome <= 18000000) incomeTax = 1434000 + (taxableIncome - 9000000) * 0.33;
                    else if (taxableIncome <= 40000000) incomeTax = 4404000 + (taxableIncome - 18000000) * 0.40;
                    else incomeTax = 13204000 + (taxableIncome - 40000000) * 0.45;
                }

                // 復興税（所得税の2.1%）
                const reconstructionTax = incomeTax * 0.021;

                // 住民税計算
                const regionalTax = regionTaxRates[region] || regionTaxRates.other;
                const prefecturalTax = taxableIncome * regionalTax.prefectural;
                const municipalTax = taxableIncome * regionalTax.municipal;
                const residentTax = prefecturalTax + municipalTax + 5000; // 均等割含む

                // 社会保険料計算
                const healthInsurance = yearlyGross * 0.0982; // 健康保険料（平均）
                const pensionInsurance = Math.min(yearlyGross * 0.183, 1380000); // 年金保険料
                const employmentInsurance = yearlyGross * 0.006; // 雇用保険料
                const longTermCare = age >= 40 ? yearlyGross * 0.0117 : 0; // 介護保険料

                const totalSocialInsurance = healthInsurance + pensionInsurance + employmentInsurance + longTermCare;

                // 総控除額
                const totalTax = incomeTax + reconstructionTax + residentTax;
                const totalDeducted = totalTax + totalSocialInsurance;

                // 手取り額
                const netIncome = yearlyGross - totalDeducted;
                const monthlyNetIncome = netIncome / 12;

                // 手取り率
                const netIncomeRate = (netIncome / yearlyGross) * 100;

                document.getElementById('jpNetpayResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">月手取り額: <span class="highlight">${Math.round(monthlyNetIncome).toLocaleString()}円</span></div>
                        <div class="result-subtitle">年手取り額: ${Math.round(netIncome).toLocaleString()}円</div>
                        <div class="result-subtitle">手取り率: ${netIncomeRate.toFixed(1)}%</div>
                    </div>
                `;

                document.getElementById('jpNetpayResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>💰 年間給与内訳</h4>
                            <ul>
                                <li>月給（12ヶ月）: ${(monthlyGross * 12).toLocaleString()}円</li>
                                <li>賞与: ${yearlyBonus.toLocaleString()}円</li>
                                <li><strong>総給与: ${yearlyGross.toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>🏛️ 税金内訳</h4>
                            <ul>
                                <li>所得税: ${Math.round(incomeTax).toLocaleString()}円</li>
                                <li>復興税: ${Math.round(reconstructionTax).toLocaleString()}円</li>
                                <li>住民税: ${Math.round(residentTax).toLocaleString()}円</li>
                                <li><strong>税金総計: ${Math.round(totalTax).toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>🏥 社会保険料内訳</h4>
                            <ul>
                                <li>健康保険料: ${Math.round(healthInsurance).toLocaleString()}円</li>
                                <li>年金保険料: ${Math.round(pensionInsurance).toLocaleString()}円</li>
                                <li>雇用保険料: ${Math.round(employmentInsurance).toLocaleString()}円</li>
                                ${age >= 40 ? `<li>介護保険料: ${Math.round(longTermCare).toLocaleString()}円</li>` : ''}
                                <li><strong>社会保険料総計: ${Math.round(totalSocialInsurance).toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 月別予想収入</h4>
                            <ul>
                                <li>月総給与: ${monthlyGross.toLocaleString()}円</li>
                                <li>月控除額: ${Math.round(totalDeducted / 12).toLocaleString()}円</li>
                                <li><strong>月手取り額: ${Math.round(monthlyNetIncome).toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                    </div>
                `;

                errorPanel.classList.remove('visible');
                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpNetpayErrorContent').textContent = error.message;
                document.getElementById('jpNetpayError').classList.add('visible');
                document.getElementById('jpNetpayResult').classList.remove('visible');
            }
        }

        function resetJpNetpay() {
            document.getElementById('jpNetpayGross').value = '';
            document.getElementById('jpNetpayBonus').value = '0';
            document.getElementById('jpNetpayRegion').value = 'osaka';
            document.getElementById('jpNetpayAge').value = '30';
            document.getElementById('jpNetpayDependents').value = '0';
            document.getElementById('jpNetpaySpouse').value = 'none';
            document.getElementById('jpNetpayEmployment').value = 'fulltime';
            document.getElementById('jpNetpayDeductions').value = '0';
            document.querySelectorAll('#jpNetpayResult, #jpNetpayError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // 3. 生活費総合計算機
        function calculateJpLiving() {
            try {
                const familySize = parseInt(document.getElementById('jpLivingFamily').value);
                const region = document.getElementById('jpLivingRegion').value;
                const lifestyle = document.getElementById('jpLivingStyle').value;
                const diningOut = document.getElementById('jpLivingDining').value;
                const transport = document.getElementById('jpLivingTransport').value;
                const entertainment = document.getElementById('jpLivingEntertainment').value;
                const shopping = document.getElementById('jpLivingShopping').value;
                const savings = document.getElementById('jpLivingSavings').value;

                const resultPanel = document.getElementById('jpLivingResult');
                const errorPanel = document.getElementById('jpLivingError');

                // 地域別物価指数
                const regionMultiplier = {
                    tokyo: 1.3,
                    osaka: 1.1,
                    yokohama: 1.2,
                    nagoya: 1.05,
                    sapporo: 0.9,
                    fukuoka: 0.95,
                    regional: 0.85,
                    rural: 0.75
                };

                // 生活スタイル別指数
                const lifestyleMultiplier = {
                    minimal: 0.7,
                    standard: 1.0,
                    comfortable: 1.3,
                    luxury: 1.8
                };

                const baseMultiplier = (regionMultiplier[region] || 1.0) * (lifestyleMultiplier[lifestyle] || 1.0);

                // 基本生活費（1人基準、円/月）
                let baseCosts = {
                    food: 40000,
                    utilities: 8000,
                    transport: 12000,
                    entertainment: 15000,
                    shopping: 20000,
                    medical: 5000,
                    communication: 8000,
                    miscellaneous: 10000
                };

                // 家族規模別調整
                const familyMultipliers = {
                    1: 1.0,
                    2: 1.7,
                    3: 2.3,
                    4: 2.8,
                    5: 3.2
                };

                const familyMultiplier = familyMultipliers[familySize] || 3.5;

                // 外食頻度別食費調整
                const diningMultiplier = {
                    rarely: 0.8,
                    occasional: 1.0,
                    frequent: 1.4,
                    mostly: 2.0
                };

                // 交通費調整
                const transportMultiplier = {
                    none: 0,
                    minimal: 0.3,
                    public: 1.0,
                    mixed: 1.5,
                    car: 2.5
                };

                // 娯楽費調整
                const entertainmentMultiplier = {
                    minimal: 0.4,
                    moderate: 1.0,
                    active: 1.8,
                    frequent: 2.5
                };

                // ショッピング費調整
                const shoppingMultiplier = {
                    essential: 0.6,
                    moderate: 1.0,
                    frequent: 1.6,
                    luxury: 2.5
                };

                // 実際の費用計算
                const foodCost = Math.round(baseCosts.food * familyMultiplier * baseMultiplier * (diningMultiplier[diningOut] || 1.0));
                const utilitiesCost = Math.round(baseCosts.utilities * familyMultiplier * baseMultiplier);
                const transportCost = Math.round(baseCosts.transport * baseMultiplier * (transportMultiplier[transport] || 1.0));
                const entertainmentCost = Math.round(baseCosts.entertainment * baseMultiplier * (entertainmentMultiplier[entertainment] || 1.0));
                const shoppingCost = Math.round(baseCosts.shopping * familyMultiplier * baseMultiplier * (shoppingMultiplier[shopping] || 1.0));
                const medicalCost = Math.round(baseCosts.medical * familyMultiplier * baseMultiplier);
                const communicationCost = Math.round(baseCosts.communication * Math.min(familyMultiplier, 2) * baseMultiplier);
                const miscellaneousCost = Math.round(baseCosts.miscellaneous * familyMultiplier * baseMultiplier);

                const totalMonthlyCost = foodCost + utilitiesCost + transportCost + entertainmentCost + 
                                      shoppingCost + medicalCost + communicationCost + miscellaneousCost;

                // 貯蓄目標による必要所得計算
                const savingsRate = {
                    none: 0,
                    minimal: 0.075,
                    moderate: 0.175,
                    aggressive: 0.25
                };

                const targetSavingsRate = savingsRate[savings] || 0;
                const requiredIncome = Math.round(totalMonthlyCost / (1 - targetSavingsRate));
                const targetSavings = requiredIncome - totalMonthlyCost;

                // 年間費用
                const yearlyTotal = totalMonthlyCost * 12;
                const yearlySavings = targetSavings * 12;

                // アドバイス生成
                let advice = [];
                
                if (region === 'tokyo' && lifestyle === 'luxury') {
                    advice.push('東京での高級生活は相当な費用がかかります。優先順位を決めてみてください。');
                }
                
                if (familySize >= 3 && savings === 'aggressive') {
                    advice.push('家族がいながらの積極的貯蓄は挑戦的です。現実的な目標を立ててください。');
                }

                if (transport === 'car' && region === 'tokyo') {
                    advice.push('東京で自動車は必須ではありません。公共交通機関の活用を検討してください。');
                }

                if (diningOut === 'mostly') {
                    advice.push('外食費が高額です。週2-3回家で料理すれば相当な節約が可能です。');
                }

                document.getElementById('jpLivingResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">月生活費: <span class="highlight">${totalMonthlyCost.toLocaleString()}円</span></div>
                        <div class="result-subtitle">推奨月収: ${requiredIncome.toLocaleString()}円</div>
                        <div class="result-subtitle">目標貯蓄額: ${targetSavings.toLocaleString()}円/月</div>
                    </div>
                `;

                document.getElementById('jpLivingResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>🛒 月間生活費内訳</h4>
                            <ul>
                                <li>食費: ${foodCost.toLocaleString()}円</li>
                                <li>光熱費: ${utilitiesCost.toLocaleString()}円</li>
                                <li>交通費: ${transportCost.toLocaleString()}円</li>
                                <li>娯楽費: ${entertainmentCost.toLocaleString()}円</li>
                                <li>ショッピング/衣類: ${shoppingCost.toLocaleString()}円</li>
                                <li>医療費: ${medicalCost.toLocaleString()}円</li>
                                <li>通信費: ${communicationCost.toLocaleString()}円</li>
                                <li>その他: ${miscellaneousCost.toLocaleString()}円</li>
                                <li><strong>総計: ${totalMonthlyCost.toLocaleString()}円</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>💰 年間予算計画</h4>
                            <ul>
                                <li>年間生活費: ${yearlyTotal.toLocaleString()}円</li>
                                <li>年間貯蓄目標: ${yearlySavings.toLocaleString()}円</li>
                                <li>必要年間所得: ${(requiredIncome * 12).toLocaleString()}円</li>
                                <li>貯蓄率: ${(targetSavingsRate * 100).toFixed(1)}%</li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 節約のコツ&アドバイス</h4>
                            ${advice.length > 0 ? `<ul>${advice.map(tip => `<li>${tip}</li>`).join('')}</ul>` : '<p>現在の設定が適切です。</p>'}
                            <p><strong>生活レベル:</strong> ${lifestyle === 'minimal' ? '節約型' : lifestyle === 'standard' ? '一般型' : lifestyle === 'comfortable' ? '余裕型' : '高級型'}</p>
                            <p><strong>地域特性:</strong> ${region === 'tokyo' ? '最高物価' : region === 'osaka' ? '高物価' : region.includes('regional') ? '適正物価' : '低物価'}</p>
                        </div>
                    </div>
                `;

                errorPanel.classList.remove('visible');
                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpLivingErrorContent').textContent = error.message;
                document.getElementById('jpLivingError').classList.add('visible');
                document.getElementById('jpLivingResult').classList.remove('visible');
            }
        }

        function resetJpLiving() {
            document.getElementById('jpLivingFamily').value = '1';
            document.getElementById('jpLivingRegion').value = 'osaka';
            document.getElementById('jpLivingStyle').value = 'standard';
            document.getElementById('jpLivingDining').value = 'occasional';
            document.getElementById('jpLivingTransport').value = 'public';
            document.getElementById('jpLivingEntertainment').value = 'moderate';
            document.getElementById('jpLivingShopping').value = 'moderate';
            document.getElementById('jpLivingSavings').value = 'moderate';
            document.querySelectorAll('#jpLivingResult, #jpLivingError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }
    </script>
</body>
</html>
