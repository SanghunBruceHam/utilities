<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japan Salary Calculator 2025 Latest | Take-Home Pay Calculator + Tax Analysis</title>
    <meta name="description" content="Calculate accurate take-home salary in Japan with 2025 latest tax rates. Prefecture-specific health insurance, pension, income tax calculation + AI financial planning.">
    <meta name="keywords" content="japan salary calculator, japanese tax calculator, take home pay calculator, japan health insurance, pension calculation, japan income tax, 2025 salary, prefecture tax rates, japan employment, salary simulation, savings planning, era converter, zodiac calculator">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Utilities Collection">

    <!-- Open Graph -->
    <meta property="og:title" content="Japan Salary Calculator 2025 Latest | Take-Home Pay + Tax Analysis">
    <meta property="og:description" content="Accurate prefecture-specific health insurance, pension, income tax calculation. Monthly salary breakdown, future income prediction, retirement planning with AI analysis">
    <meta property="og:url" content="https://utilities.mahalohana-bruce.com/en/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://utilities.mahalohana-bruce.com/images/japan-salary-calculator-og.jpg">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Japan Life Calculator Tools">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Japan Salary Calculator 2025 Latest">
    <meta name="twitter:description" content="Accurate prefecture-specific salary calculation + AI financial analysis">
    <meta name="twitter:image" content="https://utilities.mahalohana-bruce.com/images/japan-salary-calculator-twitter.jpg">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="geo.region" content="JP">
    <meta name="geo.placename" content="Japan">
    <meta name="application-name" content="Japan Salary Calculator">
    <meta name="apple-mobile-web-app-title" content="Japan Salary Calculator">
    <meta name="theme-color" content="#2563eb">

    <link rel="canonical" href="https://utilities.mahalohana-bruce.com/en/">
    <link rel="stylesheet" href="/css/professional-design-system.css">
    <link rel="icon" href="/favicon.ico">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <!-- Alternative language versions -->
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/ko/" hreflang="ko">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/en/" hreflang="en">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/ja/" hreflang="ja">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/vi/" hreflang="vi">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/" hreflang="x-default">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Japan Salary Calculator 2025",
        "description": "Calculate accurate take-home salary in Japan with 2025 latest tax rates. Prefecture-specific health insurance, pension, income tax calculation online tool",
        "url": "https://utilities.mahalohana-bruce.com/en/",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "All",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "author": {
            "@type": "Organization",
            "name": "Utilities Collection"
        },
        "dateModified": "2025-01-21",
        "inLanguage": "en",
        "keywords": ["japan salary calculator", "take home pay", "japanese tax", "health insurance", "pension calculation"],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "1247"
        },
        "featureList": [
            "2025 Latest Tax Rates Applied",
            "14 Prefecture-specific Health Insurance Rates",
            "Detailed Monthly Salary Analysis",
            "Future Salary Prediction",
            "Savings Plan Development",
            "Retirement Fund Simulation",
            "AI-powered Financial Advice"
        ]
    }
    </script>
    
    <!-- FAQ Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{
            "@type": "Question",
            "name": "How to use Japan Salary Calculator?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Enter your annual salary (in 10,000 yen units), prefecture of residence, age, and number of dependents. The calculator automatically computes take-home pay with 2025 latest tax rates including health insurance, pension, income tax, and resident tax."
            }
        }, {
            "@type": "Question", 
            "name": "Do tax rates differ by prefecture?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, health insurance premiums vary by prefecture. Tokyo 9.81%, Osaka 10.29%, Saitama 9.71%, etc. Regional differences are accurately applied for precise calculations."
            }
        }, {
            "@type": "Question",
            "name": "Are 2025 Japan tax rate changes reflected?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, all 2025 latest social insurance rates and progressive income tax rates are fully reflected. Health insurance 9.9%, employee pension 18.3%, employment insurance 0.6%, etc., with accurate rates applied."
            }
        }]
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HS98ZL6343"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', 'G-HS98ZL6343');
    </script>

    <!-- Google AdSense Auto Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867" crossorigin="anonymous"></script>

    <!-- Performance and SW Registration -->
    <script src="/js/common/performance-utils.js"></script>
    <script>
        window.performanceUtils && window.performanceUtils.initPerformanceMonitoring();
    </script>

    <style>
        /* Integrated Tools Styles */
        .tool-panel {
            background: var(--bg-primary);
            border: 1px solid #d5d8dc;
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .tool-panel.hidden {
            display: none;
        }

        .tool-header-inline {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 2px solid var(--primary-blue);
        }

        .tool-icon-inline {
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--very-light-gray) 0%, var(--light-gray) 100%);
            border-radius: var(--radius-lg);
            border: 2px solid var(--primary-blue);
        }

        .tool-title-inline {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--text-dark);
            margin: 0;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-label {
            font-weight: var(--font-semibold);
            color: var(--text-dark);
            font-size: var(--text-base);
        }

        .form-input, .form-select {
            padding: var(--space-3);
            border: 2px solid #d5d8dc;
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            transition: var(--transition);
            background: var(--bg-primary);
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .form-button {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: var(--text-white);
            border: none;
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-lg);
            font-weight: var(--font-semibold);
            font-size: var(--text-base);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
        }

        .form-button:hover {
            background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--primary-blue) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .result-panel {
            background: linear-gradient(135deg, var(--very-light-gray) 0%, var(--light-gray) 100%);
            border: 2px solid var(--success);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
            display: none;
        }

        .result-panel.visible {
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--success);
            margin-bottom: var(--space-4);
        }

        .result-content {
            font-size: var(--text-lg);
            color: var(--text-dark);
            line-height: 1.7;
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-4);
        }

        .result-item {
            background: var(--bg-primary);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            border: 1px solid #d5d8dc;
        }

        .result-item .label {
            font-weight: var(--font-semibold);
            color: var(--text-medium);
            font-size: var(--text-sm);
            margin-bottom: var(--space-1);
        }

        .result-item .value {
            font-weight: var(--font-bold);
            font-size: var(--text-lg);
            color: var(--primary-navy);
        }

        .error-panel {
            background: #fee2e2;
            border: 2px solid var(--error);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
            color: var(--error);
            display: none;
        }

        .error-panel.visible {
            display: block;
        }

        .hidden {
            display: none;
        }

        /* Improved result display styles */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-top: var(--space-5);
        }

        .analysis-item {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 1px solid #cbd5e1;
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            transition: transform 0.2s;
        }

        .analysis-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .analysis-item h4 {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--primary-navy);
            margin-bottom: var(--space-3);
            padding-bottom: var(--space-2);
            border-bottom: 2px solid var(--primary-blue);
        }

        .analysis-item ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .analysis-item li {
            padding: var(--space-2) 0;
            color: var(--text-dark);
            font-size: var(--text-base);
            line-height: 1.6;
            border-bottom: 1px solid #e2e8f0;
        }

        .analysis-item li:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .analysis-item li strong {
            color: var(--primary-navy);
            font-weight: var(--font-bold);
            display: block;
            margin-top: var(--space-2);
            font-size: 1.05em;
        }

        .analysis-item p {
            color: var(--text-dark);
            line-height: 1.7;
            margin: var(--space-2) 0;
        }

        .result-main {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-navy) 100%);
            color: white;
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            text-align: center;
            margin-bottom: var(--space-5);
        }

        .result-value {
            font-size: var(--text-xl);
            margin-bottom: var(--space-3);
        }

        .result-value .highlight {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: #fbbf24;
            display: block;
            margin-top: var(--space-2);
        }

        .result-subtitle {
            font-size: var(--text-lg);
            opacity: 0.95;
            margin-top: var(--space-2);
        }

        /* Improved info section readability */
        .info-section {
            padding: var(--space-8) 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }

        .section-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--primary-navy);
            margin-bottom: var(--space-4);
            line-height: 1.4;
        }

        .section-subtitle {
            font-size: var(--text-lg);
            color: var(--text-medium);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }

        .info-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .info-card h3 {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--primary-blue);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .info-card p {
            font-size: var(--text-base);
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: var(--space-3);
        }

        .info-card ul {
            margin-top: var(--space-3);
            padding-left: var(--space-6);
        }

        .info-card li {
            font-size: var(--text-base);
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: var(--space-2);
        }

        .info-card strong {
            color: var(--primary-navy);
            font-weight: var(--font-semibold);
        }

        /* Improved form field readability */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-6);
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-dark);
            margin-bottom: var(--space-2);
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .form-input,
        .form-select {
            padding: var(--space-3);
            border: 2px solid #cbd5e1;
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            background: white;
            transition: all 0.2s;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-input::placeholder {
            color: #94a3b8;
        }

        .form-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            margin-top: var(--space-6);
        }

        .form-button {
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
        }

        .form-button.primary {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-navy) 100%);
            color: white;
        }

        .form-button.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .form-button.secondary {
            background: white;
            color: var(--primary-navy);
            border: 2px solid var(--primary-blue);
        }

        .form-button.secondary:hover {
            background: var(--primary-blue);
            color: white;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: var(--space-8);
            align-items: start;
        }

        .sidebar {
            background: var(--bg-primary);
            border: 1px solid #d5d8dc;
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: var(--space-6);
        }

        .sidebar-title {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--text-dark);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .tool-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .tool-nav-item {
            background: var(--bg-secondary);
            border: 2px solid #d5d8dc;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            overflow: hidden;
        }

        .tool-nav-button {
            width: 100%;
            padding: var(--space-4);
            background: none;
            border: none;
            text-align: left;
            cursor: pointer;
            color: var(--text-dark);
            font-weight: var(--font-medium);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: var(--text-base);
        }

        .tool-nav-item:hover {
            border-color: var(--primary-blue);
            background: var(--very-light-gray);
        }

        .tool-nav-item.active {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        .tool-nav-item.active .tool-nav-button {
            color: var(--text-white);
        }

        .tool-icon-nav {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
                gap: var(--space-4);
            }

            .sidebar {
                position: static;
                margin-bottom: var(--space-6);
            }

            .sidebar-title {
                text-align: center;
            }

            .tool-nav-list {
                flex-direction: row;
                overflow-x: auto;
                padding: var(--space-2);
                gap: var(--space-2);
            }

            .tool-nav-item {
                flex-shrink: 0;
                min-width: 200px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .tool-header-inline {
                flex-direction: column;
                text-align: center;
                gap: var(--space-2);
            }
        }
    </style>
</head>
<body>
    <!-- Language Bar -->
    <div class="language-bar">
        <div class="container">
            <div class="language-selector">
                <span class="language-label">🌍 Language:</span>
                <a href="/" class="language-link">Auto</a>
                <a href="/en/" class="language-link current">🇺🇸 English</a>
                <a href="/ja/" class="language-link">🇯🇵 日本語</a>
                <a href="/ko/" class="language-link">🇰🇷 한국어</a>
                <a href="/vi/" class="language-link">🇻🇳 Tiếng Việt</a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title">Professional Utility Calculator Collection</h1>
                <p class="site-description">All calculation tools integrated on one page</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="main-layout">
                <!-- Sidebar Navigation -->
                <aside class="sidebar">
                    <h2 class="sidebar-title">🛠️ Calculator Tools</h2>
                    <ul class="tool-nav-list">
                        <li class="tool-nav-item active" onclick="showTool('jp-year')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📅</span>
                                <span>Japanese Era Converter</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-eto')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🐉</span>
                                <span>Zodiac Calculator</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('election-age')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🗳️</span>
                                <span>Election Age Checker</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-tax')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📊</span>
                                <span>Japanese Income Tax</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-loan')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏠</span>
                                <span>Japanese Real Estate Loan</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-rent')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏢</span>
                                <span>Japanese Rental Calculator</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-utility')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">⚡</span>
                                <span>Japanese Utility Calculator</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-transport')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🚃</span>
                                <span>Japanese Transportation</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-mobile')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📱</span>
                                <span>Japanese Mobile Phone</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-food')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🍱</span>
                                <span>Japanese Food Budget</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-health')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏥</span>
                                <span>Japanese Health Insurance</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-housing')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏠</span>
                                <span>Japanese Housing Costs</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-netpay')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">💰</span>
                                <span>Japanese Net Pay</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-living')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🛒</span>
                                <span>Japanese Living Costs</span>
                            </button>
                        </li>
                    </ul>
                </aside>

                <!-- Tools Content -->
                <div class="tools-content">
            <!-- Japanese Era Converter -->
            <div id="jp-year-tool" class="tool-panel">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📅</div>
                    <h2 class="tool-title-inline">Japanese Era Converter</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Conversion Direction</label>
                        <select id="conversionType" class="form-select">
                            <option value="ad-to-era">AD → Era</option>
                            <option value="era-to-ad">Era → AD</option>
                        </select>
                    </div>
                    <div class="form-group" id="adYearGroup">
                        <label class="form-label">AD Year</label>
                        <input type="number" id="adYear" class="form-input" placeholder="e.g. 2025" min="1868" max="2030">
                    </div>
                    <div class="form-group hidden" id="eraGroup">
                        <label class="form-label">Select Era</label>
                        <select id="eraSelect" class="form-select">
                            <option value="reiwa">Reiwa (令和)</option>
                            <option value="heisei">Heisei (平成)</option>
                            <option value="showa">Showa (昭和)</option>
                            <option value="taisho">Taisho (大正)</option>
                            <option value="meiji">Meiji (明治)</option>
                        </select>
                    </div>
                    <div class="form-group hidden" id="eraYearGroup">
                        <label class="form-label">Era Year</label>
                        <input type="number" id="eraYear" class="form-input" placeholder="e.g. 7" min="1">
                    </div>
                </div>
                
                <button class="form-button" onclick="convertYear()">Convert</button>
                
                <div id="yearResult" class="result-panel">
                    <div class="result-title">Conversion Result</div>
                    <div class="result-content" id="yearResultContent"></div>
                    <div class="result-details" id="yearResultDetails"></div>
                </div>
                
                <div id="yearError" class="error-panel">
                    <div id="yearErrorContent"></div>
                </div>
            </div>

            <!-- Zodiac Calculator -->
            <div id="jp-eto-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🐉</div>
                    <h2 class="tool-title-inline">Japanese Zodiac Calculator (12 Animals)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Date of Birth</label>
                        <input type="date" id="birthDate" class="form-input">
                    </div>
                </div>
                
                <button class="form-button" onclick="calculateEto()">Calculate Zodiac</button>
                
                <div id="etoResult" class="result-panel">
                    <div class="result-title">Zodiac Calculation Result</div>
                    <div class="result-content" id="etoResultContent"></div>
                    <div class="result-details" id="etoResultDetails"></div>
                </div>
                
                <div id="etoError" class="error-panel">
                    <div id="etoErrorContent"></div>
                </div>
            </div>

            <!-- Election Age Checker -->
            <div id="election-age-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🗳️</div>
                    <h2 class="tool-title-inline">Election Age Checker</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Date of Birth</label>
                        <input type="date" id="electionBirthDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Election Date (2025 Presidential Election)</label>
                        <input type="date" id="electionDate" class="form-input" value="2025-03-09" readonly>
                    </div>
                </div>
                
                <button class="form-button" onclick="checkElectionAge()">Check Voting Eligibility</button>
                
                <div id="electionResult" class="result-panel">
                    <div class="result-title">Election Age Check Result</div>
                    <div class="result-content" id="electionResultContent"></div>
                    <div class="result-details" id="electionResultDetails"></div>
                </div>
                
                <div id="electionError" class="error-panel">
                    <div id="electionErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Income Tax Calculator -->
            <div id="jp-tax-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📊</div>
                    <h2 class="tool-title-inline">Japanese Income Tax Calculator (2025 Rates)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Annual Income (10,000 yen)</label>
                        <input type="number" id="jpTaxIncome" class="form-input" placeholder="e.g. 500" min="0" max="5000" step="10">
                        <div class="form-help">* Enter pre-tax annual gross income in 10,000 yen units</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Income Type</label>
                        <select id="jpIncomeType" class="form-select">
                            <option value="salary">Employment Income</option>
                            <option value="business">Business Income</option>
                            <option value="freelance">Freelance Income</option>
                            <option value="investment">Investment Income</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Number of Dependents</label>
                        <input type="number" id="jpTaxDependents" class="form-input" placeholder="0" min="0" max="10" value="0">
                        <div class="form-help">* 380,000 yen deduction per dependent</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Spouse Deduction</label>
                        <select id="jpTaxSpouse" class="form-select">
                            <option value="none">Not Applicable</option>
                            <option value="general">General Spouse Deduction (380,000 yen)</option>
                            <option value="special">Special Spouse Deduction (up to 380,000 yen)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Additional Deductions</label>
                        <input type="number" id="jpTaxDeductions" class="form-input" placeholder="0" min="0" max="500" step="5">
                        <div class="form-help">* Medical expenses, donations, etc. (in 10,000 yen units)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Residence Status</label>
                        <select id="jpTaxResidence" class="form-select">
                            <option value="resident">Tax Resident</option>
                            <option value="non-resident">Non-Resident</option>
                            <option value="non-permanent">Non-Permanent Resident</option>
                        </select>
                        <div class="form-help">* Taxation method varies by residence status</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button" onclick="calculateJpTax()">📊 Calculate Income Tax</button>
                </div>
                
                <div id="jpTaxResult" class="result-panel">
                    <div class="result-title">📊 Income Tax Calculation Result</div>
                    <div class="result-content" id="jpTaxResultContent"></div>
                    <div class="result-details" id="jpTaxResultDetails"></div>
                </div>
                
                <div id="jpTaxError" class="error-panel">
                    <div id="jpTaxErrorContent"></div>
                </div>
                
                <!-- Tax Bracket Analysis -->
                <div id="jpTaxBrackets" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">📋 Progressive Tax Bracket Analysis</div>
                    <div id="jpTaxBracketsContent"></div>
                </div>
            </div>

            <!-- Japanese Real Estate Loan Calculator -->
            <div id="jp-loan-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏠</div>
                    <h2 class="tool-title-inline">Japanese Real Estate Loan Calculator (2025 Rates)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Property Price (10,000 yen)</label>
                        <input type="number" id="jpLoanPrice" class="form-input" placeholder="e.g. 5000" min="1000" max="50000" step="100">
                        <div class="form-help">* Total price of the property to purchase</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Down Payment Ratio (%)</label>
                        <input type="number" id="jpLoanDownPayment" class="form-input" placeholder="20" min="5" max="80" value="20">
                        <div class="form-help">* Down payment ratio (typically 10-30%)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loan Term (years)</label>
                        <select id="jpLoanTerm" class="form-select">
                            <option value="25">25 years</option>
                            <option value="30">30 years</option>
                            <option value="35" selected>35 years</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Interest Rate Type</label>
                        <select id="jpLoanRateType" class="form-select">
                            <option value="variable">Variable Rate (0.5%)</option>
                            <option value="fixed10">10-Year Fixed (0.8%)</option>
                            <option value="fixed35">35-Year Fixed (1.8%)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Annual Income (10,000 yen)</label>
                        <input type="number" id="jpLoanIncome" class="form-input" placeholder="e.g. 600" min="300" max="3000" step="50">
                        <div class="form-help">* Annual gross income (for loan assessment)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Other Monthly Debts</label>
                        <input type="number" id="jpLoanOtherDebt" class="form-input" placeholder="0" min="0" max="50" value="0">
                        <div class="form-help">* Car loans, credit card payments, etc. (10,000 yen/month)</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button" onclick="calculateJpLoan()">🏠 Calculate Loan</button>
                </div>
                
                <div id="jpLoanResult" class="result-panel">
                    <div class="result-title">🏠 Loan Calculation Result</div>
                    <div class="result-content" id="jpLoanResultContent"></div>
                    <div class="result-details" id="jpLoanResultDetails"></div>
                </div>
                
                <div id="jpLoanError" class="error-panel">
                    <div id="jpLoanErrorContent"></div>
                </div>
                
                <!-- Loan Assessment Analysis -->
                <div id="jpLoanAnalysis" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">📈 Loan Assessment Analysis</div>
                    <div id="jpLoanAnalysisContent"></div>
                </div>
            </div>

            <!-- Japanese Rental Appropriateness Calculator -->
            <div id="jp-rent-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏢</div>
                    <h2 class="tool-title-inline">Japanese Rental Appropriateness Calculator</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Monthly Salary (10,000 yen)</label>
                        <input type="number" id="jpRentSalary" class="form-input" placeholder="e.g. 30" min="15" max="150" step="1">
                        <div class="form-help">* Based on monthly take-home pay</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Monthly Rent (10,000 yen)</label>
                        <input type="number" id="jpRentAmount" class="form-input" placeholder="e.g. 8" min="3" max="50" step="0.5">
                        <div class="form-help">* Monthly rent including management fees</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Region</label>
                        <select id="jpRentRegion" class="form-select">
                            <option value="tokyo-center">Tokyo Center (23 Wards)</option>
                            <option value="tokyo-suburbs">Tokyo Suburbs</option>
                            <option value="osaka">Osaka</option>
                            <option value="nagoya">Nagoya</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="other-major">Other Major Cities</option>
                            <option value="regional">Regional Cities</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Housing Type</label>
                        <select id="jpRentType" class="form-select">
                            <option value="apartment">Apartment</option>
                            <option value="mansion">Mansion</option>
                            <option value="house">Detached House</option>
                            <option value="share">Share House</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Room Layout</label>
                        <select id="jpRentRooms" class="form-select">
                            <option value="1R">Studio (1R)</option>
                            <option value="1K">1K</option>
                            <option value="1DK">1DK</option>
                            <option value="1LDK">1LDK</option>
                            <option value="2DK">2DK</option>
                            <option value="2LDK">2LDK</option>
                            <option value="3LDK">3LDK or larger</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Walking Time to Station</label>
                        <select id="jpRentStation" class="form-select">
                            <option value="5">Within 5 minutes</option>
                            <option value="10">6-10 minutes</option>
                            <option value="15">11-15 minutes</option>
                            <option value="20">16+ minutes</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button" onclick="calculateJpRent()">🏢 Analyze Rental Appropriateness</button>
                </div>
                
                <div id="jpRentResult" class="result-panel">
                    <div class="result-title">🏢 Rental Analysis Result</div>
                    <div class="result-content" id="jpRentResultContent"></div>
                    <div class="result-details" id="jpRentResultDetails"></div>
                </div>
                
                <div id="jpRentError" class="error-panel">
                    <div id="jpRentErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Utility Bill Calculator -->
            <div id="jp-utility-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">⚡</div>
                    <h2 class="tool-title-inline">Japanese Utility Bill Calculator (2025 Rates)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Region</label>
                        <select id="jpUtilityRegion" class="form-select">
                            <option value="tepco">TEPCO (Kanto)</option>
                            <option value="kepco">KEPCO (Kansai)</option>
                            <option value="chubu">Chubu Electric (Chubu)</option>
                            <option value="tohoku">Tohoku Electric (Tohoku)</option>
                            <option value="kyushu">Kyushu Electric (Kyushu)</option>
                            <option value="chugoku">Chugoku Electric (Chugoku)</option>
                            <option value="shikoku">Shikoku Electric (Shikoku)</option>
                            <option value="hokkaido">Hokkaido Electric (Hokkaido)</option>
                            <option value="hokuriku">Hokuriku Electric (Hokuriku)</option>
                            <option value="okinawa">Okinawa Electric (Okinawa)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Housing Type</label>
                        <select id="jpUtilityHousing" class="form-select">
                            <option value="studio">Studio/One Room</option>
                            <option value="1bedroom">1-2 Bedrooms</option>
                            <option value="family">Family (3+ rooms)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Season</label>
                        <select id="jpUtilitySeason" class="form-select">
                            <option value="spring">Spring (Mar-May)</option>
                            <option value="summer">Summer (Jun-Aug)</option>
                            <option value="autumn">Autumn (Sep-Nov)</option>
                            <option value="winter">Winter (Dec-Feb)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Air Conditioning Usage</label>
                        <select id="jpUtilityAC" class="form-select">
                            <option value="none">Not Used</option>
                            <option value="light">Occasional Use</option>
                            <option value="moderate">Regular Use</option>
                            <option value="heavy">Frequent Use</option>
                            <option value="always">Constant Use</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Major Appliances</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityFridge"> Refrigerator
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityWasher"> Washing Machine
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityDryer"> Dryer
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityTV"> TV/Monitor
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityPC"> Computer
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityHeater"> Electric Heater
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Work From Home</label>
                        <select id="jpUtilityWFH" class="form-select">
                            <option value="none">No WFH</option>
                            <option value="partial">1-2 days/week WFH</option>
                            <option value="hybrid">3-4 days/week WFH</option>
                            <option value="full">Full-time WFH</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button" onclick="calculateJpUtility()">⚡ Calculate Utility Bill</button>
                </div>
                
                <div id="jpUtilityResult" class="result-panel">
                    <div class="result-title">⚡ Utility Bill Estimate</div>
                    <div class="result-content" id="jpUtilityResultContent"></div>
                    <div class="result-details" id="jpUtilityResultDetails"></div>
                </div>
                
                <div id="jpUtilityError" class="error-panel">
                    <div id="jpUtilityErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Transportation Calculator -->
            <div id="jp-transport-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🚃</div>
                    <h2 class="tool-title-inline">Japanese Transportation Calculator (2025 Rates)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">From Station</label>
                        <input type="text" id="jpTransportFrom" class="form-input" placeholder="e.g. Shinjuku Station" required>
                        <div class="form-help">* Enter departure station name</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">To Station</label>
                        <input type="text" id="jpTransportTo" class="form-input" placeholder="e.g. Tokyo Station" required>
                        <div class="form-help">* Enter arrival station name</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Usage Frequency</label>
                        <select id="jpTransportFreq" class="form-select">
                            <option value="daily">Daily (commuting)</option>
                            <option value="weekly">3-4 times per week</option>
                            <option value="occasional">Occasionally (1-2 times per week)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ticket Type</label>
                        <select id="jpTransportType" class="form-select">
                            <option value="normal">Regular ticket</option>
                            <option value="commuter">Monthly pass</option>
                            <option value="ic-card">IC card (1% discount)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Distance (km)</label>
                        <input type="number" id="jpTransportDistance" class="form-input" placeholder="10" min="1" max="100" step="0.1">
                        <div class="form-help">* Enter approximate distance</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Line Type</label>
                        <select id="jpTransportLine" class="form-select">
                            <option value="jr">JR (National Railway)</option>
                            <option value="private">Private Railway (Tokyu, Keihan, etc.)</option>
                            <option value="subway">Subway (Tokyo Metro, etc.)</option>
                            <option value="mixed">Transfer (Mixed)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpTransport()">🚃 Calculate Transport Cost</button>
                    <button class="form-button secondary" onclick="resetJpTransport()">🔄 Reset</button>
                </div>
                
                <div id="jpTransportResult" class="result-panel">
                    <div class="result-title">🚃 Transportation Cost Calculation Result</div>
                    <div class="result-content" id="jpTransportResultContent"></div>
                </div>
                
                <div id="jpTransportError" class="error-panel">
                    <div id="jpTransportErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Mobile Phone Calculator -->
            <div id="jp-mobile-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📱</div>
                    <h2 class="tool-title-inline">Japanese Mobile Phone Calculator (2025 Rates)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Carrier</label>
                        <select id="jpMobileCarrier" class="form-select">
                            <option value="docomo">NTT Docomo</option>
                            <option value="softbank">SoftBank</option>
                            <option value="au">au (KDDI)</option>
                            <option value="rakuten">Rakuten Mobile</option>
                            <option value="mvno">Budget SIM (MVNO)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data Usage</label>
                        <select id="jpMobileData" class="form-select">
                            <option value="1gb">1GB or less</option>
                            <option value="3gb">3GB</option>
                            <option value="7gb">7GB</option>
                            <option value="20gb">20GB</option>
                            <option value="unlimited">Unlimited</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Call Usage</label>
                        <select id="jpMobileCall" class="form-select">
                            <option value="basic">Basic (under 5 minutes)</option>
                            <option value="10min">About 10 minutes</option>
                            <option value="unlimited-5min">Unlimited under 5 min</option>
                            <option value="unlimited">Completely unlimited</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Contract Type</label>
                        <select id="jpMobileContract" class="form-select">
                            <option value="postpaid">Postpaid (regular plan)</option>
                            <option value="prepaid">Prepaid</option>
                            <option value="family">Family plan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Device Purchase</label>
                        <select id="jpMobileDevice" class="form-select">
                            <option value="none">Use existing device</option>
                            <option value="budget">Budget (30,000-50,000 yen)</option>
                            <option value="mid">Mid-range (70,000-100,000 yen)</option>
                            <option value="premium">Premium (120,000-150,000 yen)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Discounts</label>
                        <select id="jpMobileDiscount" class="form-select">
                            <option value="none">None</option>
                            <option value="student">Student discount</option>
                            <option value="senior">Senior discount</option>
                            <option value="family">Family discount</option>
                            <option value="internet">Internet bundle discount</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpMobile()">📱 Calculate Mobile Cost</button>
                    <button class="form-button secondary" onclick="resetJpMobile()">🔄 Reset</button>
                </div>
                
                <div id="jpMobileResult" class="result-panel">
                    <div class="result-title">📱 Mobile Phone Cost Calculation Result</div>
                    <div class="result-content" id="jpMobileResultContent"></div>
                </div>
                
                <div id="jpMobileError" class="error-panel">
                    <div id="jpMobileErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Food Budget Calculator -->
            <div id="jp-food-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🍱</div>
                    <h2 class="tool-title-inline">Japanese Food Budget Calculator (2025 Prices)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Family Size</label>
                        <select id="jpFoodFamily" class="form-select">
                            <option value="1">1 person (living alone)</option>
                            <option value="2">2 people (couple)</option>
                            <option value="3">3 people (couple + 1 child)</option>
                            <option value="4">4 people (couple + 2 children)</option>
                            <option value="5+">5+ people</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Eating Style</label>
                        <select id="jpFoodStyle" class="form-select">
                            <option value="home-cooking">Home cooking (budget-friendly)</option>
                            <option value="mixed">Home + dining out (balanced)</option>
                            <option value="convenience">Convenience store + dining out</option>
                            <option value="restaurant">Dining out focused (premium)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Region</label>
                        <select id="jpFoodRegion" class="form-select">
                            <option value="tokyo">Tokyo (high prices)</option>
                            <option value="osaka">Osaka (average prices)</option>
                            <option value="regional">Regional city (low prices)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Special Preferences</label>
                        <select id="jpFoodPreference" class="form-select">
                            <option value="normal">Regular food</option>
                            <option value="organic">Organic preferred</option>
                            <option value="imported">Imported food preferred</option>
                            <option value="luxury">Premium ingredients preferred</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Drinking Habits</label>
                        <select id="jpFoodDrinking" class="form-select">
                            <option value="none">No alcohol</option>
                            <option value="occasional">Occasionally (1-2 times/week)</option>
                            <option value="regular">Regular (3-4 times/week)</option>
                            <option value="frequent">Frequent (almost daily)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Lunch Style</label>
                        <select id="jpFoodLunch" class="form-select">
                            <option value="bento">Bring homemade lunch</option>
                            <option value="cafeteria">Company cafeteria</option>
                            <option value="outside">Eat out for lunch</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpFood()">🍱 Calculate Food Budget</button>
                    <button class="form-button secondary" onclick="resetJpFood()">🔄 Reset</button>
                </div>
                
                <div id="jpFoodResult" class="result-panel">
                    <div class="result-title">🍱 Food Budget Calculation Result</div>
                    <div class="result-content" id="jpFoodResultContent"></div>
                </div>
                
                <div id="jpFoodError" class="error-panel">
                    <div id="jpFoodErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Health Insurance Calculator -->
            <div id="jp-health-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏥</div>
                    <h2 class="tool-title-inline">Japanese Health Insurance Calculator (2025 Rates)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Monthly Salary (10,000 yen)</label>
                        <input type="number" id="jpHealthSalary" class="form-input" placeholder="30" min="15" max="200" step="1" required>
                        <div class="form-help">* Enter pre-tax monthly salary in units of 10,000 yen</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Prefecture</label>
                        <select id="jpHealthPrefecture" class="form-select">
                            <option value="tokyo">Tokyo (9.81%)</option>
                            <option value="osaka">Osaka (10.29%)</option>
                            <option value="kanagawa">Kanagawa (9.85%)</option>
                            <option value="saitama">Saitama (9.71%)</option>
                            <option value="chiba">Chiba (9.79%)</option>
                            <option value="hyogo">Hyogo (10.13%)</option>
                            <option value="aichi">Aichi (9.93%)</option>
                            <option value="fukuoka">Fukuoka (10.38%)</option>
                            <option value="others">Other regions (average 9.95%)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="number" id="jpHealthAge" class="form-input" placeholder="30" min="20" max="75" step="1" required>
                        <div class="form-help">* Long-term care insurance added for age 40+</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Employment Type</label>
                        <select id="jpHealthEmployment" class="form-select">
                            <option value="employee">Full-time employee (Shakai Hoken)</option>
                            <option value="part-time">Part-time</option>
                            <option value="freelancer">Freelancer (National Health Insurance)</option>
                            <option value="student">Student</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Number of Dependents</label>
                        <input type="number" id="jpHealthDependents" class="form-input" placeholder="0" min="0" max="10" step="1" value="0">
                        <div class="form-help">* Health insurance covered dependents</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Annual Bonus (10,000 yen)</label>
                        <input type="number" id="jpHealthBonus" class="form-input" placeholder="100" min="0" max="500" step="10">
                        <div class="form-help">* Total annual bonus (in units of 10,000 yen)</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpHealth()">🏥 Calculate Health Insurance</button>
                    <button class="form-button secondary" onclick="resetJpHealth()">🔄 Reset</button>
                </div>
                
                <div id="jpHealthResult" class="result-panel">
                    <div class="result-title">🏥 Health Insurance Calculation Result</div>
                    <div class="result-content" id="jpHealthResultContent"></div>
                </div>
                
                <div id="jpHealthError" class="error-panel">
                    <div id="jpHealthErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Housing Cost Calculator -->
            <div id="jp-housing-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏠</div>
                    <h2 class="tool-title-inline">Japanese Housing Cost Calculator (2025 Standards)</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Monthly Rent (10,000 yen)</label>
                        <input type="number" id="jpHousingRent" class="form-input" placeholder="e.g., 8" min="3" max="50" step="0.5">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Management Fee (yen)</label>
                        <input type="number" id="jpHousingManagement" class="form-input" placeholder="e.g., 5000" min="0" max="30000" step="1000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Security Deposit (months)</label>
                        <select id="jpHousingDeposit" class="form-select">
                            <option value="0">No deposit</option>
                            <option value="1" selected>1 month</option>
                            <option value="2">2 months</option>
                            <option value="3">3 months</option>
                            <option value="6">6 months</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Key Money/Shikikin (months)</label>
                        <select id="jpHousingKeyMoney" class="form-select">
                            <option value="0" selected>No key money</option>
                            <option value="1">1 month</option>
                            <option value="2">2 months</option>
                            <option value="3">3 months</option>
                            <option value="6">6 months</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Brokerage Fee</label>
                        <select id="jpHousingBrokerage" class="form-select">
                            <option value="0.5">0.5 months (typical)</option>
                            <option value="1" selected>1 month</option>
                            <option value="1.5">1.5 months</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Fire Insurance (annual)</label>
                        <input type="number" id="jpHousingInsurance" class="form-input" placeholder="e.g., 15000" min="10000" max="50000" value="15000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Region</label>
                        <select id="jpHousingRegion" class="form-select">
                            <option value="tokyo">Tokyo (high cost)</option>
                            <option value="osaka" selected>Osaka (moderate cost)</option>
                            <option value="yokohama">Yokohama</option>
                            <option value="nagoya">Nagoya</option>
                            <option value="sapporo">Sapporo</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="regional">Regional cities (low cost)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Housing Type</label>
                        <select id="jpHousingType" class="form-select">
                            <option value="apartment" selected>Apartment</option>
                            <option value="mansion">Mansion</option>
                            <option value="house">Single House</option>
                            <option value="share">Share House</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpHousing()">💰 Calculate Housing Costs</button>
                    <button class="form-button secondary" onclick="resetJpHousing()">🔄 Reset</button>
                </div>

                <div id="jpHousingResult" class="result-panel">
                    <h3>💰 Housing Cost Detailed Analysis</h3>
                    <div class="result-content" id="jpHousingResultContent"></div>
                    <div class="result-details" id="jpHousingResultDetails"></div>
                </div>

                <div id="jpHousingError" class="error-panel">
                    <div id="jpHousingErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Net Pay Calculator -->
            <div id="jp-netpay-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">💰</div>
                    <h2 class="tool-title-inline">Japanese Net Pay Calculator (2025 Tax Rates)</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Monthly Gross Salary (10,000 yen)</label>
                        <input type="number" id="jpNetpayGross" class="form-input" placeholder="e.g., 30" min="15" max="150" step="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Annual Bonus (10,000 yen)</label>
                        <input type="number" id="jpNetpayBonus" class="form-input" placeholder="e.g., 100" min="0" max="500" step="10" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Residence</label>
                        <select id="jpNetpayRegion" class="form-select">
                            <option value="tokyo">Tokyo</option>
                            <option value="osaka" selected>Osaka</option>
                            <option value="kanagawa">Kanagawa</option>
                            <option value="aichi">Aichi</option>
                            <option value="saitama">Saitama</option>
                            <option value="chiba">Chiba</option>
                            <option value="hyogo">Hyogo</option>
                            <option value="hokkaido">Hokkaido</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="other">Other prefectures</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Age</label>
                        <input type="number" id="jpNetpayAge" class="form-input" placeholder="e.g., 30" min="18" max="70" value="30">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Number of Dependents</label>
                        <input type="number" id="jpNetpayDependents" class="form-input" placeholder="0" min="0" max="10" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Spouse Status</label>
                        <select id="jpNetpaySpouse" class="form-select">
                            <option value="none" selected>No spouse</option>
                            <option value="dependent">Dependent spouse</option>
                            <option value="working">Working spouse</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Employment Type</label>
                        <select id="jpNetpayEmployment" class="form-select">
                            <option value="fulltime" selected>Full-time employee</option>
                            <option value="contract">Contract worker</option>
                            <option value="parttime">Part-time worker</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Other Deductions (10,000 yen/year)</label>
                        <input type="number" id="jpNetpayDeductions" class="form-input" placeholder="e.g., 50" min="0" max="200" step="5" value="0">
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpNetpay()">💰 Calculate Net Pay</button>
                    <button class="form-button secondary" onclick="resetJpNetpay()">🔄 Reset</button>
                </div>

                <div id="jpNetpayResult" class="result-panel">
                    <h3>💰 Net Pay Detailed Analysis</h3>
                    <div class="result-content" id="jpNetpayResultContent"></div>
                    <div class="result-details" id="jpNetpayResultDetails"></div>
                </div>

                <div id="jpNetpayError" class="error-panel">
                    <div id="jpNetpayErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Living Cost Calculator -->
            <div id="jp-living-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🛒</div>
                    <h2 class="tool-title-inline">Japanese Living Cost Calculator (2025 Prices)</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Family Size</label>
                        <select id="jpLivingFamily" class="form-select">
                            <option value="1" selected>1 person (single)</option>
                            <option value="2">2 people (couple)</option>
                            <option value="3">3 people (couple + 1 child)</option>
                            <option value="4">4 people (couple + 2 children)</option>
                            <option value="5">5+ people</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Residential Area</label>
                        <select id="jpLivingRegion" class="form-select">
                            <option value="tokyo">Tokyo (most expensive)</option>
                            <option value="osaka" selected>Osaka (expensive)</option>
                            <option value="yokohama">Yokohama</option>
                            <option value="nagoya">Nagoya</option>
                            <option value="sapporo">Sapporo</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="regional">Regional mid-size cities</option>
                            <option value="rural">Rural/countryside</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Lifestyle</label>
                        <select id="jpLivingStyle" class="form-select">
                            <option value="minimal">Budget-conscious (essentials only)</option>
                            <option value="standard" selected>Standard (average)</option>
                            <option value="comfortable">Comfortable (convenience focused)</option>
                            <option value="luxury">Luxury (quality focused)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dining Out Frequency</label>
                        <select id="jpLivingDining" class="form-select">
                            <option value="rarely">Rarely (1-2 times per month)</option>
                            <option value="occasional" selected>Occasionally (1-2 times per week)</option>
                            <option value="frequent">Frequently (3-4 times per week)</option>
                            <option value="mostly">Mostly dining out (5+ times per week)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Transportation</label>
                        <select id="jpLivingTransport" class="form-select">
                            <option value="none">No transportation costs</option>
                            <option value="minimal">Minimal (walking/biking)</option>
                            <option value="public" selected>Public transportation</option>
                            <option value="mixed">Public transport + taxi</option>
                            <option value="car">Car ownership</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Entertainment/Cultural Activities</label>
                        <select id="jpLivingEntertainment" class="form-select">
                            <option value="minimal">Minimal (mostly at home)</option>
                            <option value="moderate" selected>Moderate (2-3 times per month)</option>
                            <option value="active">Active (1-2 times per week)</option>
                            <option value="frequent">Frequent (3+ times per week)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Shopping Habits</label>
                        <select id="jpLivingShopping" class="form-select">
                            <option value="essential">Essentials only</option>
                            <option value="moderate" selected>Moderate level</option>
                            <option value="frequent">Frequent shopping</option>
                            <option value="luxury">Luxury brand preference</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Savings Goal</label>
                        <select id="jpLivingSavings" class="form-select">
                            <option value="none">No savings</option>
                            <option value="minimal">Small savings (5-10%)</option>
                            <option value="moderate" selected>Moderate savings (15-20%)</option>
                            <option value="aggressive">Aggressive savings (25%+)</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpLiving()">🛒 Calculate Living Costs</button>
                    <button class="form-button secondary" onclick="resetJpLiving()">🔄 Reset</button>
                </div>

                <div id="jpLivingResult" class="result-panel">
                    <h3>🛒 Monthly Living Cost Detailed Analysis</h3>
                    <div class="result-content" id="jpLivingResultContent"></div>
                    <div class="result-details" id="jpLivingResultDetails"></div>
                </div>

                <div id="jpLivingError" class="error-panel">
                    <div id="jpLivingErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Era Converter Info Section -->
            <section id="jp-year-info" class="info-section" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">📅 Japanese Era Converter - Complete Guide</h1>
                        <p class="section-subtitle">
                            Accurate conversion between Western and Japanese era years. Supporting all eras from Meiji to Reiwa.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📅 Japanese Era System Explained</h3>
                            <p>
                                The Japanese era system (nengo) has been used since the 7th century to mark periods of imperial reign. Each era begins with the ascension of a new emperor and is given a unique name with symbolic meaning. This system is still officially used in Japan for government documents, official records, and traditional ceremonies.
                            </p>
                            <ul>
                                <li><strong>Official Documents:</strong> Birth certificates, marriage certificates, and government forms use era years</li>
                                <li><strong>Imperial Calendar:</strong> Reflects the continuity of Japanese imperial history</li>
                                <li><strong>Cultural Significance:</strong> Each era name represents hopes and aspirations for the period</li>
                                <li><strong>Modern Usage:</strong> Coexists with Western calendar in contemporary Japan</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📋 Era Conversion Reference Table</h3>
                            <p>
                                Complete reference for all modern Japanese eras with precise transition dates and Western year equivalents:
                            </p>
                            <ul>
                                <li><strong>Reiwa (令和):</strong> May 1, 2019 - Present | "Beautiful Harmony"</li>
                                <li><strong>Heisei (平成):</strong> January 8, 1989 - April 30, 2019 | "Achieving Peace"</li>
                                <li><strong>Showa (昭和):</strong> December 25, 1926 - January 7, 1989 | "Enlightened Peace"</li>
                                <li><strong>Taisho (大正):</strong> July 30, 1912 - December 25, 1926 | "Great Righteousness"</li>
                                <li><strong>Meiji (明治):</strong> October 23, 1868 - July 30, 1912 | "Enlightened Rule"</li>
                            </ul>
                            <p><strong>Note:</strong> Transitions occur on specific dates, not January 1st, affecting year calculations.</p>
                        </div>

                        <div class="info-card">
                            <h3>💼 Real-Life Usage Tips for Official Documents</h3>
                            <p>
                                Practical guidance for using Japanese era years in official situations and documents:
                            </p>
                            <ul>
                                <li><strong>Job Applications:</strong> Many Japanese companies prefer era years on resumes and applications</li>
                                <li><strong>Government Forms:</strong> Tax returns, resident registration, and visa applications often require era dates</li>
                                <li><strong>Banking Documents:</strong> Account opening and loan applications may use era format</li>
                                <li><strong>Academic Records:</strong> School transcripts and diplomas typically show era years</li>
                                <li><strong>Legal Documents:</strong> Contracts, wills, and court documents often use traditional dating</li>
                            </ul>
                            <p><strong>Pro Tip:</strong> Always double-check era conversions for documents spanning era transitions.</p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Era Converter FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: Is the Japanese era conversion accurate?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Yes, we calculate by accurately reflecting the start and end dates of all eras. We use the precise periods of Meiji (1868-1912), Taisho (1912-1926), Showa (1926-1989), Heisei (1989-2019), and Reiwa (2019-present) as the basis.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: How do I convert between eras and Western years?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Select the conversion direction (AD to Era or Era to AD), enter the year, and click convert. The system will automatically determine the correct era and provide detailed information about the conversion.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Zodiac Calculator Info Section -->
            <section id="jp-eto-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🐉 Japanese Zodiac Calculator - 12 Animals Guide</h1>
                        <p class="section-subtitle">
                            Discover your Japanese zodiac animal and characteristics based on traditional Eastern calendar.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🐉 Japanese Zodiac Cultural Significance</h3>
                            <p>
                                The Japanese zodiac (Eto) is deeply rooted in Japanese culture and derived from the Chinese zodiac system. It plays a significant role in Japanese daily life, from New Year celebrations to personality analysis and compatibility matching.
                            </p>
                            <ul>
                                <li><strong>New Year Traditions:</strong> The zodiac animal of the year features prominently in New Year decorations and greetings</li>
                                <li><strong>Personality Insights:</strong> Japanese people often reference zodiac traits in self-introduction and social interactions</li>
                                <li><strong>Business Culture:</strong> Some companies consider zodiac compatibility in team formation</li>
                                <li><strong>Religious Significance:</strong> Associated with Buddhist and Shinto traditions in Japan</li>
                                <li><strong>Popular Culture:</strong> Widely featured in anime, manga, and Japanese entertainment</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🐭 12 Zodiac Animals with Meanings</h3>
                            <p>
                                Each zodiac animal represents unique characteristics and personality traits in Japanese culture:
                            </p>
                            <ul>
                                <li><strong>Rat (子 - Ne):</strong> Intelligence, adaptability, and resourcefulness</li>
                                <li><strong>Ox (丑 - Ushi):</strong> Diligence, honesty, and dependability</li>
                                <li><strong>Tiger (寅 - Tora):</strong> Courage, competitiveness, and unpredictability</li>
                                <li><strong>Rabbit (卯 - U):</strong> Elegance, kindness, and responsibility</li>
                                <li><strong>Dragon (辰 - Tatsu):</strong> Strength, luck, and imperial power</li>
                                <li><strong>Snake (巳 - Mi):</strong> Wisdom, grace, and materialism</li>
                                <li><strong>Horse (午 - Uma):</strong> Energy, independence, and impatience</li>
                                <li><strong>Sheep (未 - Hitsuji):</strong> Creativity, peace-loving, and gentleness</li>
                                <li><strong>Monkey (申 - Saru):</strong> Wit, curiosity, and mischievousness</li>
                                <li><strong>Rooster (酉 - Tori):</strong> Honesty, energy, and intelligence</li>
                                <li><strong>Dog (戌 - Inu):</strong> Loyalty, responsibility, and reliability</li>
                                <li><strong>Pig (亥 - I):</strong> Honesty, generosity, and short temper</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🔄 60-Year Cycle System Explanation</h3>
                            <p>
                                The complete Japanese zodiac system operates on a 60-year cycle, combining the 12 animals with 5 elements (Wood, Fire, Earth, Metal, Water), creating a sophisticated calendrical system.
                            </p>
                            <ul>
                                <li><strong>Sexagenary Cycle:</strong> Each animal appears with each element once every 60 years</li>
                                <li><strong>Elemental Influence:</strong> Elements modify the basic animal characteristics</li>
                                <li><strong>Traditional Calendar:</strong> Still used in fortune-telling and traditional ceremonies</li>
                                <li><strong>Personal Significance:</strong> Your 60th birthday (kanreki) marks a complete cycle return</li>
                                <li><strong>Compatibility Analysis:</strong> Element combinations affect personality compatibility</li>
                            </ul>
                            <p><strong>Cultural Note:</strong> The 60-year cycle completion is celebrated as a major life milestone in Japan.</p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Zodiac Calculator FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: What does the spring equinox basis mean in zodiac calculations?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Traditionally, the zodiac signs are calculated based on the spring equinox (usually around February 4th). For example, if you were born in January, the previous year's zodiac sign applies. This follows the traditional Eastern calendar system.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: Are the zodiac characteristics accurate?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: The characteristics are based on traditional Japanese and Chinese zodiac interpretations. They represent cultural beliefs and general personality traits associated with each animal.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Election Age Checker Info Section -->
            <section id="election-age-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🗳️ Election Age Checker - Voting Eligibility Guide</h1>
                        <p class="section-subtitle">
                            Check your voting eligibility for elections based on current age requirements.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h2>🗳️ Voting Age Requirements</h2>
                            <p>
                                The minimum voting age is <strong>18 years old</strong> in most countries. This tool calculates your exact age on election day 
                                to determine your eligibility to vote in upcoming elections.
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>📅 Age Calculation Method</h3>
                            <p>
                                The system calculates your exact age in years on the election date. You must be 18 years or older on election day to be eligible to vote. 
                                The calculation considers leap years and exact birth dates for precise results.
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Election Age FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: Can the voting age criteria change?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Currently, those 18 years or older can vote, which is specified in the Election Law. If the law changes, the content will be updated accordingly. It is set based on the 2025 presidential election.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: What if I turn 18 after the election date?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: You must be 18 years old on or before the election date to be eligible to vote. If you turn 18 after the election, you will not be eligible for that particular election.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Income Tax Calculator Info Section -->
            <section id="jp-tax-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">📊 Japanese Income Tax Calculator 2025 - Complete Guide</h1>
                        <p class="section-subtitle">
                            Calculate accurate Japanese income tax with 2025 latest rates and progressive tax brackets.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📊 Complete 2025 Japanese Tax System Breakdown</h3>
                            <p>
                                Japan's comprehensive tax system includes multiple components affecting your take-home pay. Understanding the complete structure helps with accurate financial planning and salary negotiations.
                            </p>
                            <ul>
                                <li><strong>Income Tax Brackets (2025):</strong> 5% (up to ¥1.95M) → 10% (¥1.95-3.3M) → 20% (¥3.3-6.95M) → 23% (¥6.95-9M) → 33% (¥9-18M) → 40% (¥18-40M) → 45% (¥40M+)</li>
                                <li><strong>Reconstruction Tax:</strong> Additional 2.1% of income tax (until 2037)</li>
                                <li><strong>Resident Tax:</strong> Flat 10% rate (municipal + prefectural taxes)</li>
                                <li><strong>Social Insurance:</strong> Health insurance, pension, employment insurance (approximately 15% total)</li>
                                <li><strong>Effective Tax Rate:</strong> Combined rates can reach 50-55% for high earners</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💰 Strategic Tax Planning and Money-Saving Tips</h3>
                            <p>
                                Maximize your deductions and minimize tax liability through strategic planning and understanding available benefits:
                            </p>
                            <ul>
                                <li><strong>Basic Deductions:</strong> Basic deduction (¥480,000), spouse deduction (¥380,000), dependent deductions (¥380,000 each)</li>
                                <li><strong>Employment Income Deduction:</strong> Automatic deduction based on salary level (minimum ¥650,000)</li>
                                <li><strong>Medical Expense Deduction:</strong> Expenses exceeding ¥100,000 or 5% of income</li>
                                <li><strong>Donation Deductions:</strong> Charitable donations (ふるさと納税 hometown tax)</li>
                                <li><strong>Life Insurance Premiums:</strong> Up to ¥120,000 deduction for eligible policies</li>
                                <li><strong>iDeCo Contributions:</strong> Individual pension contributions are fully deductible</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📍 Regional Tax Differences and Practical Applications</h3>
                            <p>
                                Tax obligations can vary by region and employment status, affecting your overall tax burden:
                            </p>
                            <ul>
                                <li><strong>Municipal Variations:</strong> Some cities offer slightly different resident tax rates and benefits</li>
                                <li><strong>Company vs. Self-Employed:</strong> Different deduction opportunities and payment schedules</li>
                                <li><strong>Foreign Resident Status:</strong> Special provisions for non-permanent residents</li>
                                <li><strong>Year-End Adjustment:</strong> Most employees get automatic tax reconciliation in December</li>
                                <li><strong>Confirmation Returns:</strong> Required for multiple income sources, high earners, or specific deductions</li>
                                <li><strong>Withholding Variations:</strong> Different rates apply based on residence status and income type</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Income Tax FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: How accurate are the 2025 tax calculations?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Our calculator uses the latest 2025 Japanese tax rates and brackets. Results include reconstruction tax (2.1%) and apply appropriate deductions based on your inputs.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: What's included in the tax calculation?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: The calculation includes income tax, reconstruction special tax, employment income deduction, basic deduction, dependent deductions, and spouse deductions as applicable.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Real Estate Loan Calculator Info Section -->
            <section id="jp-loan-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🏠 Japanese Real Estate Loan Calculator - Home Buying Guide</h1>
                        <p class="section-subtitle">
                            Calculate mortgage payments and loan eligibility for Japanese real estate purchases.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏠 Comprehensive Japanese Mortgage System Guide</h3>
                            <p>
                                Japan's mortgage system offers various loan products with competitive rates and flexible terms. Understanding the different options helps you make informed decisions about home financing.
                            </p>
                            <ul>
                                <li><strong>Variable Rate Loans:</strong> 0.4-0.6% (fluctuates with Bank of Japan rates)</li>
                                <li><strong>Fixed Rate Options:</strong> 10-year fixed (0.8-1.2%), 35-year fixed (1.5-2.0%)</li>
                                <li><strong>Loan Terms:</strong> Up to 35 years, with some lenders offering 40-year terms</li>
                                <li><strong>Loan-to-Value:</strong> Typically 70-90% of property value (10-30% down payment)</li>
                                <li><strong>Maximum Amount:</strong> Usually up to 8-10 times annual income</li>
                                <li><strong>Special Programs:</strong> Flat 35 (government-backed), regional bank programs</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 Practical Tips for Better Loan Terms</h3>
                            <p>
                                Strategic approaches to securing favorable mortgage terms and reducing overall borrowing costs:
                            </p>
                            <ul>
                                <li><strong>Employment Stability:</strong> Permanent employment (seishain) significantly improves approval odds</li>
                                <li><strong>Multiple Bank Applications:</strong> Compare rates from city banks, regional banks, and online lenders</li>
                                <li><strong>Down Payment Strategy:</strong> 20%+ down payment often unlocks premium rates</li>
                                <li><strong>Income Documentation:</strong> Tax returns, employment certificates, and bonus records</li>
                                <li><strong>Debt Consolidation:</strong> Pay off existing debts before applying</li>
                                <li><strong>Co-borrower Benefits:</strong> Spouse co-signing can increase borrowing capacity</li>
                                <li><strong>Professional Consultation:</strong> Mortgage brokers can access exclusive deals</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🌍 Regional Differences and Special Considerations</h3>
                            <p>
                                Regional factors and special circumstances that can affect your mortgage application and terms:
                            </p>
                            <ul>
                                <li><strong>Tokyo Metropolitan Area:</strong> Higher property values but more lender options</li>
                                <li><strong>Regional Cities:</strong> Local banks often offer competitive rates for local properties</li>
                                <li><strong>Rural Properties:</strong> May face stricter lending criteria or higher rates</li>
                                <li><strong>Foreign Residents:</strong> Permanent residence status preferred, additional documentation required</li>
                                <li><strong>Age Considerations:</strong> Loan completion typically required by age 80</li>
                                <li><strong>Property Types:</strong> New construction vs. used properties may have different terms</li>
                                <li><strong>Earthquake Insurance:</strong> May be mandatory depending on location and lender</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Real Estate Loan FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: How much down payment do I need?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Most Japanese banks require 10-30% down payment. Higher down payments (20%+) often result in better interest rates and loan terms.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: What affects loan approval chances?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Key factors include debt-to-income ratio (preferably under 25%), stable employment, credit history, and down payment amount. Foreign residents may face additional requirements.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Rental Calculator Info Section -->
            <section id="jp-rent-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🏢 Japanese Rental Appropriateness Calculator - Housing Guide</h1>
                        <p class="section-subtitle">
                            Analyze rental costs and determine appropriate housing expenses for your income in Japan.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏢 Complete Japanese Rental Cost Breakdown</h3>
                            <p>
                                Understanding Japan's rental market requires knowledge of both upfront costs and ongoing expenses beyond monthly rent:
                            </p>
                            <ul>
                                <li><strong>Monthly Rent:</strong> Base rental amount (varies drastically by location and property type)</li>
                                <li><strong>Initial Costs:</strong> Key money (0-2 months), deposit (1-3 months), real estate agent fee (1 month)</li>
                                <li><strong>Maintenance Fee:</strong> Common area management (¥5,000-30,000/month)</li>
                                <li><strong>Utilities:</strong> Electricity, gas, water, internet (¥15,000-25,000/month)</li>
                                <li><strong>Renewal Fees:</strong> Every 2 years (0.5-1 month's rent)</li>
                                <li><strong>Insurance:</strong> Mandatory fire insurance (¥15,000-30,000/year)</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 Smart Rental Strategies and Money-Saving Tips</h3>
                            <p>
                                Practical approaches to minimize rental costs while maximizing living quality in Japan:
                            </p>
                            <ul>
                                <li><strong>Timing Strategy:</strong> March-April has highest inventory but also highest prices</li>
                                <li><strong>Negotiation Points:</strong> Key money, agent fees, and renewal fees are sometimes negotiable</li>
                                <li><strong>Property Types:</strong> Older buildings (築20年+) offer significant savings</li>
                                <li><strong>Station Distance:</strong> 10+ minutes walk can reduce rent by 20-30%</li>
                                <li><strong>Size Optimization:</strong> 1K vs 1DK can save ¥20,000-50,000/month</li>
                                <li><strong>Direct Listings:</strong> UR housing and direct owner rentals avoid agent fees</li>
                                <li><strong>Share Houses:</strong> All-inclusive options often include utilities and internet</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📍 Regional Cost Variations and Market Insights</h3>
                            <p>
                                Detailed regional rental market analysis to help you choose the best location for your budget:
                            </p>
                            <ul>
                                <li><strong>Tokyo Central (港区、千代田区):</strong> ¥200,000-500,000+ (1K/1DK), premium business districts</li>
                                <li><strong>Tokyo Residential (世田谷、渋谷):</strong> ¥120,000-300,000 (1K/1DK), popular areas</li>
                                <li><strong>Tokyo Suburbs (立川、八王子):</strong> ¥60,000-120,000 (1K/1DK), commuter towns</li>
                                <li><strong>Osaka Center:</strong> ¥80,000-200,000 (1K/1DK), second-tier business hub</li>
                                <li><strong>Regional Cities (札幌、福岡):</strong> ¥40,000-90,000 (1K/1DK), lower cost of living</li>
                                <li><strong>Rural Areas:</strong> ¥25,000-60,000 (1K/1DK), limited transportation options</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Rental Calculator FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: What's a reasonable rent-to-income ratio?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Generally 25-30% of take-home pay is recommended. Higher ratios (35%+) may strain your budget for other expenses.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: How do rental costs compare across Japan?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Tokyo is most expensive, followed by Osaka and Nagoya. Regional cities offer significantly lower costs but with fewer job opportunities.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Utility Calculator Info Section -->
            <section id="jp-utility-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">⚡ Japanese Utility Calculator - Energy Cost Guide</h1>
                        <p class="section-subtitle">
                            Estimate electricity bills and manage energy costs effectively in Japan.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>⚡ Complete Japanese Utility Cost Breakdown</h3>
                            <p>
                                Japan's utility market has been deregulated, offering various pricing options and providers to choose from:
                            </p>
                            <ul>
                                <li><strong>Electricity Rates by Region:</strong> Tokyo Electric (¥26-29/kWh), Kansai Electric (¥24-27/kWh), Hokkaido Electric (¥30-33/kWh)</li>
                                <li><strong>Gas Rates:</strong> Tokyo Gas (¥140-160/m³), city gas vs. propane gas variations</li>
                                <li><strong>Water Rates:</strong> ¥150-250/m³ depending on municipality and usage tier</li>
                                <li><strong>Basic Service Charges:</strong> Monthly fixed charges even with zero usage</li>
                                <li><strong>Seasonal Pricing:</strong> Some plans offer time-of-use or seasonal rate structures</li>
                                <li><strong>New Provider Options:</strong> Many alternative electricity providers offer competitive rates</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 Energy Efficiency and Money-Saving Strategies</h3>
                            <p>
                                Practical approaches to reduce utility costs through smart usage patterns and energy-efficient choices:
                            </p>
                            <ul>
                                <li><strong>Appliance Efficiency:</strong> Modern appliances can reduce electricity usage by 30-50%</li>
                                <li><strong>Air Conditioning Optimization:</strong> Set to 28°C summer, 20°C winter for optimal efficiency</li>
                                <li><strong>Peak Hour Avoidance:</strong> Some plans charge less during off-peak hours (11 PM - 7 AM)</li>
                                <li><strong>Provider Switching:</strong> Compare alternative electricity providers for potential 5-15% savings</li>
                                <li><strong>Usage Monitoring:</strong> Smart meters help track and reduce consumption patterns</li>
                                <li><strong>Insulation Improvements:</strong> Better insulation significantly reduces heating/cooling costs</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📍 Regional Variations and Practical Tips</h3>
                            <p>
                                Understanding regional differences and practical considerations for managing utilities in Japan:
                            </p>
                            <ul>
                                <li><strong>Climate Impact:</strong> Northern regions have higher heating costs, southern regions higher cooling costs</li>
                                <li><strong>Housing Type:</strong> Apartments typically have lower utility costs than detached houses</li>
                                <li><strong>Work-from-Home:</strong> Can increase electricity bills by ¥3,000-8,000/month</li>
                                <li><strong>Seasonal Peaks:</strong> August (AC) and January (heating) are typically highest months</li>
                                <li><strong>Contract Types:</strong> Choose between fixed-rate and variable-rate plans based on usage</li>
                                <li><strong>Payment Methods:</strong> Direct debit often offers small discounts</li>
                                <li><strong>Moving Considerations:</strong> Utility connection fees and deposit requirements</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Utility Calculator FAQ</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: How accurate are the utility estimates?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Estimates are based on typical usage patterns and regional rates. Actual bills may vary based on specific appliances, usage habits, and seasonal factors.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Q: Can it be used on mobile devices?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">A: Yes, it can be used on all devices. Whether it's a smartphone, tablet, or desktop, you can use it immediately as long as you have a web browser. It's optimized for each screen size with responsive design.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Transportation Calculator Info Section -->
            <section id="jp-transport-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🚃 Japanese Transportation Calculator - Complete Fare Guide</h1>
                        <p class="section-subtitle">
                            Calculate accurate transportation costs and optimize your commuting budget in Japan with 2025 rates.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🚃 Comprehensive Japanese Transportation Network</h3>
                            <p>
                                Japan's integrated transportation system offers multiple options with varying costs and efficiency levels:
                            </p>
                            <ul>
                                <li><strong>JR Lines:</strong> ¥140-500+ depending on distance, intercity connections</li>
                                <li><strong>Private Railways:</strong> Tokyu, Keihan, Hankyu (¥120-350), urban/suburban networks</li>
                                <li><strong>Subway Systems:</strong> Tokyo Metro, Toei (¥170-300), city centers</li>
                                <li><strong>Bus Networks:</strong> ¥210-230 flat rates in most cities, unlimited day passes available</li>
                                <li><strong>Shinkansen:</strong> ¥2,700-15,000+ for express long-distance travel</li>
                                <li><strong>IC Card Benefits:</strong> 1-2% discounts, seamless transfers between systems</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💰 Smart Commuting and Cost-Saving Strategies</h3>
                            <p>
                                Optimize your transportation budget through strategic planning and understanding available discounts:
                            </p>
                            <ul>
                                <li><strong>Monthly Passes (定期券):</strong> Break-even at 15+ round trips, 1-month (0% discount) to 6-month (5-8% discount)</li>
                                <li><strong>Route Optimization:</strong> Sometimes longer routes via cheaper operators save money</li>
                                <li><strong>Off-Peak Travel:</strong> Some operators offer small discounts for non-rush hour travel</li>
                                <li><strong>Student/Senior Discounts:</strong> 20-50% discounts with proper documentation</li>
                                <li><strong>Day Passes:</strong> Unlimited travel passes for sightseeing (¥600-1,590)</li>
                                <li><strong>Company Commuter Allowance:</strong> Most employers provide monthly commute reimbursement</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📍 Regional Transportation Variations</h3>
                            <p>
                                Transportation costs and options vary significantly by region, affecting your mobility budget:
                            </p>
                            <ul>
                                <li><strong>Tokyo Metropolitan:</strong> Most extensive network, highest costs, best connectivity</li>
                                <li><strong>Osaka/Kansai:</strong> Good coverage, moderate costs, efficient subway systems</li>
                                <li><strong>Regional Cities:</strong> Limited rail, more bus dependency, lower overall costs</li>
                                <li><strong>Rural Areas:</strong> Minimal public transport, car dependency increases costs significantly</li>
                                <li><strong>Express Services:</strong> Airport access (¥400-3,000), premium speed at premium prices</li>
                                <li><strong>Night Transportation:</strong> Limited service, premium pricing for late-night travel</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Mobile Phone Calculator Info Section -->
            <section id="jp-mobile-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">📱 Japanese Mobile Phone Calculator - Complete Rate Guide</h1>
                        <p class="section-subtitle">
                            Compare mobile carriers and plans to find the best deal for your usage in Japan with 2025 rates.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📱 Japanese Mobile Market Overview</h3>
                            <p>
                                Japan's mobile market offers diverse options from premium carriers to budget MVNOs, each with distinct advantages:
                            </p>
                            <ul>
                                <li><strong>Big 3 Carriers:</strong> Docomo (¥4,400-7,700), SoftBank (¥4,100-7,400), au (¥4,600-7,200) - premium networks</li>
                                <li><strong>Sub-brands:</strong> ahamo (¥2,970), POVO (¥2,700), UQ Mobile (¥1,628-3,828) - mid-tier options</li>
                                <li><strong>Rakuten Mobile:</strong> ¥0-3,278 based on usage, unlimited domestic calls included</li>
                                <li><strong>MVNO Providers:</strong> IIJmio (¥850-2,000), Mineo (¥1,200-2,200), Y!mobile (¥2,100-4,100)</li>
                                <li><strong>Data Allowances:</strong> Range from 1GB to unlimited, with overage charges ¥100-500/GB</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 Smart Mobile Plan Strategies</h3>
                            <p>
                                Optimize your mobile costs through strategic plan selection and understanding available discounts:
                            </p>
                            <ul>
                                <li><strong>Usage Analysis:</strong> Track your data/call usage for 2-3 months before choosing plans</li>
                                <li><strong>Family Plans:</strong> Multi-line discounts can save ¥500-1,500 per additional line</li>
                                <li><strong>Student Discounts:</strong> Up to ¥1,650 off monthly fees with valid student ID</li>
                                <li><strong>Internet Bundles:</strong> Combine mobile + home internet for ¥1,100-2,200 monthly savings</li>
                                <li><strong>Contract Timing:</strong> End-of-month activations avoid partial month charges</li>
                                <li><strong>Device Purchase:</strong> Consider SIM-free devices for maximum carrier flexibility</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🌍 Network Coverage and Regional Considerations</h3>
                            <p>
                                Understanding network quality and regional variations helps choose the best carrier for your needs:
                            </p>
                            <ul>
                                <li><strong>Urban Coverage:</strong> All major carriers offer excellent coverage in cities</li>
                                <li><strong>Rural Areas:</strong> Docomo generally has the best coverage, followed by au and SoftBank</li>
                                <li><strong>Building Penetration:</strong> Higher frequency bands (Big 3) penetrate buildings better than MVNOs</li>
                                <li><strong>International Roaming:</strong> Big 3 carriers offer comprehensive roaming packages</li>
                                <li><strong>5G Availability:</strong> Major cities have good 5G coverage, rural areas still developing</li>
                                <li><strong>Emergency Services:</strong> All carriers support emergency calling and disaster alerts</li>
                                <li><strong>Customer Service:</strong> Language support varies, with some MVNOs offering limited English support</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Food Budget Calculator Info Section -->
            <section id="jp-food-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🍱 Japanese Food Budget Calculator - Complete Cost Guide</h1>
                        <p class="section-subtitle">
                            Plan your food expenses and optimize your dining budget in Japan with realistic 2025 pricing.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🍱 Complete Japanese Food Budget Breakdown</h3>
                            <p>
                                Understanding the full spectrum of Japanese food costs helps create realistic and sustainable budgets:
                            </p>
                            <ul>
                                <li><strong>Home Cooking:</strong> ¥20,000-30,000/person/month (supermarket shopping, meal prep)</li>
                                <li><strong>Convenience Store Meals:</strong> ¥40,000-50,000/person/month (quick but pricier)</li>
                                <li><strong>Mixed Dining:</strong> ¥35,000-45,000/person/month (home cooking + occasional dining out)</li>
                                <li><strong>Restaurant Heavy:</strong> ¥60,000-80,000/person/month (frequent dining out)</li>
                                <li><strong>Premium Dining:</strong> ¥100,000+/person/month (high-end restaurants, imported foods)</li>
                                <li><strong>Alcohol Inclusion:</strong> Add ¥5,000-15,000/month for beer, sake, wine</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 Smart Shopping and Money-Saving Tips</h3>
                            <p>
                                Strategic approaches to minimize food costs while maintaining nutrition and enjoyment:
                            </p>
                            <ul>
                                <li><strong>Supermarket Timing:</strong> Evening discounts (20-50% off) on prepared foods and perishables</li>
                                <li><strong>Bulk Stores:</strong> Costco, Gyomu Super offer significant savings on family-size purchases</li>
                                <li><strong>Seasonal Shopping:</strong> Buy seasonal produce for 30-50% savings compared to imported</li>
                                <li><strong>Loyalty Programs:</strong> Point cards at major chains (7-Eleven, Lawson) provide 1-2% cashback</li>
                                <li><strong>Lunch Set Menus:</strong> Restaurant lunch sets cost 40-60% less than dinner prices</li>
                                <li><strong>Cooking at Home:</strong> Japanese staples (rice, miso, vegetables) are very cost-effective</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📍 Regional Food Cost Variations</h3>
                            <p>
                                Food costs vary significantly across Japan, affecting your overall living expenses:
                            </p>
                            <ul>
                                <li><strong>Tokyo Metropolitan:</strong> 15-25% above national average, premium options abundant</li>
                                <li><strong>Osaka/Kansai:</strong> National average pricing, excellent street food culture</li>
                                <li><strong>Regional Cities:</strong> 10-20% below Tokyo, good local specialties</li>
                                <li><strong>Rural Areas:</strong> Mixed - local produce cheaper, imported items more expensive</li>
                                <li><strong>Tourist Areas:</strong> 30-100% premium pricing in popular destinations</li>
                                <li><strong>University Towns:</strong> Student-friendly pricing, affordable options near campuses</li>
                                <li><strong>International Foods:</strong> Specialty stores in major cities, significant premium over local foods</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Health Insurance Calculator Info Section -->
            <section id="jp-health-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🏥 Japanese Health Insurance Calculator - Complete Premium Guide</h1>
                        <p class="section-subtitle">
                            Calculate accurate health insurance premiums and understand Japan's healthcare system with 2025 rates.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏥 Comprehensive Japanese Healthcare System Guide</h3>
                            <p>
                                Japan's universal healthcare system ensures coverage for all residents through mandatory insurance schemes:
                            </p>
                            <ul>
                                <li><strong>Employee Health Insurance (健康保険):</strong> 9.81-10.38% of salary split with employer, covers family</li>
                                <li><strong>National Health Insurance (国民健康保険):</strong> For self-employed, calculated based on income and assets</li>
                                <li><strong>Long-term Care Insurance (介護保険):</strong> Mandatory for ages 40+, approximately 1.8% of salary</li>
                                <li><strong>Coverage Benefits:</strong> 70% of medical costs covered (90% for elderly), prescription drug coverage</li>
                                <li><strong>Monthly Caps:</strong> Out-of-pocket maximums based on income level (¥57,600-¥252,600)</li>
                                <li><strong>Dependent Coverage:</strong> Spouse and children covered free under employee plans</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💡 Healthcare Cost Optimization and Practical Tips</h3>
                            <p>
                                Strategic approaches to minimize healthcare costs while maintaining comprehensive coverage:
                            </p>
                            <ul>
                                <li><strong>Employer Plans:</strong> Always choose employer-sponsored insurance when available (lower cost, family coverage)</li>
                                <li><strong>Income Reporting:</strong> Accurate income reporting affects National Health Insurance premiums</li>
                                <li><strong>Preventive Care:</strong> Annual health checkups often free or low-cost through insurance</li>
                                <li><strong>Generic Medications:</strong> Request generic drugs to reduce prescription costs by 30-50%</li>
                                <li><strong>Clinic vs. Hospital:</strong> Clinics charge less for routine care, hospitals for specialized treatment</li>
                                <li><strong>Referral System:</strong> Get referrals to avoid extra charges at large hospitals</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📍 Regional Premium Variations and Special Considerations</h3>
                            <p>
                                Healthcare premiums and access vary by region and personal circumstances:
                            </p>
                            <ul>
                                <li><strong>Prefecture Rate Differences:</strong> Tokyo (9.81%), Osaka (10.29%), Fukuoka (10.38%), Saga (11.28%)</li>
                                <li><strong>Municipal Variations:</strong> National Health Insurance rates vary significantly by city</li>
                                <li><strong>Foreign Residents:</strong> Same coverage obligations and benefits as Japanese nationals</li>
                                <li><strong>Job Changes:</strong> Continuous coverage required, switching between systems possible</li>
                                <li><strong>Age Considerations:</strong> Higher premiums and different benefits for elderly (75+)</li>
                                <li><strong>Income Brackets:</strong> Progressive premium structure based on previous year's income</li>
                                <li><strong>Family Size Impact:</strong> Employee insurance covers unlimited family members at no extra cost</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Housing Cost Calculator Info Section -->
            <section id="jp-housing-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🏠 Japanese Housing Cost Calculator - Complete Rental Cost Guide</h1>
                        <p class="section-subtitle">
                            Calculate comprehensive housing costs including rent, initial fees, and management costs based on 2025 Japanese rental market standards.
                        </p>
                    </div>
                    <div class="info-card">
                        <h3>💰 Understanding Japanese Rental Initial Costs</h3>
                        <p>
                            Renting in Japan involves various initial costs beyond monthly rent. These include security deposits (shikikin), 
                            key money (reikin), brokerage fees, fire insurance, and other mandatory fees. Understanding these costs helps 
                            prevent unexpected expenses and enables better budget planning.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Japanese Net Pay Calculator Info Section -->
            <section id="jp-netpay-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">💰 Japanese Net Pay Calculator - Accurate After-Tax Salary Calculation</h1>
                        <p class="section-subtitle">
                            Calculate your exact take-home pay in Japan with 2025 tax rates including income tax, resident tax, and all social insurance deductions.
                        </p>
                    </div>
                    <div class="info-card">
                        <h3>🏛️ Japanese Tax and Social Insurance System</h3>
                        <p>
                            Japanese salaries are subject to income tax, reconstruction tax, resident tax, health insurance, pension insurance, 
                            employment insurance, and long-term care insurance (40+ years old). Tax rates vary by prefecture, making accurate 
                            calculation essential for financial planning.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Japanese Living Cost Calculator Info Section -->
            <section id="jp-living-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🛒 Japanese Living Cost Calculator - Complete Monthly Budget Planner</h1>
                        <p class="section-subtitle">
                            Plan comprehensive monthly living expenses based on 2025 Japanese prices, accounting for family size, region, and lifestyle preferences.
                        </p>
                    </div>
                    <div class="info-card">
                        <h3>🎯 Effective Living Cost Management Strategy</h3>
                        <p>
                            Living costs in Japan vary significantly by region, family composition, and lifestyle. Systematic management of 
                            food, transportation, entertainment, and shopping expenses helps create realistic budgets and achieve savings goals 
                            while maintaining desired quality of life.
                        </p>
                    </div>
                </div>
            </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <h3 class="footer-title">Professional Utility Calculator Collection - Integrated Service</h3>
                <p class="footer-description">
                    An integrated online service where all calculation tools can be conveniently used on one page.
                </p>
                <div class="footer-links">
                    <p>📧 Contact: <a href="mailto:contact@utilities.mahalohana-bruce.com">contact@utilities.mahalohana-bruce.com</a></p>
                </div>
                <div class="footer-copyright">
                    <p>© 2025 Professional Utility Calculator Collection. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Sidebar navigation functionality
        function showTool(toolId) {
            // Hide all tools
            document.querySelectorAll('.tool-panel').forEach(panel => {
                panel.classList.add('hidden');
            });
            
            // Hide all info sections
            document.querySelectorAll('.info-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Remove active from all nav items
            document.querySelectorAll('.tool-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected tool
            document.getElementById(toolId + '-tool').classList.remove('hidden');
            
            // Show corresponding info section
            const infoSection = document.getElementById(toolId + '-info');
            if (infoSection) {
                infoSection.classList.remove('hidden');
            }
            
            // Activate selected nav item
            event.currentTarget.classList.add('active');
            
            // Hide all results
            document.querySelectorAll('.result-panel, .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Japanese Year Converter - Accurate Implementation
        class JpYearConverterIntegrated {
            constructor() {
                this.eras = {
                    reiwa: 2019,
                    heisei: 1989,
                    showa: 1926,
                    taisho: 1912,
                    meiji: 1868
                };
                
                this.eraNames = {
                    reiwa: "Reiwa(令和)",
                    heisei: "Heisei(平成)",
                    showa: "Showa(昭和)",
                    taisho: "Taisho(大正)",
                    meiji: "Meiji(明治)"
                };

                // Define exact end years for each era
                this.eraEndYears = {
                    meiji: 1912,   // Meiji 45 (ended July 30, 1912)
                    taisho: 1926,  // Taisho 15 (ended December 25, 1926)
                    showa: 1989,   // Showa 64 (ended January 7, 1989)
                    heisei: 2019,  // Heisei 31 (ended April 30, 2019)
                    reiwa: new Date().getFullYear() // Current era, ongoing
                };
                
                this.init();
            }

            init() {
                document.getElementById('conversionType').addEventListener('change', (e) => {
                    const isAdToEra = e.target.value === 'ad-to-era';
                    document.getElementById('adYearGroup').classList.toggle('hidden', !isAdToEra);
                    document.getElementById('eraGroup').classList.toggle('hidden', isAdToEra);
                    document.getElementById('eraYearGroup').classList.toggle('hidden', isAdToEra);
                });
            }

            convertYear() {
                const conversionType = document.getElementById('conversionType').value;
                const resultPanel = document.getElementById('yearResult');
                const errorPanel = document.getElementById('yearError');
                
                resultPanel.classList.remove('visible');
                errorPanel.classList.remove('visible');
                
                try {
                    if (conversionType === 'ad-to-era') {
                        this.convertToWareki();
                    } else {
                        this.convertToSeireki();
                    }
                    resultPanel.classList.add('visible');
                } catch (error) {
                    document.getElementById('yearErrorContent').textContent = error.message;
                    errorPanel.classList.add('visible');
                }
            }

            convertToWareki() {
                const adYear = parseInt(document.getElementById('adYear').value);
                if (!adYear || adYear < 1868 || adYear > 2030) {
                    throw new Error('Please enter a year between 1868 and 2030.');
                }

                // Sort eras by start year descending to find the correct era
                const sortedEras = Object.entries(this.eras).sort((a, b) => b[1] - a[1]);
                
                for (const [era, start] of sortedEras) {
                    if (adYear >= start) {
                        const ey = adYear - start + 1;
                        const eraName = this.eraNames[era];
                        const endYear = this.eraEndYears[era];
                        
                        // Check if the year is within the era's valid range
                        if (endYear && adYear >= endYear) {
                            continue; // This era has ended, try the next one
                        }
                        
                        document.getElementById('yearResultContent').innerHTML = 
                            `<strong>AD ${adYear}</strong> is <strong>${eraName} ${ey}</strong>.`;
                        
                        document.getElementById('yearResultDetails').innerHTML = `
                            <div class="result-item">
                                <div class="label">AD</div>
                                <div class="value">${adYear}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">Era</div>
                                <div class="value">${eraName} ${ey}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">Era Period</div>
                                <div class="value">${start} ~ ${endYear === new Date().getFullYear() ? 'Present' : endYear}</div>
                            </div>
                        `;
                        return;
                    }
                }
                
                throw new Error('Unable to find era for the specified year.');
            }

            convertToSeireki() {
                const eraKey = document.getElementById('eraSelect').value;
                const eraYear = parseInt(document.getElementById('eraYear').value);
                
                if (!eraYear || eraYear < 1) {
                    throw new Error('Please enter a valid era year.');
                }
                
                const start = this.eras[eraKey];
                const endYear = this.eraEndYears[eraKey];
                const maxYear = endYear - start + 1;
                
                if (eraYear > maxYear) {
                    throw new Error(`${this.eraNames[eraKey]} exists only up to year ${maxYear}.`);
                }
                
                const adYear = start + eraYear - 1;
                const eraName = this.eraNames[eraKey];
                
                document.getElementById('yearResultContent').innerHTML = 
                    `<strong>${eraName} ${eraYear}</strong> is <strong>AD ${adYear}</strong>.`;
                
                document.getElementById('yearResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Era</div>
                        <div class="value">${eraName} ${eraYear}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">AD</div>
                        <div class="value">${adYear}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Era Period</div>
                        <div class="value">${start} ~ ${endYear === new Date().getFullYear() ? 'Present' : endYear}</div>
                    </div>
                `;
            }
        }

        // Initialize the year converter
        const jpYearConverter = new JpYearConverterIntegrated();

        // Global function for the convert button
        function convertYear() {
            jpYearConverter.convertYear();
        }

        // Eto Calculator
        const etoAnimals = [
            { name: 'Rat', kanji: '子', description: 'Wise and intelligent personality' },
            { name: 'Ox', kanji: '丑', description: 'Sincere and diligent personality' },
            { name: 'Tiger', kanji: '寅', description: 'Brave and strong personality' },
            { name: 'Rabbit', kanji: '卯', description: 'Gentle and delicate personality' },
            { name: 'Dragon', kanji: '辰', description: 'Dynamic and charismatic personality' },
            { name: 'Snake', kanji: '巳', description: 'Careful and intellectual personality' },
            { name: 'Horse', kanji: '午', description: 'Active and free-spirited personality' },
            { name: 'Sheep', kanji: '未', description: 'Peaceful and artistic personality' },
            { name: 'Monkey', kanji: '申', description: 'Witty and creative personality' },
            { name: 'Rooster', kanji: '酉', description: 'Precise and responsible personality' },
            { name: 'Dog', kanji: '戌', description: 'Loyal and honest personality' },
            { name: 'Pig', kanji: '亥', description: 'Generous and happy personality' }
        ];

        function calculateEto() {
            const birthDate = document.getElementById('birthDate').value;
            const resultPanel = document.getElementById('etoResult');
            const errorPanel = document.getElementById('etoError');
            
            resultPanel.classList.remove('visible');
            errorPanel.classList.remove('visible');
            
            try {
                if (!birthDate) {
                    throw new Error('Please enter your date of birth.');
                }
                
                const date = new Date(birthDate);
                let year = date.getFullYear();
                
                // Calculate based on spring equinox (approximately February 4th)
                if (date.getMonth() === 0 || (date.getMonth() === 1 && date.getDate() < 4)) {
                    year -= 1;
                }
                
                const etoIndex = (year - 4) % 12;
                const animal = etoAnimals[etoIndex];
                
                document.getElementById('etoResultContent').innerHTML = 
                    `The zodiac sign for <strong>${year}</strong> is <strong>${animal.name} (${animal.kanji})</strong>.`;
                
                document.getElementById('etoResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Zodiac</div>
                        <div class="value">${animal.name}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Kanji</div>
                        <div class="value">${animal.kanji}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Characteristics</div>
                        <div class="value">${animal.description}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Reference Year</div>
                        <div class="value">${year} (Spring Equinox basis)</div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('etoErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Election Age Checker
        function checkElectionAge() {
            const birthDate = document.getElementById('electionBirthDate').value;
            const electionDate = document.getElementById('electionDate').value;
            const resultPanel = document.getElementById('electionResult');
            const errorPanel = document.getElementById('electionError');
            
            resultPanel.classList.remove('visible');
            errorPanel.classList.remove('visible');
            
            try {
                if (!birthDate) {
                    throw new Error('Please enter your date of birth.');
                }
                
                const birth = new Date(birthDate);
                const election = new Date(electionDate);
                const age = Math.floor((election - birth) / (365.25 * 24 * 60 * 60 * 1000));
                const canVote = age >= 18;
                
                const resultClass = canVote ? 'success' : 'error';
                const resultMessage = canVote ? 'You can vote!' : 'You cannot vote.';
                const ageMessage = canVote ? 
                    `At age ${age}, you are above the voting age (18).` : 
                    `At age ${age}, you are below the voting age (18).`;
                
                document.getElementById('electionResultContent').innerHTML = 
                    `<strong>${resultMessage}</strong><br>${ageMessage}`;
                
                document.getElementById('electionResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Current Age</div>
                        <div class="value">${age} years old</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Voting Eligibility</div>
                        <div class="value" style="color: ${canVote ? 'var(--success)' : 'var(--error)'}">
                            ${canVote ? 'Eligible' : 'Not Eligible'}
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">Election Date</div>
                        <div class="value">${election.toLocaleDateString('en-US')}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Legal Basis</div>
                        <div class="value">Election Law (18 years or older)</div>
                    </div>
                `;
                
                if (canVote) {
                    resultPanel.style.borderColor = 'var(--success)';
                    document.querySelector('#electionResult .result-title').style.color = 'var(--success)';
                } else {
                    resultPanel.style.borderColor = 'var(--error)';
                    document.querySelector('#electionResult .result-title').style.color = 'var(--error)';
                }
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('electionErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Japanese Income Tax Calculator
        function calculateJpTax() {
            const annualIncome = parseFloat(document.getElementById('jpTaxIncome').value) * 10000; // Convert to yen
            const incomeType = document.getElementById('jpIncomeType').value;
            const dependents = parseInt(document.getElementById('jpTaxDependents').value || 0);
            const spouseType = document.getElementById('jpTaxSpouse').value;
            const additionalDeductions = parseFloat(document.getElementById('jpTaxDeductions').value || 0) * 10000;
            const residenceStatus = document.getElementById('jpTaxResidence').value;
            
            const resultPanel = document.getElementById('jpTaxResult');
            const errorPanel = document.getElementById('jpTaxError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!annualIncome || annualIncome <= 0) {
                    throw new Error('Please enter a valid annual income.');
                }
                
                // 2025 Japanese income tax progressive rates (for salary earners)
                let taxableIncome = annualIncome;
                
                // Employment income deduction (2025 standard)
                if (incomeType === 'salary') {
                    if (annualIncome <= 1625000) {
                        taxableIncome = Math.max(0, annualIncome - 550000);
                    } else if (annualIncome <= 1800000) {
                        taxableIncome = annualIncome - annualIncome * 0.4 + 100000;
                    } else if (annualIncome <= 3600000) {
                        taxableIncome = annualIncome - annualIncome * 0.3 + 80000;
                    } else if (annualIncome <= 6600000) {
                        taxableIncome = annualIncome - annualIncome * 0.2 + 440000;
                    } else if (annualIncome <= 8500000) {
                        taxableIncome = annualIncome - annualIncome * 0.1 + 1100000;
                    } else {
                        taxableIncome = annualIncome - 1950000;
                    }
                }
                
                // Apply deductions
                let totalDeductions = 480000; // Basic deduction
                totalDeductions += dependents * 380000; // Dependent deduction
                
                if (spouseType === 'general' || spouseType === 'special') {
                    totalDeductions += 380000; // Spouse deduction
                }
                
                totalDeductions += additionalDeductions;
                taxableIncome = Math.max(0, taxableIncome - totalDeductions);
                
                // Income tax calculation (progressive rates)
                let incomeTax = 0;
                const taxBrackets = [
                    { min: 0, max: 1950000, rate: 0.05, deduction: 0 },
                    { min: 1950000, max: 3300000, rate: 0.10, deduction: 97500 },
                    { min: 3300000, max: 6950000, rate: 0.20, deduction: 427500 },
                    { min: 6950000, max: 9000000, rate: 0.23, deduction: 636000 },
                    { min: 9000000, max: 18000000, rate: 0.33, deduction: 1536000 },
                    { min: 18000000, max: 40000000, rate: 0.40, deduction: 2796000 },
                    { min: 40000000, max: Infinity, rate: 0.45, deduction: 4796000 }
                ];
                
                for (const bracket of taxBrackets) {
                    if (taxableIncome > bracket.min) {
                        incomeTax = taxableIncome * bracket.rate - bracket.deduction;
                        break;
                    }
                }
                
                // Reconstruction special income tax (2.1%)
                const reconstructionTax = incomeTax * 0.021;
                const totalTax = incomeTax + reconstructionTax;
                
                // Effective tax rate calculation
                const effectiveRate = (totalTax / annualIncome) * 100;
                
                // Display results
                document.getElementById('jpTaxResultContent').innerHTML = 
                    `Your total income tax for <strong>¥${(annualIncome/10000).toLocaleString()} million</strong> is <strong>¥${Math.round(totalTax).toLocaleString()}</strong> with an effective tax rate of <strong>${effectiveRate.toFixed(2)}%</strong>.`;
                
                document.getElementById('jpTaxResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Annual Gross Income</div>
                        <div class="value">¥${(annualIncome/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Taxable Income</div>
                        <div class="value">¥${(taxableIncome/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Income Tax</div>
                        <div class="value">¥${Math.round(incomeTax).toLocaleString()}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Reconstruction Tax</div>
                        <div class="value">¥${Math.round(reconstructionTax).toLocaleString()}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Total Tax</div>
                        <div class="value">¥${Math.round(totalTax).toLocaleString()}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Effective Tax Rate</div>
                        <div class="value">${effectiveRate.toFixed(2)}%</div>
                    </div>
                `;
                
                // Tax bracket analysis
                let bracketsHtml = '';
                for (const bracket of taxBrackets) {
                    if (bracket.max === Infinity || taxableIncome >= bracket.min) {
                        const maxDisplay = bracket.max === Infinity ? 'and above' : `¥${(bracket.max/10000).toLocaleString()}万`;
                        const current = taxableIncome >= bracket.min && (bracket.max === Infinity || taxableIncome < bracket.max);
                        bracketsHtml += `
                            <div class="result-item ${current ? 'highlight' : ''}">
                                <div class="label">¥${(bracket.min/10000).toLocaleString()}万 - ${maxDisplay}</div>
                                <div class="value">${(bracket.rate * 100).toFixed(1)}%</div>
                            </div>
                        `;
                    }
                }
                document.getElementById('jpTaxBracketsContent').innerHTML = bracketsHtml;
                
                resultPanel.classList.add('visible');
                document.getElementById('jpTaxBrackets').classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpTaxErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Japanese Real Estate Loan Calculator
        function calculateJpLoan() {
            const propertyPrice = parseFloat(document.getElementById('jpLoanPrice').value) * 10000;
            const downPaymentPercent = parseFloat(document.getElementById('jpLoanDownPayment').value);
            const loanTermYears = parseInt(document.getElementById('jpLoanTerm').value);
            const rateType = document.getElementById('jpLoanRateType').value;
            const annualIncome = parseFloat(document.getElementById('jpLoanIncome').value) * 10000;
            const otherMonthlyDebt = parseFloat(document.getElementById('jpLoanOtherDebt').value || 0) * 10000;
            
            const resultPanel = document.getElementById('jpLoanResult');
            const errorPanel = document.getElementById('jpLoanError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!propertyPrice || !downPaymentPercent || !loanTermYears || !annualIncome) {
                    throw new Error('Please fill in all required fields.');
                }
                
                // Calculate loan amount
                const downPayment = propertyPrice * (downPaymentPercent / 100);
                const loanAmount = propertyPrice - downPayment;
                
                // Interest rates by type
                const interestRates = {
                    'variable': 0.005,     // 0.5%
                    'fixed10': 0.008,      // 0.8%
                    'fixed35': 0.018       // 1.8%
                };
                
                const annualRate = interestRates[rateType];
                const monthlyRate = annualRate / 12;
                const totalMonths = loanTermYears * 12;
                
                // Monthly payment calculation (equal principal and interest)
                const monthlyPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths) / 
                                     (Math.pow(1 + monthlyRate, totalMonths) - 1);
                
                const totalPayment = monthlyPayment * totalMonths;
                const totalInterest = totalPayment - loanAmount;
                
                // Debt-to-income ratio
                const monthlyDebtTotal = monthlyPayment + otherMonthlyDebt;
                const monthlyIncomeGross = annualIncome / 12;
                const debtToIncomeRatio = (monthlyDebtTotal / monthlyIncomeGross) * 100;
                
                // Loan approval likelihood
                let approvalChance = '';
                let approvalClass = '';
                
                if (debtToIncomeRatio <= 20) {
                    approvalChance = 'Very High';
                    approvalClass = 'excellent';
                } else if (debtToIncomeRatio <= 25) {
                    approvalChance = 'High';
                    approvalClass = 'good';
                } else if (debtToIncomeRatio <= 30) {
                    approvalChance = 'Moderate';
                    approvalClass = 'fair';
                } else if (debtToIncomeRatio <= 35) {
                    approvalChance = 'Low';
                    approvalClass = 'poor';
                } else {
                    approvalChance = 'Very Low';
                    approvalClass = 'very-poor';
                }
                
                // Display results
                document.getElementById('jpLoanResultContent').innerHTML = 
                    `For a property worth <strong>¥${(propertyPrice/10000).toLocaleString()} million</strong>, your monthly payment would be <strong>¥${Math.round(monthlyPayment).toLocaleString()}</strong> with <strong>${approvalChance}</strong> loan approval probability.`;
                
                document.getElementById('jpLoanResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Property Price</div>
                        <div class="value">¥${(propertyPrice/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Down Payment</div>
                        <div class="value">¥${(downPayment/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Loan Amount</div>
                        <div class="value">¥${(loanAmount/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Monthly Payment</div>
                        <div class="value">¥${Math.round(monthlyPayment).toLocaleString()}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Total Payment</div>
                        <div class="value">¥${Math.round(totalPayment/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Total Interest</div>
                        <div class="value">¥${Math.round(totalInterest/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Debt-to-Income Ratio</div>
                        <div class="value ${approvalClass}">${debtToIncomeRatio.toFixed(1)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Approval Likelihood</div>
                        <div class="value ${approvalClass}">${approvalChance}</div>
                    </div>
                `;
                
                // Loan assessment analysis
                document.getElementById('jpLoanAnalysisContent').innerHTML = `
                    <p><strong>Interest Rate:</strong> ${(annualRate * 100).toFixed(2)}% per year (${rateType})</p>
                    <p><strong>Loan Term:</strong> ${loanTermYears} years (${totalMonths} months)</p>
                    <p><strong>Monthly Principal:</strong> ¥${Math.round((loanAmount / totalMonths)).toLocaleString()}</p>
                    <p><strong>Average Monthly Interest:</strong> ¥${Math.round((totalInterest / totalMonths)).toLocaleString()}</p>
                    ${debtToIncomeRatio > 35 ? '<p class="warning">⚠️ Debt-to-income ratio exceeds 35%, which may make loan approval difficult.</p>' : ''}
                    ${debtToIncomeRatio <= 25 ? '<p class="success">✅ Your debt-to-income ratio is within the recommended range for Japanese home loans.</p>' : ''}
                `;
                
                resultPanel.classList.add('visible');
                document.getElementById('jpLoanAnalysis').classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpLoanErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Japanese Rental Appropriateness Calculator
        function calculateJpRent() {
            const monthlySalary = parseFloat(document.getElementById('jpRentSalary').value) * 10000;
            const monthlyRent = parseFloat(document.getElementById('jpRentAmount').value) * 10000;
            const region = document.getElementById('jpRentRegion').value;
            const housingType = document.getElementById('jpRentType').value;
            const roomLayout = document.getElementById('jpRentRooms').value;
            const stationDistance = document.getElementById('jpRentStation').value;
            
            const resultPanel = document.getElementById('jpRentResult');
            const errorPanel = document.getElementById('jpRentError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!monthlySalary || !monthlyRent) {
                    throw new Error('Please enter both monthly salary and rent.');
                }
                
                // Calculate rent-to-income ratio
                const rentToIncomeRatio = (monthlyRent / monthlySalary) * 100;
                
                // Regional average rents (10,000 yen/month)
                const averageRents = {
                    'tokyo-center': { '1R': 7.5, '1K': 8.2, '1DK': 10.1, '1LDK': 14.2, '2DK': 13.8, '2LDK': 18.5, '3LDK': 25.0 },
                    'tokyo-suburbs': { '1R': 6.1, '1K': 6.7, '1DK': 8.2, '1LDK': 11.1, '2DK': 11.2, '2LDK': 15.3, '3LDK': 20.8 },
                    'osaka': { '1R': 5.2, '1K': 5.8, '1DK': 7.1, '1LDK': 9.8, '2DK': 9.8, '2LDK': 13.2, '3LDK': 18.5 },
                    'nagoya': { '1R': 4.8, '1K': 5.3, '1DK': 6.5, '1LDK': 8.9, '2DK': 9.0, '2LDK': 12.1, '3LDK': 17.2 },
                    'fukuoka': { '1R': 4.2, '1K': 4.6, '1DK': 5.6, '1LDK': 7.8, '2DK': 7.7, '2LDK': 10.5, '3LDK': 15.1 },
                    'other-major': { '1R': 4.5, '1K': 5.0, '1DK': 6.0, '1LDK': 8.2, '2DK': 8.5, '2LDK': 11.5, '3LDK': 16.0 },
                    'regional': { '1R': 3.8, '1K': 4.2, '1DK': 5.1, '1LDK': 7.0, '2DK': 7.2, '2LDK': 9.8, '3LDK': 13.5 }
                };
                
                const avgRentForType = (averageRents[region]?.[roomLayout] || 6.0) * 10000;
                const rentComparison = ((monthlyRent - avgRentForType) / avgRentForType) * 100;
                
                // Appropriateness judgment
                let rentJudgment = '';
                let judgmentClass = '';
                
                if (rentToIncomeRatio <= 25) {
                    rentJudgment = 'Very Appropriate';
                    judgmentClass = 'excellent';
                } else if (rentToIncomeRatio <= 30) {
                    rentJudgment = 'Appropriate';
                    judgmentClass = 'good';
                } else if (rentToIncomeRatio <= 35) {
                    rentJudgment = 'Slightly High';
                    judgmentClass = 'fair';
                } else if (rentToIncomeRatio <= 40) {
                    rentJudgment = 'High Burden';
                    judgmentClass = 'poor';
                } else {
                    rentJudgment = 'Excessive Burden';
                    judgmentClass = 'very-poor';
                }
                
                // Market price comparison
                let priceComparison = '';
                if (rentComparison <= -10) {
                    priceComparison = 'Below Market Average';
                } else if (rentComparison <= 10) {
                    priceComparison = 'Around Market Average';
                } else if (rentComparison <= 25) {
                    priceComparison = 'Above Market Average';
                } else {
                    priceComparison = 'Significantly Above Market';
                }
                
                // Display results
                document.getElementById('jpRentResultContent').innerHTML = 
                    `Your rent of <strong>¥${(monthlyRent/10000).toLocaleString()} million/month</strong> is <strong>${rentJudgment}</strong> for your salary of <strong>¥${(monthlySalary/10000).toLocaleString()} million</strong>. Rent-to-income ratio: <strong>${rentToIncomeRatio.toFixed(1)}%</strong>.`;
                
                document.getElementById('jpRentResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Monthly Salary</div>
                        <div class="value">¥${(monthlySalary/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Monthly Rent</div>
                        <div class="value">¥${(monthlyRent/10000).toLocaleString()}万</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Rent-to-Income Ratio</div>
                        <div class="value ${judgmentClass}">${rentToIncomeRatio.toFixed(1)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Appropriateness</div>
                        <div class="value ${judgmentClass}">${rentJudgment}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Market Comparison</div>
                        <div class="value">${priceComparison}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Regional Average (${roomLayout})</div>
                        <div class="value">¥${(avgRentForType/10000).toLocaleString()}万</div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpRentErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Japanese Utility Bill Calculator
        function calculateJpUtility() {
            const region = document.getElementById('jpUtilityRegion').value;
            const housingType = document.getElementById('jpUtilityHousing').value;
            const season = document.getElementById('jpUtilitySeason').value;
            const acUsage = document.getElementById('jpUtilityAC').value;
            const wfhStatus = document.getElementById('jpUtilityWFH').value;
            
            // Check appliances
            const appliances = {
                fridge: document.getElementById('jpUtilityFridge').checked,
                washer: document.getElementById('jpUtilityWasher').checked,
                dryer: document.getElementById('jpUtilityDryer').checked,
                tv: document.getElementById('jpUtilityTV').checked,
                pc: document.getElementById('jpUtilityPC').checked,
                heater: document.getElementById('jpUtilityHeater').checked
            };
            
            const resultPanel = document.getElementById('jpUtilityResult');
            const errorPanel = document.getElementById('jpUtilityError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                // Base consumption by housing type (kWh/month)
                const baseConsumption = {
                    'studio': 150,
                    '1bedroom': 250,
                    'family': 400
                };
                
                let monthlyConsumption = baseConsumption[housingType];
                
                // Seasonal adjustments
                const seasonMultipliers = {
                    'spring': 1.0,
                    'summer': 1.6,   // High AC usage
                    'autumn': 1.1,
                    'winter': 1.8    // Highest consumption (heating + less daylight)
                };
                
                monthlyConsumption *= seasonMultipliers[season];
                
                // AC usage adjustments
                const acMultipliers = {
                    'none': 0.85,
                    'light': 1.0,
                    'moderate': 1.2,
                    'heavy': 1.5,
                    'always': 1.8
                };
                
                monthlyConsumption *= acMultipliers[acUsage];
                
                // WFH adjustments
                const wfhMultipliers = {
                    'none': 1.0,
                    'partial': 1.15,
                    'hybrid': 1.3,
                    'full': 1.5
                };
                
                monthlyConsumption *= wfhMultipliers[wfhStatus];
                
                // Appliance adjustments
                let applianceConsumption = 0;
                if (appliances.fridge) applianceConsumption += 40;
                if (appliances.washer) applianceConsumption += 25;
                if (appliances.dryer) applianceConsumption += 60;
                if (appliances.tv) applianceConsumption += 30;
                if (appliances.pc) applianceConsumption += 45;
                if (appliances.heater) applianceConsumption += 80;
                
                monthlyConsumption += applianceConsumption;
                
                // Regional rate differences (yen per kWh)
                const regionalRates = {
                    'tepco': 27.5,      // Tokyo Electric
                    'kepco': 25.8,      // Kansai Electric
                    'chubu': 26.9,      // Chubu Electric
                    'tohoku': 29.1,     // Tohoku Electric
                    'kyushu': 25.5,     // Kyushu Electric
                    'chugoku': 27.2,    // Chugoku Electric
                    'shikoku': 28.8,    // Shikoku Electric
                    'hokkaido': 31.2,   // Hokkaido Electric (highest)
                    'hokuriku': 24.9,   // Hokuriku Electric (lowest)
                    'okinawa': 29.8     // Okinawa Electric
                };
                
                const ratePerKwh = regionalRates[region];
                const monthlyBill = Math.round(monthlyConsumption * ratePerKwh);
                const annualBill = monthlyBill * 12;
                
                // Cost level assessment
                let costLevel = '';
                let costClass = '';
                
                if (monthlyBill <= 3000) {
                    costLevel = 'Very Low';
                    costClass = 'excellent';
                } else if (monthlyBill <= 6000) {
                    costLevel = 'Low';
                    costClass = 'good';
                } else if (monthlyBill <= 10000) {
                    costLevel = 'Average';
                    costClass = 'fair';
                } else if (monthlyBill <= 15000) {
                    costLevel = 'High';
                    costClass = 'poor';
                } else {
                    costLevel = 'Very High';
                    costClass = 'very-poor';
                }
                
                // Display results
                document.getElementById('jpUtilityResultContent').innerHTML = 
                    `Your estimated monthly electricity bill is <strong>¥${monthlyBill.toLocaleString()}</strong> (${Math.round(monthlyConsumption)} kWh). This is considered <strong>${costLevel}</strong> for your usage pattern.`;
                
                document.getElementById('jpUtilityResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Monthly Consumption</div>
                        <div class="value">${Math.round(monthlyConsumption)} kWh</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Rate per kWh</div>
                        <div class="value">¥${ratePerKwh}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Monthly Bill</div>
                        <div class="value">¥${monthlyBill.toLocaleString()}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Annual Bill</div>
                        <div class="value">¥${annualBill.toLocaleString()}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Cost Level</div>
                        <div class="value ${costClass}">${costLevel}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Electric Company</div>
                        <div class="value">${region.toUpperCase()}</div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpUtilityErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        function calculateJpTransport() {
            const fromStation = document.getElementById('jpTransportFrom').value.trim();
            const toStation = document.getElementById('jpTransportTo').value.trim();
            const frequency = document.getElementById('jpTransportFreq').value;
            const ticketType = document.getElementById('jpTransportType').value;
            const distance = parseFloat(document.getElementById('jpTransportDistance').value);
            const lineType = document.getElementById('jpTransportLine').value;
            
            const resultPanel = document.getElementById('jpTransportResult');
            const errorPanel = document.getElementById('jpTransportError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!fromStation || !toStation || !distance) {
                    throw new Error('Please enter departure station, arrival station, and distance.');
                }
                
                // Base fare calculation by distance
                let basePrice = 0;
                if (lineType === 'jr') {
                    if (distance <= 3) basePrice = 140;
                    else if (distance <= 6) basePrice = 150;
                    else if (distance <= 10) basePrice = 160;
                    else if (distance <= 20) basePrice = 240;
                    else if (distance <= 40) basePrice = 400;
                    else basePrice = 400 + Math.ceil((distance - 40) / 10) * 80;
                } else if (lineType === 'subway') {
                    if (distance <= 6) basePrice = 170;
                    else if (distance <= 11) basePrice = 200;
                    else if (distance <= 20) basePrice = 250;
                    else basePrice = 300;
                } else if (lineType === 'private') {
                    basePrice = 150 + distance * 15;
                } else { // mixed
                    basePrice = 200 + distance * 20;
                }
                
                // Ticket type calculations
                let actualPrice = basePrice;
                let monthlyPrice = 0;
                let savings = 0;
                
                if (ticketType === 'ic-card') {
                    actualPrice = Math.floor(basePrice * 0.99); // 1% discount
                } else if (ticketType === 'commuter') {
                    monthlyPrice = basePrice * 2 * 15; // Round trip 15 days
                    actualPrice = monthlyPrice;
                }
                
                // Monthly cost calculation by frequency
                let monthlyUsage = 0;
                let normalMonthlyCost = 0;
                
                if (frequency === 'daily') {
                    monthlyUsage = 22; // Weekdays only
                    normalMonthlyCost = actualPrice * 2 * monthlyUsage;
                } else if (frequency === 'weekly') {
                    monthlyUsage = 16; // 4 times per week
                    normalMonthlyCost = actualPrice * 2 * monthlyUsage;
                } else { // occasional
                    monthlyUsage = 8; // 2 times per week
                    normalMonthlyCost = actualPrice * 2 * monthlyUsage;
                }
                
                // Compare monthly pass vs regular tickets
                let commuterPassPrice = basePrice * 2 * 15; // 1-month pass
                if (ticketType === 'ic-card') {
                    commuterPassPrice = Math.floor(commuterPassPrice * 0.99);
                }
                
                savings = normalMonthlyCost - commuterPassPrice;
                
                let recommendation = '';
                if (frequency === 'daily' && savings > 0) {
                    recommendation = 'We recommend purchasing a monthly pass!';
                } else if (frequency === 'occasional') {
                    recommendation = 'IC card usage is advantageous.';
                } else {
                    recommendation = 'Your current selection is appropriate.';
                }
                
                document.getElementById('jpTransportResultContent').innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">🚃</div>
                        <h3>Japanese Transportation Cost Calculation Result</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Route</span>
                            <span class="value">${fromStation} → ${toStation}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Distance</span>
                            <span class="value">${distance}km</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">One-way Fare</span>
                            <span class="value">${actualPrice}¥</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Monthly Transport Cost</span>
                            <span class="value">${ticketType === 'commuter' ? commuterPassPrice : normalMonthlyCost}¥</span>
                        </div>
                        ${savings > 0 ? `
                        <div class="summary-item total">
                            <span class="label">Monthly Pass Savings</span>
                            <span class="value">${savings}¥/month</span>
                        </div>
                        ` : ''}
                        <div class="summary-item">
                            <span class="label">Recommendation</span>
                            <span class="value">${recommendation}</span>
                        </div>
                    </div>
                    
                    <div class="transport-analysis">
                        <h4>📊 Detailed Fare Analysis</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Regular Ticket</h5>
                                <p>One-way: ${basePrice}¥</p>
                                <p>Monthly cost: ${normalMonthlyCost}¥</p>
                                <p>Annual: ${Math.round(normalMonthlyCost * 12 / 10000)} man-yen</p>
                            </div>
                            <div class="analysis-item">
                                <h5>Monthly Pass</h5>
                                <p>Price: ${commuterPassPrice}¥</p>
                                <p>Savings: ${Math.max(0, savings)}¥/month</p>
                                <p>Annual savings: ${Math.round(Math.max(0, savings) * 12 / 1000)} thousand yen</p>
                            </div>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpTransportErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpTransport() {
            document.getElementById('jpTransportFrom').value = '';
            document.getElementById('jpTransportTo').value = '';
            document.getElementById('jpTransportDistance').value = '';
            document.getElementById('jpTransportFreq').value = 'daily';
            document.getElementById('jpTransportType').value = 'normal';
            document.getElementById('jpTransportLine').value = 'jr';
            
            const resultPanel = document.getElementById('jpTransportResult');
            const errorPanel = document.getElementById('jpTransportError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        function calculateJpMobile() {
            const carrier = document.getElementById('jpMobileCarrier').value;
            const dataUsage = document.getElementById('jpMobileData').value;
            const callUsage = document.getElementById('jpMobileCall').value;
            const contractType = document.getElementById('jpMobileContract').value;
            const deviceType = document.getElementById('jpMobileDevice').value;
            const discountType = document.getElementById('jpMobileDiscount').value;
            
            const resultPanel = document.getElementById('jpMobileResult');
            const errorPanel = document.getElementById('jpMobileError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                // Carrier base rates (2025)
                const carrierRates = {
                    'docomo': { base: 2970, premium: true },
                    'softbank': { base: 2728, premium: true },
                    'au': { base: 2728, premium: true },
                    'rakuten': { base: 1078, premium: false },
                    'mvno': { base: 800, premium: false }
                };
                
                // Data plan rates
                const dataRates = {
                    '1gb': 0,
                    '3gb': 1000,
                    '7gb': 2000,
                    '20gb': 3500,
                    'unlimited': 5000
                };
                
                // Call plan rates
                const callRates = {
                    'basic': 0,
                    '10min': 770,
                    'unlimited-5min': 770,
                    'unlimited': 1870
                };
                
                let rate = carrierRates[carrier];
                let baseFee = rate.base;
                let dataFee = dataRates[dataUsage];
                let callFee = callRates[callUsage];
                
                // Family plan discount
                let familyDiscount = 0;
                if (contractType === 'family') {
                    familyDiscount = Math.round(baseFee * 0.1);
                }
                
                // Other discounts
                let otherDiscount = 0;
                if (discountType === 'student') otherDiscount = 1650;
                else if (discountType === 'senior') otherDiscount = 1100;
                else if (discountType === 'family') otherDiscount = 1000;
                else if (discountType === 'internet') otherDiscount = 1100;
                
                let totalDiscount = familyDiscount + otherDiscount;
                let monthlyFee = baseFee + dataFee + callFee - totalDiscount;
                
                // MVNO special pricing
                if (carrier === 'mvno') {
                    if (dataUsage === '1gb') monthlyFee = 800;
                    else if (dataUsage === '3gb') monthlyFee = 1600;
                    else if (dataUsage === '7gb') monthlyFee = 2400;
                    else if (dataUsage === '20gb') monthlyFee = 3200;
                    else monthlyFee = 3200; // No unlimited for MVNO
                }
                
                let finalFee = Math.max(monthlyFee, 0);
                
                // Device costs
                let deviceMonthlyCost = 0;
                if (deviceType === 'budget') deviceMonthlyCost = Math.round(40000 / 24);
                else if (deviceType === 'mid') deviceMonthlyCost = Math.round(85000 / 24);
                else if (deviceType === 'premium') deviceMonthlyCost = Math.round(135000 / 24);
                
                let totalMonthlyCost = finalFee + deviceMonthlyCost;
                let annualCost = totalMonthlyCost * 12;
                
                document.getElementById('jpMobileResultContent').innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">📱</div>
                        <h3>Japanese Mobile Phone Cost Calculation Result</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Carrier</span>
                            <span class="value">${carrier === 'docomo' ? 'NTT Docomo' : 
                                              carrier === 'softbank' ? 'SoftBank' :
                                              carrier === 'au' ? 'au (KDDI)' :
                                              carrier === 'rakuten' ? 'Rakuten Mobile' : 'Budget SIM'}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Data Plan</span>
                            <span class="value">${dataUsage === 'unlimited' ? 'Unlimited' : dataUsage.toUpperCase()}</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">Monthly Service Fee</span>
                            <span class="value">${finalFee.toLocaleString()}¥</span>
                        </div>
                        ${deviceMonthlyCost > 0 ? `
                        <div class="summary-item">
                            <span class="label">Device Installment</span>
                            <span class="value">${deviceMonthlyCost.toLocaleString()}¥/month</span>
                        </div>
                        ` : ''}
                        <div class="summary-item total">
                            <span class="label">Total Monthly Cost</span>
                            <span class="value">${totalMonthlyCost.toLocaleString()}¥</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Annual Cost</span>
                            <span class="value">${Math.round(annualCost/10000).toLocaleString()} man-yen</span>
                        </div>
                    </div>
                    
                    <div class="mobile-analysis">
                        <h4>📊 Detailed Cost Breakdown</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Service Breakdown</h5>
                                <p>Base plan: ${rate.base}¥</p>
                                <p>Data: +${dataRates[dataUsage]}¥</p>
                                <p>Calls: +${callFee}¥</p>
                                <p>Discount: -${totalDiscount}¥</p>
                            </div>
                            <div class="analysis-item">
                                <h5>Service Features</h5>
                                <p>Network quality: ${rate.premium ? 'Premium' : 'Standard'}</p>
                                <p>5G coverage: ${rate.premium ? 'Excellent' : 'Limited'}</p>
                                <p>Customer support: ${rate.premium ? '24/7' : 'Business hours'}</p>
                            </div>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpMobileErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpMobile() {
            document.getElementById('jpMobileCarrier').value = 'docomo';
            document.getElementById('jpMobileData').value = '1gb';
            document.getElementById('jpMobileCall').value = 'basic';
            document.getElementById('jpMobileContract').value = 'postpaid';
            document.getElementById('jpMobileDevice').value = 'none';
            document.getElementById('jpMobileDiscount').value = 'none';
            
            const resultPanel = document.getElementById('jpMobileResult');
            const errorPanel = document.getElementById('jpMobileError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        function calculateJpFood() {
            const familySize = document.getElementById('jpFoodFamily').value;
            const foodStyle = document.getElementById('jpFoodStyle').value;
            const region = document.getElementById('jpFoodRegion').value;
            const preference = document.getElementById('jpFoodPreference').value;
            const drinking = document.getElementById('jpFoodDrinking').value;
            const lunchStyle = document.getElementById('jpFoodLunch').value;
            
            const resultPanel = document.getElementById('jpFoodResult');
            const errorPanel = document.getElementById('jpFoodError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                // Base food budget per person per month (2025 prices)
                const baseBudgets = {
                    'home-cooking': 25000,
                    'mixed': 35000,
                    'convenience': 45000,
                    'restaurant': 65000
                };
                
                let baseBudget = baseBudgets[foodStyle];
                
                // Family size multipliers
                const familyMultipliers = {
                    '1': 1.0,
                    '2': 1.8,
                    '3': 2.5,
                    '4': 3.2,
                    '5+': 4.0
                };
                
                let familyBudget = baseBudget * familyMultipliers[familySize];
                
                // Regional adjustments
                const regionMultipliers = {
                    'tokyo': 1.2,
                    'osaka': 1.0,
                    'regional': 0.8
                };
                
                familyBudget *= regionMultipliers[region];
                
                // Preference adjustments
                const preferenceMultipliers = {
                    'normal': 1.0,
                    'organic': 1.4,
                    'imported': 1.6,
                    'luxury': 2.0
                };
                
                familyBudget *= preferenceMultipliers[preference];
                
                // Drinking adjustments
                const drinkingCosts = {
                    'none': 0,
                    'occasional': 8000,
                    'regular': 15000,
                    'frequent': 25000
                };
                
                familyBudget += drinkingCosts[drinking];
                
                // Lunch style adjustments
                const lunchAdjustments = {
                    'bento': -5000,
                    'cafeteria': 0,
                    'outside': 12000
                };
                
                familyBudget += lunchAdjustments[lunchStyle] * (familySize === '5+' ? 3 : parseInt(familySize) || 1);
                
                let monthlyTotal = Math.round(familyBudget);
                let dailyAverage = Math.round(monthlyTotal / 30);
                let annualTotal = monthlyTotal * 12;
                
                // Budget level assessment
                let budgetLevel = '';
                let budgetClass = '';
                
                if (monthlyTotal <= 30000) {
                    budgetLevel = 'Very economical';
                    budgetClass = 'excellent';
                } else if (monthlyTotal <= 50000) {
                    budgetLevel = 'Economical';
                    budgetClass = 'good';
                } else if (monthlyTotal <= 80000) {
                    budgetLevel = 'Average';
                    budgetClass = 'fair';
                } else if (monthlyTotal <= 120000) {
                    budgetLevel = 'High';
                    budgetClass = 'poor';
                } else {
                    budgetLevel = 'Very high';
                    budgetClass = 'very-poor';
                }
                
                document.getElementById('jpFoodResultContent').innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">🍱</div>
                        <h3>Japanese Food Budget Calculation Result</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Family Composition</span>
                            <span class="value">${familySize === '5+' ? '5+ person' : familySize + '-person'} family</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Eating Style</span>
                            <span class="value">${foodStyle === 'home-cooking' ? 'Home cooking' :
                                               foodStyle === 'mixed' ? 'Home + dining out' :
                                               foodStyle === 'convenience' ? 'Convenience + dining out' : 'Dining out focused'}</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">Monthly Food Budget</span>
                            <span class="value">${monthlyTotal.toLocaleString()}¥</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Daily Average</span>
                            <span class="value">${dailyAverage.toLocaleString()}¥</span>
                        </div>
                        <div class="summary-item total">
                            <span class="label">Budget Level</span>
                            <span class="value ${budgetClass}">${budgetLevel}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Annual Food Cost</span>
                            <span class="value">${Math.round(annualTotal/10000).toLocaleString()} man-yen</span>
                        </div>
                    </div>
                    
                    <div class="food-analysis">
                        <h4>🍽️ Detailed Budget Breakdown</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Monthly Breakdown</h5>
                                <p>Basic food: ${Math.round(baseBudget * familyMultipliers[familySize] * regionMultipliers[region]).toLocaleString()}¥</p>
                                <p>Preference premium: +${Math.round((preferenceMultipliers[preference] - 1) * baseBudget * familyMultipliers[familySize] * regionMultipliers[region]).toLocaleString()}¥</p>
                                <p>Alcohol: +${drinkingCosts[drinking].toLocaleString()}¥</p>
                                <p>Lunch adjustment: ${lunchAdjustments[lunchStyle] >= 0 ? '+' : ''}${(lunchAdjustments[lunchStyle] * (familySize === '5+' ? 3 : parseInt(familySize) || 1)).toLocaleString()}¥</p>
                            </div>
                            <div class="analysis-item">
                                <h5>Cost per Person</h5>
                                <p>Per person/month: ${Math.round(monthlyTotal / familyMultipliers[familySize]).toLocaleString()}¥</p>
                                <p>Per person/day: ${Math.round(dailyAverage / familyMultipliers[familySize]).toLocaleString()}¥</p>
                                <p>Regional factor: ${region === 'tokyo' ? 'Tokyo premium (+20%)' : region === 'osaka' ? 'Standard pricing' : 'Regional discount (-20%)'}</p>
                            </div>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpFoodErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpFood() {
            document.getElementById('jpFoodFamily').value = '1';
            document.getElementById('jpFoodStyle').value = 'home-cooking';
            document.getElementById('jpFoodRegion').value = 'tokyo';
            document.getElementById('jpFoodPreference').value = 'normal';
            document.getElementById('jpFoodDrinking').value = 'none';
            document.getElementById('jpFoodLunch').value = 'bento';
            
            const resultPanel = document.getElementById('jpFoodResult');
            const errorPanel = document.getElementById('jpFoodError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        function calculateJpHealth() {
            const monthlySalary = parseFloat(document.getElementById('jpHealthSalary').value);
            const prefecture = document.getElementById('jpHealthPrefecture').value;
            const age = parseInt(document.getElementById('jpHealthAge').value);
            const employment = document.getElementById('jpHealthEmployment').value;
            const dependents = parseInt(document.getElementById('jpHealthDependents').value) || 0;
            const annualBonus = parseFloat(document.getElementById('jpHealthBonus').value) || 0;
            
            const resultPanel = document.getElementById('jpHealthResult');
            const errorPanel = document.getElementById('jpHealthError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!monthlySalary || !age) {
                    throw new Error('Please enter monthly salary and age.');
                }
                
                // Convert to yen (input is in man-yen)
                const monthlyIncome = monthlySalary * 10000;
                const bonus = annualBonus * 10000;
                const annualIncome = monthlyIncome * 12 + bonus;
                
                // Health insurance rates by prefecture (2025)
                const healthRates = {
                    'tokyo': 0.0981,
                    'osaka': 0.1029,
                    'kanagawa': 0.0985,
                    'saitama': 0.0971,
                    'chiba': 0.0979,
                    'hyogo': 0.1013,
                    'aichi': 0.0993,
                    'fukuoka': 0.1038,
                    'others': 0.0995
                };
                
                let healthInsurance = 0;
                let pensionInsurance = 0;
                let longTermCare = 0;
                
                if (employment === 'employee') {
                    // Shakai Hoken (Employee insurance)
                    healthInsurance = monthlyIncome * healthRates[prefecture] * 0.5; // Split with employer
                    pensionInsurance = monthlyIncome * 0.183 * 0.5; // 18.3% split with employer
                    
                    // Long-term care insurance (40+ years old)
                    if (age >= 40) {
                        longTermCare = monthlyIncome * 0.0123 * 0.5; // 1.23% split with employer
                    }
                } else if (employment === 'freelancer') {
                    // National Health Insurance
                    const income = monthlyIncome;
                    healthInsurance = Math.min(income * 0.07, 83000); // Cap at 83,000 yen
                    pensionInsurance = 16980; // Fixed amount for 2025
                    
                    if (age >= 40) {
                        longTermCare = income * 0.017; // Higher rate for self-employed
                    }
                } else if (employment === 'part-time') {
                    if (monthlyIncome >= 106000) {
                        // Eligible for Shakai Hoken
                        healthInsurance = monthlyIncome * healthRates[prefecture] * 0.5;
                        pensionInsurance = monthlyIncome * 0.183 * 0.5;
                        if (age >= 40) {
                            longTermCare = monthlyIncome * 0.0123 * 0.5;
                        }
                    } else {
                        // National insurance
                        healthInsurance = Math.min(monthlyIncome * 0.07, 83000);
                        pensionInsurance = 16980;
                        if (age >= 40) {
                            longTermCare = monthlyIncome * 0.017;
                        }
                    }
                } else if (employment === 'student') {
                    // Student discount
                    healthInsurance = Math.min(monthlyIncome * 0.05, 30000);
                    pensionInsurance = 0; // Can defer
                    longTermCare = 0;
                }
                
                // Dependent adjustment
                if (dependents > 0 && employment === 'employee') {
                    // Dependents covered under employee plan at no extra cost
                } else if (dependents > 0) {
                    healthInsurance += dependents * 15000; // Additional cost per dependent
                }
                
                const totalMonthly = healthInsurance + pensionInsurance + longTermCare;
                const totalAnnual = totalMonthly * 12;
                const incomeRatio = (totalMonthly / monthlyIncome * 100);
                
                // Assessment
                let assessment = '';
                let assessmentClass = '';
                
                if (incomeRatio <= 8) {
                    assessment = 'Low burden';
                    assessmentClass = 'excellent';
                } else if (incomeRatio <= 12) {
                    assessment = 'Reasonable burden';
                    assessmentClass = 'good';
                } else if (incomeRatio <= 16) {
                    assessment = 'Average burden';
                    assessmentClass = 'fair';
                } else if (incomeRatio <= 20) {
                    assessment = 'High burden';
                    assessmentClass = 'poor';
                } else {
                    assessment = 'Very high burden';
                    assessmentClass = 'very-poor';
                }
                
                document.getElementById('jpHealthResultContent').innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">🏥</div>
                        <h3>Japanese Health Insurance Calculation Result</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Monthly Income</span>
                            <span class="value">${(monthlyIncome/10000).toLocaleString()} man-yen</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Health Insurance</span>
                            <span class="value">${Math.round(healthInsurance).toLocaleString()}¥</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Pension Insurance</span>
                            <span class="value">${Math.round(pensionInsurance).toLocaleString()}¥</span>
                        </div>
                        ${age >= 40 ? `
                        <div class="summary-item">
                            <span class="label">Long-term Care</span>
                            <span class="value">${Math.round(longTermCare).toLocaleString()}¥</span>
                        </div>
                        ` : ''}
                        <div class="summary-item highlight">
                            <span class="label">Total Monthly Premium</span>
                            <span class="value">${Math.round(totalMonthly).toLocaleString()}¥</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Annual Premium</span>
                            <span class="value">${Math.round(totalAnnual/10000).toLocaleString()} man-yen</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Income Ratio</span>
                            <span class="value">${incomeRatio.toFixed(1)}%</span>
                        </div>
                        <div class="summary-item total">
                            <span class="label">Burden Assessment</span>
                            <span class="value ${assessmentClass}">${assessment}</span>
                        </div>
                    </div>
                    
                    <div class="health-analysis">
                        <h4>📊 Detailed Premium Breakdown</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Insurance Types</h5>
                                <p>Health: ${Math.round(healthInsurance).toLocaleString()}¥ (${(healthRates[prefecture] * 100).toFixed(2)}%)</p>
                                <p>Pension: ${Math.round(pensionInsurance).toLocaleString()}¥ ${employment === 'freelancer' ? '(fixed)' : '(9.15%)'}</p>
                                ${age >= 40 ? `<p>Long-term care: ${Math.round(longTermCare).toLocaleString()}¥</p>` : ''}
                                ${dependents > 0 ? `<p>Dependents: ${dependents} persons covered</p>` : ''}
                            </div>
                            <div class="analysis-item">
                                <h5>Coverage Details</h5>
                                <p>Employment: ${employment === 'employee' ? 'Shakai Hoken' : 
                                                employment === 'freelancer' ? 'National Insurance' :
                                                employment === 'part-time' ? 'Part-time' : 'Student'}</p>
                                <p>Prefecture: ${prefecture.charAt(0).toUpperCase() + prefecture.slice(1)}</p>
                                <p>Co-payment: 30% (standard rate)</p>
                            </div>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpHealthErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpHealth() {
            document.getElementById('jpHealthSalary').value = '';
            document.getElementById('jpHealthAge').value = '';
            document.getElementById('jpHealthDependents').value = '0';
            document.getElementById('jpHealthBonus').value = '';
            document.getElementById('jpHealthPrefecture').value = 'tokyo';
            document.getElementById('jpHealthEmployment').value = 'employee';
            
            const resultPanel = document.getElementById('jpHealthResult');
            const errorPanel = document.getElementById('jpHealthError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // 1. Japanese Housing Cost Calculator
        function calculateJpHousing() {
            try {
                const monthlyRent = parseFloat(document.getElementById('jpHousingRent').value) * 10000;
                const managementFee = parseFloat(document.getElementById('jpHousingManagement').value || 0);
                const depositMonths = parseFloat(document.getElementById('jpHousingDeposit').value);
                const keyMoneyMonths = parseFloat(document.getElementById('jpHousingKeyMoney').value);
                const brokerageFee = parseFloat(document.getElementById('jpHousingBrokerage').value);
                const insurance = parseFloat(document.getElementById('jpHousingInsurance').value || 15000);
                const region = document.getElementById('jpHousingRegion').value;
                const housingType = document.getElementById('jpHousingType').value;

                const resultPanel = document.getElementById('jpHousingResult');
                const errorPanel = document.getElementById('jpHousingError');

                if (!monthlyRent || monthlyRent <= 0) {
                    throw new Error('Please enter a valid monthly rent amount.');
                }

                // Regional cost multipliers
                const regionMultiplier = {
                    tokyo: 1.3,
                    osaka: 1.1,
                    yokohama: 1.2,
                    nagoya: 1.05,
                    sapporo: 0.9,
                    fukuoka: 0.95,
                    regional: 0.8
                };

                // Housing type multipliers
                const typeMultiplier = {
                    apartment: 1.0,
                    mansion: 1.2,
                    house: 1.1,
                    share: 0.7
                };

                const baseMultiplier = (regionMultiplier[region] || 1.0) * (typeMultiplier[housingType] || 1.0);
                
                // Monthly cost calculations
                const totalMonthlyRent = monthlyRent + managementFee;
                const utilities = Math.round(8000 * baseMultiplier); // Basic utilities
                const monthlyTotal = totalMonthlyRent + utilities;

                // Initial cost calculations
                const deposit = monthlyRent * depositMonths;
                const keyMoney = monthlyRent * keyMoneyMonths;
                const brokerage = monthlyRent * brokerageFee;
                const cleaningFee = Math.round(30000 * baseMultiplier);
                const lockChange = Math.round(15000 * baseMultiplier);
                
                const initialCost = deposit + keyMoney + brokerage + insurance + cleaningFee + lockChange + monthlyRent;

                // Annual costs
                const yearlyRent = monthlyTotal * 12;
                const yearlyInsurance = insurance;
                const yearlyTotal = yearlyRent + yearlyInsurance;

                // Evaluation and advice
                let evaluation = '';
                let advice = [];
                
                const rentIncomeRatio = monthlyTotal / (300000); // Ratio to average income
                
                if (rentIncomeRatio <= 0.25) {
                    evaluation = 'Very reasonable housing costs';
                    advice.push('Use your surplus for savings or investments');
                } else if (rentIncomeRatio <= 0.33) {
                    evaluation = 'Appropriate housing cost level';
                    advice.push('Maintain current level while managing other expenses');
                } else if (rentIncomeRatio <= 0.4) {
                    evaluation = 'Slightly high housing costs';
                    advice.push('Save on other expenses to maintain balance');
                } else {
                    evaluation = 'Housing cost burden is high';
                    advice.push('Consider a cheaper area or smaller space');
                }

                if (region === 'tokyo') {
                    advice.push('In Tokyo, living near work is recommended to save on transportation');
                }

                if (housingType === 'share') {
                    advice.push('Share houses have low initial costs but consider privacy needs');
                }

                document.getElementById('jpHousingResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">Monthly Total Housing Cost: <span class="highlight">¥${monthlyTotal.toLocaleString()}</span></div>
                        <div class="result-subtitle">Initial Move-in Cost: ¥${initialCost.toLocaleString()}</div>
                        <div class="result-subtitle">Annual Housing Cost: ¥${yearlyTotal.toLocaleString()}</div>
                    </div>
                `;

                document.getElementById('jpHousingResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>📋 Monthly Cost Breakdown</h4>
                            <ul>
                                <li>Rent: ¥${monthlyRent.toLocaleString()}</li>
                                <li>Management Fee: ¥${managementFee.toLocaleString()}</li>
                                <li>Estimated Utilities: ¥${utilities.toLocaleString()}</li>
                                <li><strong>Monthly Total: ¥${monthlyTotal.toLocaleString()}</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>💰 Initial Cost Breakdown</h4>
                            <ul>
                                <li>Security Deposit: ¥${deposit.toLocaleString()}</li>
                                <li>Key Money: ¥${keyMoney.toLocaleString()}</li>
                                <li>Brokerage Fee: ¥${brokerage.toLocaleString()}</li>
                                <li>Fire Insurance: ¥${insurance.toLocaleString()}</li>
                                <li>Cleaning Fee: ¥${cleaningFee.toLocaleString()}</li>
                                <li>Lock Change: ¥${lockChange.toLocaleString()}</li>
                                <li>First Month Rent: ¥${monthlyRent.toLocaleString()}</li>
                                <li><strong>Total Initial Cost: ¥${initialCost.toLocaleString()}</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 Assessment & Advice</h4>
                            <p><strong>${evaluation}</strong></p>
                            <ul>
                                ${advice.map(tip => `<li>${tip}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;

                errorPanel.classList.remove('visible');
                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpHousingErrorContent').textContent = error.message;
                document.getElementById('jpHousingError').classList.add('visible');
                document.getElementById('jpHousingResult').classList.remove('visible');
            }
        }

        function resetJpHousing() {
            document.getElementById('jpHousingRent').value = '';
            document.getElementById('jpHousingManagement').value = '';
            document.getElementById('jpHousingDeposit').value = '1';
            document.getElementById('jpHousingKeyMoney').value = '0';
            document.getElementById('jpHousingBrokerage').value = '1';
            document.getElementById('jpHousingInsurance').value = '15000';
            document.getElementById('jpHousingRegion').value = 'osaka';
            document.getElementById('jpHousingType').value = 'apartment';
            document.querySelectorAll('#jpHousingResult, #jpHousingError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // 2. Japanese Net Pay Calculator
        function calculateJpNetpay() {
            try {
                const monthlyGross = parseFloat(document.getElementById('jpNetpayGross').value) * 10000;
                const yearlyBonus = parseFloat(document.getElementById('jpNetpayBonus').value || 0) * 10000;
                const region = document.getElementById('jpNetpayRegion').value;
                const age = parseInt(document.getElementById('jpNetpayAge').value);
                const dependents = parseInt(document.getElementById('jpNetpayDependents').value || 0);
                const spouseType = document.getElementById('jpNetpaySpouse').value;
                const employment = document.getElementById('jpNetpayEmployment').value;
                const deductions = parseFloat(document.getElementById('jpNetpayDeductions').value || 0) * 10000;

                const resultPanel = document.getElementById('jpNetpayResult');
                const errorPanel = document.getElementById('jpNetpayError');

                if (!monthlyGross || monthlyGross <= 0) {
                    throw new Error('Please enter a valid monthly gross salary.');
                }

                if (!age || age < 18 || age > 70) {
                    throw new Error('Please enter a valid age (18-70).');
                }

                const yearlyGross = monthlyGross * 12 + yearlyBonus;

                // Regional tax rates
                const regionTaxRates = {
                    tokyo: { prefectural: 0.04, municipal: 0.06 },
                    osaka: { prefectural: 0.04, municipal: 0.06 },
                    kanagawa: { prefectural: 0.0425, municipal: 0.06 },
                    aichi: { prefectural: 0.04, municipal: 0.06 },
                    saitama: { prefectural: 0.04, municipal: 0.06 },
                    chiba: { prefectural: 0.04, municipal: 0.06 },
                    hyogo: { prefectural: 0.04, municipal: 0.06 },
                    hokkaido: { prefectural: 0.04, municipal: 0.06 },
                    fukuoka: { prefectural: 0.04, municipal: 0.06 },
                    other: { prefectural: 0.04, municipal: 0.06 }
                };

                // Income deductions
                const basicDeduction = 480000; // Basic deduction
                const employeeDeduction = Math.min(yearlyGross * 0.3, 1950000); // Employee deduction
                const spouseDeduction = spouseType === 'dependent' ? 380000 : 0;
                const dependentDeduction = dependents * 380000;
                const totalDeductions = basicDeduction + employeeDeduction + spouseDeduction + dependentDeduction + deductions;

                // Taxable income
                const taxableIncome = Math.max(0, yearlyGross - totalDeductions);

                // Income tax calculation (2025 progressive rates)
                let incomeTax = 0;
                if (taxableIncome > 0) {
                    if (taxableIncome <= 1950000) incomeTax = taxableIncome * 0.05;
                    else if (taxableIncome <= 3300000) incomeTax = 97500 + (taxableIncome - 1950000) * 0.10;
                    else if (taxableIncome <= 6950000) incomeTax = 232500 + (taxableIncome - 3300000) * 0.20;
                    else if (taxableIncome <= 9000000) incomeTax = 962500 + (taxableIncome - 6950000) * 0.23;
                    else if (taxableIncome <= 18000000) incomeTax = 1434000 + (taxableIncome - 9000000) * 0.33;
                    else if (taxableIncome <= 40000000) incomeTax = 4404000 + (taxableIncome - 18000000) * 0.40;
                    else incomeTax = 13204000 + (taxableIncome - 40000000) * 0.45;
                }

                // Reconstruction tax (2.1% of income tax)
                const reconstructionTax = incomeTax * 0.021;

                // Resident tax calculation
                const regionalTax = regionTaxRates[region] || regionTaxRates.other;
                const prefecturalTax = taxableIncome * regionalTax.prefectural;
                const municipalTax = taxableIncome * regionalTax.municipal;
                const residentTax = prefecturalTax + municipalTax + 5000; // Including per capita levy

                // Social insurance calculations
                const healthInsurance = yearlyGross * 0.0982; // Health insurance (average)
                const pensionInsurance = Math.min(yearlyGross * 0.183, 1380000); // Pension insurance
                const employmentInsurance = yearlyGross * 0.006; // Employment insurance
                const longTermCare = age >= 40 ? yearlyGross * 0.0117 : 0; // Long-term care insurance

                const totalSocialInsurance = healthInsurance + pensionInsurance + employmentInsurance + longTermCare;

                // Total deductions
                const totalTax = incomeTax + reconstructionTax + residentTax;
                const totalDeducted = totalTax + totalSocialInsurance;

                // Net income
                const netIncome = yearlyGross - totalDeducted;
                const monthlyNetIncome = netIncome / 12;

                // Net income rate
                const netIncomeRate = (netIncome / yearlyGross) * 100;

                document.getElementById('jpNetpayResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">Monthly Net Pay: <span class="highlight">¥${Math.round(monthlyNetIncome).toLocaleString()}</span></div>
                        <div class="result-subtitle">Annual Net Pay: ¥${Math.round(netIncome).toLocaleString()}</div>
                        <div class="result-subtitle">Take-home Rate: ${netIncomeRate.toFixed(1)}%</div>
                    </div>
                `;

                document.getElementById('jpNetpayResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>💰 Annual Salary Breakdown</h4>
                            <ul>
                                <li>Monthly Salary (12 months): ¥${(monthlyGross * 12).toLocaleString()}</li>
                                <li>Bonus: ¥${yearlyBonus.toLocaleString()}</li>
                                <li><strong>Gross Salary: ¥${yearlyGross.toLocaleString()}</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>🏛️ Tax Breakdown</h4>
                            <ul>
                                <li>Income Tax: ¥${Math.round(incomeTax).toLocaleString()}</li>
                                <li>Reconstruction Tax: ¥${Math.round(reconstructionTax).toLocaleString()}</li>
                                <li>Resident Tax: ¥${Math.round(residentTax).toLocaleString()}</li>
                                <li><strong>Total Tax: ¥${Math.round(totalTax).toLocaleString()}</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>🏥 Social Insurance Breakdown</h4>
                            <ul>
                                <li>Health Insurance: ¥${Math.round(healthInsurance).toLocaleString()}</li>
                                <li>Pension Insurance: ¥${Math.round(pensionInsurance).toLocaleString()}</li>
                                <li>Employment Insurance: ¥${Math.round(employmentInsurance).toLocaleString()}</li>
                                ${age >= 40 ? `<li>Long-term Care Insurance: ¥${Math.round(longTermCare).toLocaleString()}</li>` : ''}
                                <li><strong>Total Social Insurance: ¥${Math.round(totalSocialInsurance).toLocaleString()}</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 Monthly Income Projection</h4>
                            <ul>
                                <li>Monthly Gross: ¥${monthlyGross.toLocaleString()}</li>
                                <li>Monthly Deductions: ¥${Math.round(totalDeducted / 12).toLocaleString()}</li>
                                <li><strong>Monthly Net Pay: ¥${Math.round(monthlyNetIncome).toLocaleString()}</strong></li>
                            </ul>
                        </div>
                    </div>
                `;

                errorPanel.classList.remove('visible');
                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpNetpayErrorContent').textContent = error.message;
                document.getElementById('jpNetpayError').classList.add('visible');
                document.getElementById('jpNetpayResult').classList.remove('visible');
            }
        }

        function resetJpNetpay() {
            document.getElementById('jpNetpayGross').value = '';
            document.getElementById('jpNetpayBonus').value = '0';
            document.getElementById('jpNetpayRegion').value = 'osaka';
            document.getElementById('jpNetpayAge').value = '30';
            document.getElementById('jpNetpayDependents').value = '0';
            document.getElementById('jpNetpaySpouse').value = 'none';
            document.getElementById('jpNetpayEmployment').value = 'fulltime';
            document.getElementById('jpNetpayDeductions').value = '0';
            document.querySelectorAll('#jpNetpayResult, #jpNetpayError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // 3. Japanese Living Cost Calculator
        function calculateJpLiving() {
            try {
                const familySize = parseInt(document.getElementById('jpLivingFamily').value);
                const region = document.getElementById('jpLivingRegion').value;
                const lifestyle = document.getElementById('jpLivingStyle').value;
                const diningOut = document.getElementById('jpLivingDining').value;
                const transport = document.getElementById('jpLivingTransport').value;
                const entertainment = document.getElementById('jpLivingEntertainment').value;
                const shopping = document.getElementById('jpLivingShopping').value;
                const savings = document.getElementById('jpLivingSavings').value;

                const resultPanel = document.getElementById('jpLivingResult');
                const errorPanel = document.getElementById('jpLivingError');

                // Regional price index
                const regionMultiplier = {
                    tokyo: 1.3,
                    osaka: 1.1,
                    yokohama: 1.2,
                    nagoya: 1.05,
                    sapporo: 0.9,
                    fukuoka: 0.95,
                    regional: 0.85,
                    rural: 0.75
                };

                // Lifestyle multipliers
                const lifestyleMultiplier = {
                    minimal: 0.7,
                    standard: 1.0,
                    comfortable: 1.3,
                    luxury: 1.8
                };

                const baseMultiplier = (regionMultiplier[region] || 1.0) * (lifestyleMultiplier[lifestyle] || 1.0);

                // Base living costs (per person, yen/month)
                let baseCosts = {
                    food: 40000,
                    utilities: 8000,
                    transport: 12000,
                    entertainment: 15000,
                    shopping: 20000,
                    medical: 5000,
                    communication: 8000,
                    miscellaneous: 10000
                };

                // Family size adjustments
                const familyMultipliers = {
                    1: 1.0,
                    2: 1.7,
                    3: 2.3,
                    4: 2.8,
                    5: 3.2
                };

                const familyMultiplier = familyMultipliers[familySize] || 3.5;

                // Dining frequency adjustments
                const diningMultiplier = {
                    rarely: 0.8,
                    occasional: 1.0,
                    frequent: 1.4,
                    mostly: 2.0
                };

                // Transportation adjustments
                const transportMultiplier = {
                    none: 0,
                    minimal: 0.3,
                    public: 1.0,
                    mixed: 1.5,
                    car: 2.5
                };

                // Entertainment adjustments
                const entertainmentMultiplier = {
                    minimal: 0.4,
                    moderate: 1.0,
                    active: 1.8,
                    frequent: 2.5
                };

                // Shopping adjustments
                const shoppingMultiplier = {
                    essential: 0.6,
                    moderate: 1.0,
                    frequent: 1.6,
                    luxury: 2.5
                };

                // Actual cost calculations
                const foodCost = Math.round(baseCosts.food * familyMultiplier * baseMultiplier * (diningMultiplier[diningOut] || 1.0));
                const utilitiesCost = Math.round(baseCosts.utilities * familyMultiplier * baseMultiplier);
                const transportCost = Math.round(baseCosts.transport * baseMultiplier * (transportMultiplier[transport] || 1.0));
                const entertainmentCost = Math.round(baseCosts.entertainment * baseMultiplier * (entertainmentMultiplier[entertainment] || 1.0));
                const shoppingCost = Math.round(baseCosts.shopping * familyMultiplier * baseMultiplier * (shoppingMultiplier[shopping] || 1.0));
                const medicalCost = Math.round(baseCosts.medical * familyMultiplier * baseMultiplier);
                const communicationCost = Math.round(baseCosts.communication * Math.min(familyMultiplier, 2) * baseMultiplier);
                const miscellaneousCost = Math.round(baseCosts.miscellaneous * familyMultiplier * baseMultiplier);

                const totalMonthlyCost = foodCost + utilitiesCost + transportCost + entertainmentCost + 
                                      shoppingCost + medicalCost + communicationCost + miscellaneousCost;

                // Required income calculation based on savings goal
                const savingsRate = {
                    none: 0,
                    minimal: 0.075,
                    moderate: 0.175,
                    aggressive: 0.25
                };

                const targetSavingsRate = savingsRate[savings] || 0;
                const requiredIncome = Math.round(totalMonthlyCost / (1 - targetSavingsRate));
                const targetSavings = requiredIncome - totalMonthlyCost;

                // Annual costs
                const yearlyTotal = totalMonthlyCost * 12;
                const yearlySavings = targetSavings * 12;

                // Generate advice
                let advice = [];
                
                if (region === 'tokyo' && lifestyle === 'luxury') {
                    advice.push('Living luxuriously in Tokyo is quite expensive. Consider prioritizing expenses.');
                }
                
                if (familySize >= 3 && savings === 'aggressive') {
                    advice.push('Aggressive savings with a family is challenging. Set realistic goals.');
                }

                if (transport === 'car' && region === 'tokyo') {
                    advice.push('Cars are not essential in Tokyo. Consider using public transportation.');
                }

                if (diningOut === 'mostly') {
                    advice.push('Dining out costs are high. Cooking at home 2-3 times per week can save significantly.');
                }

                document.getElementById('jpLivingResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">Monthly Living Cost: <span class="highlight">¥${totalMonthlyCost.toLocaleString()}</span></div>
                        <div class="result-subtitle">Recommended Monthly Income: ¥${requiredIncome.toLocaleString()}</div>
                        <div class="result-subtitle">Target Savings: ¥${targetSavings.toLocaleString()}/month</div>
                    </div>
                `;

                document.getElementById('jpLivingResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>🛒 Monthly Living Cost Breakdown</h4>
                            <ul>
                                <li>Food: ¥${foodCost.toLocaleString()}</li>
                                <li>Utilities: ¥${utilitiesCost.toLocaleString()}</li>
                                <li>Transportation: ¥${transportCost.toLocaleString()}</li>
                                <li>Entertainment: ¥${entertainmentCost.toLocaleString()}</li>
                                <li>Shopping/Clothing: ¥${shoppingCost.toLocaleString()}</li>
                                <li>Medical: ¥${medicalCost.toLocaleString()}</li>
                                <li>Communication: ¥${communicationCost.toLocaleString()}</li>
                                <li>Miscellaneous: ¥${miscellaneousCost.toLocaleString()}</li>
                                <li><strong>Total: ¥${totalMonthlyCost.toLocaleString()}</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>💰 Annual Budget Plan</h4>
                            <ul>
                                <li>Annual Living Cost: ¥${yearlyTotal.toLocaleString()}</li>
                                <li>Annual Savings Goal: ¥${yearlySavings.toLocaleString()}</li>
                                <li>Required Annual Income: ¥${(requiredIncome * 12).toLocaleString()}</li>
                                <li>Savings Rate: ${(targetSavingsRate * 100).toFixed(1)}%</li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 Money-saving Tips & Advice</h4>
                            ${advice.length > 0 ? `<ul>${advice.map(tip => `<li>${tip}</li>`).join('')}</ul>` : '<p>Your current settings are appropriate.</p>'}
                            <p><strong>Lifestyle Level:</strong> ${lifestyle === 'minimal' ? 'Budget-conscious' : lifestyle === 'standard' ? 'Standard' : lifestyle === 'comfortable' ? 'Comfortable' : 'Luxury'}</p>
                            <p><strong>Regional Characteristics:</strong> ${region === 'tokyo' ? 'Highest prices' : region === 'osaka' ? 'High prices' : region.includes('regional') ? 'Moderate prices' : 'Low prices'}</p>
                        </div>
                    </div>
                `;

                errorPanel.classList.remove('visible');
                resultPanel.classList.add('visible');

            } catch (error) {
                document.getElementById('jpLivingErrorContent').textContent = error.message;
                document.getElementById('jpLivingError').classList.add('visible');
                document.getElementById('jpLivingResult').classList.remove('visible');
            }
        }

        function resetJpLiving() {
            document.getElementById('jpLivingFamily').value = '1';
            document.getElementById('jpLivingRegion').value = 'osaka';
            document.getElementById('jpLivingStyle').value = 'standard';
            document.getElementById('jpLivingDining').value = 'occasional';
            document.getElementById('jpLivingTransport').value = 'public';
            document.getElementById('jpLivingEntertainment').value = 'moderate';
            document.getElementById('jpLivingShopping').value = 'moderate';
            document.getElementById('jpLivingSavings').value = 'moderate';
            document.querySelectorAll('#jpLivingResult, #jpLivingError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }
    </script>
</body>
</html>
