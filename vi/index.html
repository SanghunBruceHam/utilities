<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Máy tính lương Nhật Bản 2025 mới nhất | Công cụ tính lương thực nhận + Phân tích thuế</title>
    <meta name="description" content="Máy tính lương Nhật Bản 2025 mới nhất tính chính xác bảo hiểm y tế theo tỉnh, lương hưu, thuế thu nhập. Tính lương thực nhận hàng tháng, kế hoạch tiết kiệm, mô phỏng hưu trí tất cả trong một!">
    <meta name="keywords" content="máy tính lương Nhật Bản, máy tính thuế Nhật Bản, tính lương thực nhận, bảo hiểm y tế Nhật Bản, tính lương hưu, thuế thu nhập Nhật Bản, lương 2025, thuế suất theo tỉnh, việc làm Nhật Bản, mô phỏng lương, kế hoạch tiết kiệm, chuyển đổi niên hiệu, máy tính can chi">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Utilities Collection">

    <!-- Open Graph -->
    <meta property="og:title" content="Máy tính lương Nhật Bản 2025 mới nhất | Lương thực nhận + Phân tích thuế">
    <meta property="og:description" content="Tính chính xác bảo hiểm y tế theo tỉnh, lương hưu, thuế thu nhập. Lương hàng tháng, dự đoán thu nhập tương lai, kế hoạch hưu trí với phân tích AI">
    <meta property="og:url" content="https://utilities.mahalohana-bruce.com/vi/">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://utilities.mahalohana-bruce.com/images/japan-salary-calculator-og.jpg">
    <meta property="og:locale" content="vi_VN">
    <meta property="og:site_name" content="Công cụ tính toán cuộc sống Nhật Bản">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Máy tính lương Nhật Bản 2025 mới nhất">
    <meta name="twitter:description" content="Tính lương chính xác theo tỉnh + Phân tích tài chính AI">
    <meta name="twitter:image" content="https://utilities.mahalohana-bruce.com/images/japan-salary-calculator-twitter.jpg">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="geo.region" content="JP">
    <meta name="geo.placename" content="Japan">
    <meta name="application-name" content="Máy tính lương Nhật Bản">
    <meta name="apple-mobile-web-app-title" content="Máy tính lương Nhật Bản">
    <meta name="theme-color" content="#2563eb">

    <link rel="canonical" href="https://utilities.mahalohana-bruce.com/vi/">
    <link rel="stylesheet" href="/css/professional-design-system.css">
    <link rel="icon" href="/favicon.ico">
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
    <!-- Alternative language versions -->
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/ko/" hreflang="ko">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/en/" hreflang="en">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/ja/" hreflang="ja">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/vi/" hreflang="vi">
    <link rel="alternate" href="https://utilities.mahalohana-bruce.com/" hreflang="x-default">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Máy tính lương Nhật Bản 2025",
        "description": "Máy tính lương Nhật Bản 2025 mới nhất tính chính xác bảo hiểm y tế theo tỉnh, lương hưu, thuế thu nhập - công cụ trực tuyến",
        "url": "https://utilities.mahalohana-bruce.com/vi/",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "All",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "VND"
        },
        "author": {
            "@type": "Organization",
            "name": "Utilities Collection"
        },
        "dateModified": "2025-01-21",
        "inLanguage": "vi",
        "keywords": ["máy tính lương Nhật Bản", "lương thực nhận", "thuế Nhật Bản", "bảo hiểm y tế", "tính lương hưu"],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "1247"
        },
        "featureList": [
            "Áp dụng thuế suất mới nhất 2025",
            "Bảo hiểm y tế 14 tỉnh thành",
            "Phân tích lương hàng tháng chi tiết",
            "Dự đoán thu nhập tương lai",
            "Lập kế hoạch tiết kiệm",
            "Mô phỏng quỹ hưu trí",
            "Tư vấn tài chính cá nhân hóa AI"
        ]
    }
    </script>
    
    <!-- FAQ Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [{
            "@type": "Question",
            "name": "Cách sử dụng máy tính lương Nhật Bản như thế nào?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Nhập thu nhập hàng năm (đơn vị man yên), tỉnh thành cư trú, tuổi, số người phụ thuộc để tự động tính lương thực nhận theo thuế suất mới nhất 2025. Bao gồm đầy đủ bảo hiểm y tế, lương hưu, thuế thu nhập, thuế cư trú."
            }
        }, {
            "@type": "Question",
            "name": "Máy tính lương Nhật Bản có chính xác không?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Có, áp dụng thuế suất chính thức 2025 và tính theo từng tỉnh thành. Bảo hiểm y tế được tính riêng cho 14 tỉnh thành lớn, lương hưu quốc gia và lương hưu doanh nghiệp được tính chính xác theo quy định mới nhất."
            }
        }, {
            "@type": "Question",
            "name": "Có thể so sánh lương giữa các tỉnh thành không?",
            "acceptedAnswer": {
                "@type": "Answer",
                "text": "Có thể so sánh chi tiết lương thực nhận, chi phí sinh hoạt, thuế suất của các tỉnh thành khác nhau. Bao gồm cả phân tích chi phí thuê nhà, giao thông, sinh hoạt để hỗ trợ quyết định nơi làm việc."
            }
        }]
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HS98ZL6343"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', 'G-HS98ZL6343');
    </script>

    <!-- Google AdSense Auto Ads -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867" crossorigin="anonymous"></script>

    <!-- Performance and SW Registration -->
    <script src="/js/common/performance-utils.js"></script>
    <script>
        window.performanceUtils && window.performanceUtils.initPerformanceMonitoring();
    </script>

    <style>
        /* Integrated Tools Styles */
        .tool-panel {
            background: var(--bg-primary);
            border: 1px solid #d5d8dc;
            border-radius: var(--radius-xl);
            padding: var(--space-8);
            margin-bottom: var(--space-8);
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .tool-panel.hidden {
            display: none;
        }

        .tool-header-inline {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 2px solid var(--primary-blue);
        }

        .tool-icon-inline {
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--very-light-gray) 0%, var(--light-gray) 100%);
            border-radius: var(--radius-lg);
            border: 2px solid var(--primary-blue);
        }

        .tool-title-inline {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--text-dark);
            margin: 0;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-6);
            margin-bottom: var(--space-6);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-label {
            font-weight: var(--font-semibold);
            color: var(--text-dark);
            font-size: var(--text-base);
        }

        .form-input, .form-select {
            padding: var(--space-3);
            border: 2px solid #d5d8dc;
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            transition: var(--transition);
            background: var(--bg-primary);
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .form-button {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: var(--text-white);
            border: none;
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-lg);
            font-weight: var(--font-semibold);
            font-size: var(--text-base);
            cursor: pointer;
            transition: var(--transition);
            box-shadow: var(--shadow-md);
        }

        .form-button:hover {
            background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--primary-blue) 100%);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .form-help {
            font-size: var(--text-sm);
            color: var(--text-gray);
            margin-top: var(--space-2);
            padding: var(--space-2) var(--space-3);
            background: var(--very-light-gray);
            border-radius: var(--radius-md);
            border-left: 3px solid var(--primary-blue);
        }
        
        .form-button-group {
            display: flex;
            gap: var(--space-4);
            margin-top: var(--space-6);
        }

        .form-button.primary {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
        }

        .form-button.secondary {
            background: linear-gradient(135deg, var(--text-gray) 0%, var(--text-medium) 100%);
        }

        .result-panel {
            background: linear-gradient(135deg, var(--very-light-gray) 0%, var(--light-gray) 100%);
            border: 2px solid var(--success);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
            display: none;
        }

        .result-panel.visible {
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--success);
            margin-bottom: var(--space-4);
        }

        .result-content {
            font-size: var(--text-lg);
            color: var(--text-dark);
            line-height: 1.7;
        }

        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-4);
            margin-top: var(--space-4);
        }

        .result-item {
            background: var(--bg-primary);
            padding: var(--space-4);
            border-radius: var(--radius-md);
            border: 1px solid #d5d8dc;
        }

        .result-item .label {
            font-weight: var(--font-semibold);
            color: var(--text-medium);
            font-size: var(--text-sm);
            margin-bottom: var(--space-1);
        }

        .result-item .value {
            font-weight: var(--font-bold);
            font-size: var(--text-lg);
            color: var(--primary-navy);
        }

        .error-panel {
            background: #fee2e2;
            border: 2px solid var(--error);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            margin-top: var(--space-6);
            color: var(--error);
            display: none;
        }

        .error-panel.visible {
            display: block;
        }

        .hidden {
            display: none;
        }

        /* Kiểu hiển thị kết quả được cải thiện */
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-5);
            margin-top: var(--space-5);
        }

        .analysis-item {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 1px solid #cbd5e1;
            border-radius: var(--radius-lg);
            padding: var(--space-5);
            transition: transform 0.2s;
        }

        .analysis-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .analysis-item h4 {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--primary-navy);
            margin-bottom: var(--space-3);
            padding-bottom: var(--space-2);
            border-bottom: 2px solid var(--primary-blue);
        }

        .analysis-item ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .analysis-item li {
            padding: var(--space-2) 0;
            color: var(--text-dark);
            font-size: var(--text-base);
            line-height: 1.6;
            border-bottom: 1px solid #e2e8f0;
        }

        .analysis-item li:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }

        .analysis-item li strong {
            color: var(--primary-navy);
            font-weight: var(--font-bold);
            display: block;
            margin-top: var(--space-2);
            font-size: 1.05em;
        }

        .analysis-item p {
            color: var(--text-dark);
            line-height: 1.7;
            margin: var(--space-2) 0;
        }

        .result-main {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-navy) 100%);
            color: white;
            padding: var(--space-6);
            border-radius: var(--radius-lg);
            text-align: center;
            margin-bottom: var(--space-5);
        }

        .result-value {
            font-size: var(--text-xl);
            margin-bottom: var(--space-3);
        }

        .result-value .highlight {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: #fbbf24;
            display: block;
            margin-top: var(--space-2);
        }

        .result-subtitle {
            font-size: var(--text-lg);
            opacity: 0.95;
            margin-top: var(--space-2);
        }

        /* Cải thiện khả năng đọc phần thông tin */
        .info-section {
            padding: var(--space-8) 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }

        .section-title {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            color: var(--primary-navy);
            margin-bottom: var(--space-4);
            line-height: 1.4;
        }

        .section-subtitle {
            font-size: var(--text-lg);
            color: var(--text-medium);
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }

        .info-card {
            background: white;
            border-radius: var(--radius-xl);
            padding: var(--space-6);
            margin-bottom: var(--space-6);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }

        .info-card h3 {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--primary-blue);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .info-card p {
            font-size: var(--text-base);
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: var(--space-3);
        }

        .info-card ul {
            margin-top: var(--space-3);
            padding-left: var(--space-6);
        }

        .info-card li {
            font-size: var(--text-base);
            color: var(--text-dark);
            line-height: 1.8;
            margin-bottom: var(--space-2);
        }

        .info-card strong {
            color: var(--primary-navy);
            font-weight: var(--font-semibold);
        }

        /* Cải thiện khả năng đọc trường biểu mẫu */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-5);
            margin-bottom: var(--space-6);
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-dark);
            margin-bottom: var(--space-2);
            display: flex;
            align-items: center;
            gap: var(--space-1);
        }

        .form-input,
        .form-select {
            padding: var(--space-3);
            border: 2px solid #cbd5e1;
            border-radius: var(--radius-md);
            font-size: var(--text-base);
            background: white;
            transition: all 0.2s;
        }

        .form-input:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .form-input::placeholder {
            color: #94a3b8;
        }

        .form-actions {
            display: flex;
            gap: var(--space-4);
            justify-content: center;
            margin-top: var(--space-6);
        }

        .form-button {
            padding: var(--space-3) var(--space-6);
            border-radius: var(--radius-lg);
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
        }

        .form-button.primary {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-navy) 100%);
            color: white;
        }

        .form-button.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .form-button.secondary {
            background: white;
            color: var(--primary-navy);
            border: 2px solid var(--primary-blue);
        }

        .form-button.secondary:hover {
            background: var(--primary-blue);
            color: white;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: var(--space-8);
            align-items: start;
        }

        .sidebar {
            background: var(--bg-primary);
            border: 1px solid #d5d8dc;
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-md);
            position: sticky;
            top: var(--space-6);
        }

        .sidebar-title {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--text-dark);
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .tool-nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .tool-nav-item {
            background: var(--bg-secondary);
            border: 2px solid #d5d8dc;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            overflow: hidden;
        }

        .tool-nav-button {
            width: 100%;
            padding: var(--space-4);
            background: none;
            border: none;
            text-align: left;
            cursor: pointer;
            color: var(--text-dark);
            font-weight: var(--font-medium);
            display: flex;
            align-items: center;
            gap: var(--space-3);
            font-size: var(--text-base);
        }

        .tool-nav-item:hover {
            border-color: var(--primary-blue);
            background: var(--very-light-gray);
        }

        .tool-nav-item.active {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        .tool-nav-item.active .tool-nav-button {
            color: var(--text-white);
        }

        .tool-icon-nav {
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
                gap: var(--space-4);
            }

            .sidebar {
                position: static;
                margin-bottom: var(--space-6);
            }

            .sidebar-title {
                text-align: center;
            }

            .tool-nav-list {
                flex-direction: row;
                overflow-x: auto;
                padding: var(--space-2);
                gap: var(--space-2);
            }

            .tool-nav-item {
                flex-shrink: 0;
                min-width: 200px;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .tool-header-inline {
                flex-direction: column;
                text-align: center;
                gap: var(--space-2);
            }
        }
    </style>
</head>
<body>
    <!-- Language Bar -->
    <div class="language-bar">
        <div class="container">
            <div class="language-selector">
                <span class="language-label">🌍 Chọn ngôn ngữ:</span>
                <a href="/" class="language-link">Tự động chọn</a>
                <a href="/en/" class="language-link">🇺🇸 English</a>
                <a href="/ja/" class="language-link">🇯🇵 日本語</a>
                <a href="/ko/" class="language-link">🇰🇷 한국어</a>
                <a href="/vi/" class="language-link current">🇻🇳 Tiếng Việt</a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <h1 class="site-title">Máy tính lương Nhật Bản 2025 - Công cụ tính toán chuyên nghiệp</h1>
                <p class="site-description">Tính chính xác lương thực nhận, thuế, bảo hiểm theo từng tỉnh thành</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="main-layout">
                <!-- Sidebar Navigation -->
                <aside class="sidebar">
                    <h2 class="sidebar-title">🛠️ Công cụ tính toán</h2>
                    <ul class="tool-nav-list">
                        <li class="tool-nav-item active" onclick="showTool('salary-calculator')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">💰</span>
                                <span>Máy tính lương Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-year')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📅</span>
                                <span>Chuyển đổi niên hiệu Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-eto')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🐉</span>
                                <span>Máy tính 12 con giáp</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-tax')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📊</span>
                                <span>Máy tính thuế thu nhập Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-loan')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏠</span>
                                <span>Máy tính vay bất động sản Nhật</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-rent')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏢</span>
                                <span>Máy tính thuê nhà Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-utility')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">⚡</span>
                                <span>Máy tính tiền điện nước Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-transport')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🚃</span>
                                <span>Máy tính chi phí giao thông Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-mobile')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">📱</span>
                                <span>Máy tính cước điện thoại Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-food')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🍱</span>
                                <span>Máy tính ngân sách ăn uống Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-health')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏥</span>
                                <span>Máy tính bảo hiểm y tế Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-housing')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🏠</span>
                                <span>Máy tính chi phí nhà ở Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-netpay')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">💰</span>
                                <span>Máy tính lương thực lĩnh Nhật Bản</span>
                            </button>
                        </li>
                        <li class="tool-nav-item" onclick="showTool('jp-living')">
                            <button class="tool-nav-button">
                                <span class="tool-icon-nav">🛒</span>
                                <span>Máy tính chi phí sinh hoạt Nhật Bản</span>
                            </button>
                        </li>
                    </ul>
                </aside>

                <!-- Tools Content -->
                <div class="tools-content">
            <!-- Máy tính lương Nhật Bản -->
            <div id="salary-calculator-tool" class="tool-panel">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">💰</div>
                    <h2 class="tool-title-inline">Máy tính lương Nhật Bản 2025</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Thu nhập hàng năm (man yên)</label>
                        <input type="number" id="annualSalary" class="form-input" placeholder="Ví dụ: 400" min="100" max="5000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tỉnh thành cư trú</label>
                        <select id="prefecture" class="form-select">
                            <option value="tokyo">Tokyo - 東京都</option>
                            <option value="osaka">Osaka - 大阪府</option>
                            <option value="kanagawa">Kanagawa - 神奈川県</option>
                            <option value="aichi">Aichi - 愛知県</option>
                            <option value="saitama">Saitama - 埼玉県</option>
                            <option value="chiba">Chiba - 千葉県</option>
                            <option value="hyogo">Hyogo - 兵庫県</option>
                            <option value="hokkaido">Hokkaido - 北海道</option>
                            <option value="fukuoka">Fukuoka - 福岡県</option>
                            <option value="shizuoka">Shizuoka - 静岡県</option>
                            <option value="hiroshima">Hiroshima - 広島県</option>
                            <option value="sendai">Sendai - 仙台市</option>
                            <option value="other">Tỉnh thành khác</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tuổi</label>
                        <input type="number" id="age" class="form-input" placeholder="Ví dụ: 30" min="18" max="70">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Số người phụ thuộc</label>
                        <input type="number" id="dependents" class="form-input" placeholder="0" min="0" max="10">
                    </div>
                </div>
                
                <button class="form-button" onclick="calculateSalary()">Tính lương thực nhận</button>
                
                <div id="salaryResult" class="result-panel">
                    <div class="result-title">Kết quả tính lương</div>
                    <div class="result-content" id="salaryResultContent"></div>
                    <div class="result-details" id="salaryResultDetails"></div>
                </div>
                
                <div id="salaryError" class="error-panel">
                    <div id="salaryErrorContent"></div>
                </div>
            </div>

            <!-- Chuyển đổi niên hiệu Nhật Bản -->
            <div id="jp-year-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📅</div>
                    <h2 class="tool-title-inline">Chuyển đổi niên hiệu Nhật Bản</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Hướng chuyển đổi</label>
                        <select id="conversionType" class="form-select">
                            <option value="ad-to-era">Tây lịch → Niên hiệu</option>
                            <option value="era-to-ad">Niên hiệu → Tây lịch</option>
                        </select>
                    </div>
                    <div class="form-group" id="adYearGroup">
                        <label class="form-label">Năm tây lịch</label>
                        <input type="number" id="adYear" class="form-input" placeholder="Ví dụ: 2025" min="1868" max="2030">
                    </div>
                    <div class="form-group hidden" id="eraGroup">
                        <label class="form-label">Chọn niên hiệu</label>
                        <select id="eraSelect" class="form-select">
                            <option value="reiwa">Reiwa (令和)</option>
                            <option value="heisei">Heisei (平成)</option>
                            <option value="showa">Showa (昭和)</option>
                            <option value="taisho">Taisho (大正)</option>
                            <option value="meiji">Meiji (明治)</option>
                        </select>
                    </div>
                    <div class="form-group hidden" id="eraYearGroup">
                        <label class="form-label">Năm niên hiệu</label>
                        <input type="number" id="eraYear" class="form-input" placeholder="Ví dụ: 7" min="1">
                    </div>
                </div>
                
                <button class="form-button" onclick="convertYear()">Chuyển đổi</button>
                
                <div id="yearResult" class="result-panel">
                    <div class="result-title">Kết quả chuyển đổi</div>
                    <div class="result-content" id="yearResultContent"></div>
                    <div class="result-details" id="yearResultDetails"></div>
                </div>
                
                <div id="yearError" class="error-panel">
                    <div id="yearErrorContent"></div>
                </div>
            </div>

            <!-- Máy tính 12 con giáp -->
            <div id="jp-eto-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🐉</div>
                    <h2 class="tool-title-inline">Máy tính 12 con giáp Nhật Bản (十二支)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Ngày sinh</label>
                        <input type="date" id="birthDate" class="form-input">
                    </div>
                </div>
                
                <button class="form-button" onclick="calculateEto()">Tính con giáp</button>
                
                <div id="etoResult" class="result-panel">
                    <div class="result-title">Kết quả tính con giáp</div>
                    <div class="result-content" id="etoResultContent"></div>
                    <div class="result-details" id="etoResultDetails"></div>
                </div>
                
                <div id="etoError" class="error-panel">
                    <div id="etoErrorContent"></div>
                </div>
            </div>

            <!-- Máy tính thuế thu nhập Nhật Bản -->
            <div id="jp-tax-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📊</div>
                    <h2 class="tool-title-inline">Máy tính thuế thu nhập Nhật Bản (Thuế suất 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Thu nhập hàng năm (man yên)</label>
                        <input type="number" id="jpTaxIncome" class="form-input" placeholder="Ví dụ: 500" min="0" max="5000" step="10">
                        <div class="form-help">* Nhập tổng thu nhập hàng năm trước thuế (đơn vị man yên)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại thu nhập</label>
                        <select id="jpIncomeType" class="form-select">
                            <option value="salary">Thu nhập lương</option>
                            <option value="business">Thu nhập kinh doanh</option>
                            <option value="freelance">Thu nhập freelance</option>
                            <option value="investment">Thu nhập đầu tư</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Số người phụ thuộc</label>
                        <input type="number" id="jpTaxDependents" class="form-input" placeholder="0" min="0" max="10" value="0">
                        <div class="form-help">* Giảm trừ 38 man yên mỗi người phụ thuộc</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Giảm trừ vợ/chồng</label>
                        <select id="jpTaxSpouse" class="form-select">
                            <option value="none">Không có</option>
                            <option value="general">Giảm trừ vợ/chồng thông thường (38 man yên)</option>
                            <option value="special">Giảm trừ vợ/chồng đặc biệt (tối đa 38 man yên)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Giảm trừ khác</label>
                        <input type="number" id="jpTaxDeductions" class="form-input" placeholder="0" min="0" max="500" step="5">
                        <div class="form-help">* Chi phí y tế, quyên góp v.v. (man yên)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tình trạng cư trú</label>
                        <select id="jpTaxResidence" class="form-select">
                            <option value="resident">Cư dân</option>
                            <option value="non-resident">Không cư trú</option>
                            <option value="non-permanent">Cư dân không thường trú</option>
                        </select>
                        <div class="form-help">* Cách tính thuế khác nhau theo tình trạng cư trú</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpTax()">📊 Tính thuế thu nhập</button>
                    <button class="form-button secondary" onclick="resetJpTax()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpTaxResult" class="result-panel">
                    <div class="result-title">📊 Kết quả tính thuế thu nhập</div>
                    <div class="result-content" id="jpTaxResultContent"></div>
                    <div class="result-details" id="jpTaxResultDetails"></div>
                </div>
                
                <div id="jpTaxError" class="error-panel">
                    <div id="jpTaxErrorContent"></div>
                </div>
                
                <!-- Phân tích chi tiết theo khung thuế suất -->
                <div id="jpTaxBrackets" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">📋 Phân tích theo khung thuế suất lũy tiến</div>
                    <div id="jpTaxBracketsContent"></div>
                </div>
            </div>

            <!-- Máy tính vay bất động sản Nhật Bản -->
            <div id="jp-loan-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏠</div>
                    <h2 class="tool-title-inline">Máy tính vay bất động sản Nhật Bản (Lãi suất 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Giá bất động sản (man yên)</label>
                        <input type="number" id="jpLoanPrice" class="form-input" placeholder="Ví dụ: 5000" min="1000" max="50000" step="100">
                        <div class="form-help">* Tổng giá trị bất động sản muốn mua</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tỷ lệ vốn tự có (%)</label>
                        <input type="number" id="jpLoanDownPayment" class="form-input" placeholder="20" min="5" max="80" value="20">
                        <div class="form-help">* Tỷ lệ vốn tự có (thường 10-30%)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thời hạn vay (năm)</label>
                        <select id="jpLoanTerm" class="form-select">
                            <option value="25">25 năm</option>
                            <option value="30">30 năm</option>
                            <option value="35" selected>35 năm</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại lãi suất</label>
                        <select id="jpLoanRateType" class="form-select">
                            <option value="variable">Lãi suất thả nổi (0.5%)</option>
                            <option value="fixed10">Lãi suất cố định 10 năm (0.8%)</option>
                            <option value="fixed35">Lãi suất cố định toàn kỳ (1.8%)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thu nhập hàng năm (man yên)</label>
                        <input type="number" id="jpLoanIncome" class="form-input" placeholder="Ví dụ: 600" min="300" max="3000" step="50">
                        <div class="form-help">* Tổng thu nhập hàng năm (để tính khả năng vay)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khoản nợ khác hàng tháng</label>
                        <input type="number" id="jpLoanOtherDebt" class="form-input" placeholder="0" min="0" max="50" value="0">
                        <div class="form-help">* Vay xe, thẻ tín dụng v.v. (man yên/tháng)</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpLoan()">🏠 Tính khoản vay</button>
                    <button class="form-button secondary" onclick="resetJpLoan()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpLoanResult" class="result-panel">
                    <div class="result-title">🏠 Kết quả tính khoản vay</div>
                    <div class="result-content" id="jpLoanResultContent"></div>
                    <div class="result-details" id="jpLoanResultDetails"></div>
                </div>
                
                <div id="jpLoanError" class="error-panel">
                    <div id="jpLoanErrorContent"></div>
                </div>
                
                <!-- Phân tích khả năng vay -->
                <div id="jpLoanAnalysis" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">📈 Phân tích khả năng vay</div>
                    <div id="jpLoanAnalysisContent"></div>
                </div>
            </div>

            <!-- Máy tính thuê nhà Nhật Bản -->
            <div id="jp-rent-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏢</div>
                    <h2 class="tool-title-inline">Máy tính thuê nhà Nhật Bản</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Lương hàng tháng (man yên)</label>
                        <input type="number" id="jpRentSalary" class="form-input" placeholder="Ví dụ: 30" min="15" max="150" step="1">
                        <div class="form-help">* Thu nhập thực nhận hàng tháng</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tiền thuê nhà (man yên/tháng)</label>
                        <input type="number" id="jpRentAmount" class="form-input" placeholder="Ví dụ: 8" min="3" max="50" step="0.5">
                        <div class="form-help">* Tiền thuê bao gồm phí quản lý</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khu vực</label>
                        <select id="jpRentRegion" class="form-select">
                            <option value="tokyo-center">Tokyo trung tâm (23 quận)</option>
                            <option value="tokyo-suburbs">Tokyo ngoại ô</option>
                            <option value="osaka">Osaka</option>
                            <option value="nagoya">Nagoya</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="other-major">Thành phố lớn khác</option>
                            <option value="regional">Thành phố vùng</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại nhà ở</label>
                        <select id="jpRentType" class="form-select">
                            <option value="apartment">Apartment</option>
                            <option value="mansion">Mansion</option>
                            <option value="house">Nhà riêng</option>
                            <option value="share">Share house</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Số phòng</label>
                        <select id="jpRentRooms" class="form-select">
                            <option value="1R">Studio (1R)</option>
                            <option value="1K">1K</option>
                            <option value="1DK">1DK</option>
                            <option value="1LDK">1LDK</option>
                            <option value="2DK">2DK</option>
                            <option value="2LDK">2LDK</option>
                            <option value="3LDK">3LDK trở lên</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thời gian đi bộ đến ga</label>
                        <select id="jpRentStation" class="form-select">
                            <option value="5">Dưới 5 phút</option>
                            <option value="10">6-10 phút</option>
                            <option value="15">11-15 phút</option>
                            <option value="20">Trên 16 phút</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpRent()">🏢 Phân tích tính hợp lý</button>
                    <button class="form-button secondary" onclick="resetJpRent()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpRentResult" class="result-panel">
                    <div class="result-title">🏢 Phân tích tính hợp lý tiền thuê</div>
                    <div class="result-content" id="jpRentResultContent"></div>
                    <div class="result-details" id="jpRentResultDetails"></div>
                </div>
                
                <div id="jpRentError" class="error-panel">
                    <div id="jpRentErrorContent"></div>
                </div>
            </div>

            <!-- Máy tính tiền điện nước Nhật Bản -->
            <div id="jp-utility-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">⚡</div>
                    <h2 class="tool-title-inline">Máy tính tiền điện nước Nhật Bản (Giá 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Khu vực sinh sống</label>
                        <select id="jpUtilityRegion" class="form-select">
                            <option value="tepco">TEPCO (Kanto)</option>
                            <option value="kepco">KEPCO (Kansai)</option>
                            <option value="chubu">Chubu (Chubu)</option>
                            <option value="tohoku">Tohoku (Tohoku)</option>
                            <option value="kyushu">Kyushu (Kyushu)</option>
                            <option value="chugoku">Chugoku (Chugoku)</option>
                            <option value="shikoku">Shikoku (Shikoku)</option>
                            <option value="hokkaido">Hokkaido (Hokkaido)</option>
                            <option value="hokuriku">Hokuriku (Hokuriku)</option>
                            <option value="okinawa">Okinawa (Okinawa)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại nhà ở</label>
                        <select id="jpUtilityHousing" class="form-select">
                            <option value="studio">Studio/One room</option>
                            <option value="1bedroom">1-2 phòng</option>
                            <option value="family">Gia đình (3 phòng trở lên)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mùa trong năm</label>
                        <select id="jpUtilitySeason" class="form-select">
                            <option value="spring">Mùa xuân (3-5)</option>
                            <option value="summer">Mùa hè (6-8)</option>
                            <option value="autumn">Mùa thu (9-11)</option>
                            <option value="winter">Mùa đông (12-2)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sử dụng điều hòa</label>
                        <select id="jpUtilityAC" class="form-select">
                            <option value="none">Không sử dụng</option>
                            <option value="light">Thỉnh thoảng</option>
                            <option value="moderate">Bình thường</option>
                            <option value="heavy">Thường xuyên</option>
                            <option value="always">Luôn luôn</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thiết bị điện chính</label>
                        <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityFridge"> Tủ lạnh
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityWasher"> Máy giặt
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityDryer"> Máy sấy
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityTV"> TV/Màn hình
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityPC"> Máy tính
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px;">
                                <input type="checkbox" id="jpUtilityHeater"> Máy sưởi điện
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Làm việc tại nhà</label>
                        <select id="jpUtilityWFH" class="form-select">
                            <option value="none">Không làm việc tại nhà</option>
                            <option value="partial">1-2 ngày/tuần</option>
                            <option value="hybrid">3-4 ngày/tuần</option>
                            <option value="full">Toàn thời gian tại nhà</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpUtility()">⚡ Tính tiền điện</button>
                    <button class="form-button secondary" onclick="resetJpUtility()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpUtilityResult" class="result-panel">
                    <div class="result-title">⚡ Dự tính tiền điện</div>
                    <div class="result-content" id="jpUtilityResultContent"></div>
                    <div class="result-details" id="jpUtilityResultDetails"></div>
                </div>
                
                <div id="jpUtilityError" class="error-panel">
                    <div id="jpUtilityErrorContent"></div>
                </div>
                
                <!-- Mẹo tiết kiệm điện -->
                <div id="jpUtilitySavings" class="result-panel" style="margin-top: 20px;">
                    <div class="result-title">💡 Mẹo tiết kiệm tiền điện</div>
                    <div id="jpUtilitySavingsContent"></div>
                </div>
            </div>

            <!-- Máy tính chi phí giao thông Nhật Bản -->
            <div id="jp-transport-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🚃</div>
                    <h2 class="tool-title-inline">Máy tính chi phí giao thông Nhật Bản (Giá 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Ga khởi hành</label>
                        <input type="text" id="jpTransportFrom" class="form-input" placeholder="VD: Ga Shinjuku" required>
                        <div class="form-help">* Nhập tên ga khởi hành</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ga đến</label>
                        <input type="text" id="jpTransportTo" class="form-input" placeholder="VD: Ga Tokyo" required>
                        <div class="form-help">* Nhập tên ga đến</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tần suất sử dụng</label>
                        <select id="jpTransportFreq" class="form-select">
                            <option value="daily">Hàng ngày (đi làm)</option>
                            <option value="weekly">3-4 lần/tuần</option>
                            <option value="occasional">Thỉnh thoảng (1-2 lần/tuần)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại vé</label>
                        <select id="jpTransportType" class="form-select">
                            <option value="normal">Vé thường</option>
                            <option value="commuter">Vé tháng</option>
                            <option value="ic-card">Thẻ IC (giảm 10%)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khoảng cách (km)</label>
                        <input type="number" id="jpTransportDistance" class="form-input" placeholder="10" min="1" max="100" step="0.1">
                        <div class="form-help">* Nhập khoảng cách ước tính</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại tuyến đường</label>
                        <select id="jpTransportLine" class="form-select">
                            <option value="jr">JR (đường sắt quốc gia)</option>
                            <option value="private">Đường sắt tư nhân (Tokyu, Keihan, v.v.)</option>
                            <option value="subway">Tàu điện ngầm (Tokyo Metro, v.v.)</option>
                            <option value="mixed">Chuyển tiếp (hỗn hợp)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpTransport()">🚃 Tính chi phí giao thông</button>
                    <button class="form-button secondary" onclick="resetJpTransport()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpTransportResult" class="result-panel">
                    <div class="result-title">🚃 Kết quả tính chi phí giao thông</div>
                    <div class="result-content" id="jpTransportResultContent"></div>
                </div>
                
                <div id="jpTransportError" class="error-panel">
                    <div id="jpTransportErrorContent"></div>
                </div>
            </div>

            <!-- Máy tính cước điện thoại Nhật Bản -->
            <div id="jp-mobile-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">📱</div>
                    <h2 class="tool-title-inline">Máy tính cước điện thoại Nhật Bản (Giá 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nhà mạng</label>
                        <select id="jpMobileCarrier" class="form-select">
                            <option value="docomo">NTT Docomo</option>
                            <option value="softbank">SoftBank</option>
                            <option value="au">au (KDDI)</option>
                            <option value="rakuten">Rakuten Mobile</option>
                            <option value="mvno">SIM giá rẻ (MVNO)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Lượng data sử dụng</label>
                        <select id="jpMobileData" class="form-select">
                            <option value="1gb">Dưới 1GB</option>
                            <option value="3gb">3GB</option>
                            <option value="7gb">7GB</option>
                            <option value="20gb">20GB</option>
                            <option value="unlimited">Không giới hạn</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Lượng gọi điện</label>
                        <select id="jpMobileCall" class="form-select">
                            <option value="basic">Cơ bản (dưới 5 phút)</option>
                            <option value="10min">Khoảng 10 phút</option>
                            <option value="unlimited-5min">Không giới hạn dưới 5 phút</option>
                            <option value="unlimited">Hoàn toàn không giới hạn</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Hình thức hợp đồng</label>
                        <select id="jpMobileContract" class="form-select">
                            <option value="postpaid">Trả sau (gói cước thông thường)</option>
                            <option value="prepaid">Trả trước</option>
                            <option value="family">Gói gia đình</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mua máy điện thoại</label>
                        <select id="jpMobileDevice" class="form-select">
                            <option value="none">Sử dụng máy cũ</option>
                            <option value="budget">Máy giá rẻ (3-5 vạn yên)</option>
                            <option value="mid">Máy tầm trung (7-10 vạn yên)</option>
                            <option value="premium">Máy cao cấp (12-15 vạn yên)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ưu đãi giảm giá</label>
                        <select id="jpMobileDiscount" class="form-select">
                            <option value="none">Không có</option>
                            <option value="student">Giảm giá sinh viên</option>
                            <option value="senior">Giảm giá người cao tuổi</option>
                            <option value="family">Giảm giá gia đình</option>
                            <option value="internet">Giảm giá khi kết hợp với internet</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpMobile()">📱 Tính cước điện thoại</button>
                    <button class="form-button secondary" onclick="resetJpMobile()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpMobileResult" class="result-panel">
                    <div class="result-title">📱 Kết quả tính cước điện thoại</div>
                    <div class="result-content" id="jpMobileResultContent"></div>
                </div>
                
                <div id="jpMobileError" class="error-panel">
                    <div id="jpMobileErrorContent"></div>
                </div>
            </div>

            <!-- Máy tính ngân sách ăn uống Nhật Bản -->
            <div id="jp-food-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🍱</div>
                    <h2 class="tool-title-inline">Máy tính ngân sách ăn uống Nhật Bản (Giá 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Số thành viên gia đình</label>
                        <select id="jpFoodFamily" class="form-select">
                            <option value="1">1 người (sống một mình)</option>
                            <option value="2">2 người (vợ chồng)</option>
                            <option value="3">3 người (vợ chồng + 1 con)</option>
                            <option value="4">4 người (vợ chồng + 2 con)</option>
                            <option value="5+">5 người trở lên</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phong cách ăn uống</label>
                        <select id="jpFoodStyle" class="form-select">
                            <option value="home-cooking">Nấu ăn tại nhà (tiết kiệm)</option>
                            <option value="mixed">Nấu + ăn ngoài (bình thường)</option>
                            <option value="convenience">Cửa hàng tiện lợi + ăn ngoài (tiện lợi)</option>
                            <option value="restaurant">Chủ yếu ăn ngoài (cao cấp)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khu vực</label>
                        <select id="jpFoodRegion" class="form-select">
                            <option value="tokyo">Tokyo (giá cao)</option>
                            <option value="osaka">Osaka (giá bình thường)</option>
                            <option value="regional">Thành phố tỉnh (giá thấp)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sở thích đặc biệt</label>
                        <select id="jpFoodPreference" class="form-select">
                            <option value="normal">Thực phẩm thông thường</option>
                            <option value="organic">Ưa thích thực phẩm hữu cơ</option>
                            <option value="imported">Ưa thích thực phẩm nhập khẩu</option>
                            <option value="luxury">Ưa thích nguyên liệu cao cấp</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thói quen uống rượu</label>
                        <select id="jpFoodDrinking" class="form-select">
                            <option value="none">Không uống rượu</option>
                            <option value="occasional">Thỉnh thoảng (1-2 lần/tuần)</option>
                            <option value="regular">Thường xuyên (3-4 lần/tuần)</option>
                            <option value="frequent">Thường uống (gần như hàng ngày)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cơm hộp trưa</label>
                        <select id="jpFoodLunch" class="form-select">
                            <option value="bento">Tự mang cơm hộp</option>
                            <option value="cafeteria">Căng tin công ty</option>
                            <option value="outside">Ăn trưa bên ngoài</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpFood()">🍱 Tính ngân sách ăn uống</button>
                    <button class="form-button secondary" onclick="resetJpFood()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpFoodResult" class="result-panel">
                    <div class="result-title">🍱 Kết quả tính ngân sách ăn uống</div>
                    <div class="result-content" id="jpFoodResultContent"></div>
                </div>
                
                <div id="jpFoodError" class="error-panel">
                    <div id="jpFoodErrorContent"></div>
                </div>
            </div>

            <!-- Máy tính bảo hiểm y tế Nhật Bản -->
            <div id="jp-health-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏥</div>
                    <h2 class="tool-title-inline">Máy tính bảo hiểm y tế Nhật Bản (Tỷ lệ 2025)</h2>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Lương hàng tháng (vạn yên)</label>
                        <input type="number" id="jpHealthSalary" class="form-input" placeholder="30" min="15" max="200" step="1" required>
                        <div class="form-help">* Nhập lương hàng tháng trước thuế (đơn vị: vạn yên)</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tỉnh thành cư trú</label>
                        <select id="jpHealthPrefecture" class="form-select">
                            <option value="tokyo">Tokyo (9.81%)</option>
                            <option value="osaka">Osaka (10.29%)</option>
                            <option value="kanagawa">Kanagawa (9.85%)</option>
                            <option value="saitama">Saitama (9.71%)</option>
                            <option value="chiba">Chiba (9.79%)</option>
                            <option value="hyogo">Hyogo (10.13%)</option>
                            <option value="aichi">Aichi (9.93%)</option>
                            <option value="fukuoka">Fukuoka (10.38%)</option>
                            <option value="others">Khu vực khác (trung bình 9.95%)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tuổi</label>
                        <input type="number" id="jpHealthAge" class="form-input" placeholder="30" min="20" max="75" step="1" required>
                        <div class="form-help">* Từ 40 tuổi trở lên phải đóng thêm bảo hiểm chăm sóc</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Hình thức việc làm</label>
                        <select id="jpHealthEmployment" class="form-select">
                            <option value="employee">Nhân viên chính thức (bảo hiểm xã hội)</option>
                            <option value="part-time">Làm bán thời gian</option>
                            <option value="freelancer">Freelancer (bảo hiểm y tế quốc dân)</option>
                            <option value="student">Sinh viên</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Số người phụ thuộc</label>
                        <input type="number" id="jpHealthDependents" class="form-input" placeholder="0" min="0" max="10" step="1" value="0">
                        <div class="form-help">* Số người phụ thuộc được bảo hiểm y tế</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thưởng (hàng năm)</label>
                        <input type="number" id="jpHealthBonus" class="form-input" placeholder="100" min="0" max="500" step="10">
                        <div class="form-help">* Tổng số tiền thưởng hàng năm (vạn yên)</div>
                    </div>
                </div>
                
                <div class="form-button-group">
                    <button class="form-button primary" onclick="calculateJpHealth()">🏥 Tính bảo hiểm y tế</button>
                    <button class="form-button secondary" onclick="resetJpHealth()">🔄 Đặt lại</button>
                </div>
                
                <div id="jpHealthResult" class="result-panel">
                    <div class="result-title">🏥 Kết quả tính bảo hiểm y tế</div>
                    <div class="result-content" id="jpHealthResultContent"></div>
                </div>
                
                <div id="jpHealthError" class="error-panel">
                    <div id="jpHealthErrorContent"></div>
                </div>
            </div>
            <!-- 1. Máy tính chi phí nhà ở tổng hợp Nhật Bản -->
            <div id="jp-housing-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🏠</div>
                    <h2 class="tool-title-inline">Máy tính chi phí nhà ở tổng hợp Nhật Bản (Chuẩn 2025)</h2>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Tiền thuê hàng tháng (vạn yên)</label>
                        <input type="number" id="jpHousingRent" class="form-input" placeholder="Ví dụ: 8" min="3" max="50" step="0.5">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phí quản lý (yên)</label>
                        <input type="number" id="jpHousingManagement" class="form-input" placeholder="Ví dụ: 5000" min="0" max="30000" step="1000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tiền cọc (số tháng)</label>
                        <select id="jpHousingDeposit" class="form-select">
                            <option value="0">Không có tiền cọc</option>
                            <option value="1" selected>1 tháng</option>
                            <option value="2">2 tháng</option>
                            <option value="3">3 tháng</option>
                            <option value="6">6 tháng</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tiền lễ (số tháng)</label>
                        <select id="jpHousingKeyMoney" class="form-select">
                            <option value="0" selected>Không có tiền lễ</option>
                            <option value="1">1 tháng</option>
                            <option value="2">2 tháng</option>
                            <option value="3">3 tháng</option>
                            <option value="6">6 tháng</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phí môi giới</label>
                        <select id="jpHousingBrokerage" class="form-select">
                            <option value="0.5">0.5 tháng (thông thường)</option>
                            <option value="1" selected>1 tháng</option>
                            <option value="1.5">1.5 tháng</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Bảo hiểm cháy nổ (hàng năm)</label>
                        <input type="number" id="jpHousingInsurance" class="form-input" placeholder="Ví dụ: 15000" min="10000" max="50000" value="15000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khu vực</label>
                        <select id="jpHousingRegion" class="form-select">
                            <option value="tokyo">Tokyo (chi phí cao)</option>
                            <option value="osaka" selected>Osaka (chi phí trung bình)</option>
                            <option value="yokohama">Yokohama</option>
                            <option value="nagoya">Nagoya</option>
                            <option value="sapporo">Sapporo</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="regional">Thành phố địa phương (chi phí thấp)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Loại nhà ở</label>
                        <select id="jpHousingType" class="form-select">
                            <option value="apartment" selected>Chung cư</option>
                            <option value="mansion">Mansion</option>
                            <option value="house">Nhà riêng</option>
                            <option value="share">Share house</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpHousing()">💰 Tính chi phí nhà ở</button>
                    <button class="form-button secondary" onclick="resetJpHousing()">🔄 Đặt lại</button>
                </div>
                <div id="jpHousingResult" class="result-panel">
                    <h3>💰 Phân tích chi tiết chi phí nhà ở</h3>
                    <div class="result-content" id="jpHousingResultContent"></div>
                    <div class="result-details" id="jpHousingResultDetails"></div>
                </div>
                <div id="jpHousingError" class="error-panel">
                    <div id="jpHousingErrorContent"></div>
                </div>
            </div>
            <!-- 2. Máy tính lương thực lĩnh Nhật Bản -->
            <div id="jp-netpay-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">💰</div>
                    <h2 class="tool-title-inline">Máy tính lương thực lĩnh Nhật Bản (Thuế suất 2025)</h2>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Tổng lương hàng tháng (vạn yên)</label>
                        <input type="number" id="jpNetpayGross" class="form-input" placeholder="Ví dụ: 30" min="15" max="150" step="1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thưởng hàng năm (vạn yên)</label>
                        <input type="number" id="jpNetpayBonus" class="form-input" placeholder="Ví dụ: 100" min="0" max="500" step="10" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nơi cư trú</label>
                        <select id="jpNetpayRegion" class="form-select">
                            <option value="tokyo">Tokyo</option>
                            <option value="osaka" selected>Osaka</option>
                            <option value="kanagawa">Kanagawa</option>
                            <option value="aichi">Aichi</option>
                            <option value="saitama">Saitama</option>
                            <option value="chiba">Chiba</option>
                            <option value="hyogo">Hyogo</option>
                            <option value="hokkaido">Hokkaido</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="other">Tỉnh khác</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tuổi</label>
                        <input type="number" id="jpNetpayAge" class="form-input" placeholder="Ví dụ: 30" min="18" max="70" value="30">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Số người phụ thuộc</label>
                        <input type="number" id="jpNetpayDependents" class="form-input" placeholder="0" min="0" max="10" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tình trạng hôn nhân</label>
                        <select id="jpNetpaySpouse" class="form-select">
                            <option value="none" selected>Độc thân</option>
                            <option value="dependent">Có vợ/chồng phụ thuộc</option>
                            <option value="working">Vợ/chồng có thu nhập</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Hình thức làm việc</label>
                        <select id="jpNetpayEmployment" class="form-select">
                            <option value="fulltime" selected>Nhân viên chính thức</option>
                            <option value="contract">Nhân viên hợp đồng</option>
                            <option value="parttime">Làm thời vụ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khấu trú khác (vạn yên/năm)</label>
                        <input type="number" id="jpNetpayDeductions" class="form-input" placeholder="Ví dụ: 50" min="0" max="200" step="5" value="0">
                    </div>
                </div>
                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpNetpay()">💰 Tính lương thực lĩnh</button>
                    <button class="form-button secondary" onclick="resetJpNetpay()">🔄 Đặt lại</button>
                </div>
                <div id="jpNetpayResult" class="result-panel">
                    <h3>💰 Phân tích chi tiết lương thực lĩnh</h3>
                    <div class="result-content" id="jpNetpayResultContent"></div>
                    <div class="result-details" id="jpNetpayResultDetails"></div>
                </div>
                <div id="jpNetpayError" class="error-panel">
                    <div id="jpNetpayErrorContent"></div>
                </div>
            </div>
            <!-- 3. Máy tính chi phí sinh hoạt tổng hợp Nhật Bản -->
            <div id="jp-living-tool" class="tool-panel hidden">
                <div class="tool-header-inline">
                    <div class="tool-icon-inline">🛒</div>
                    <h2 class="tool-title-inline">Máy tính chi phí sinh hoạt tổng hợp Nhật Bản (Giá cả 2025)</h2>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Số thành viên gia đình</label>
                        <select id="jpLivingFamily" class="form-select">
                            <option value="1" selected>1 người (sống một mình)</option>
                            <option value="2">2 người (vợ chồng/cặp đôi)</option>
                            <option value="3">3 người (vợ chồng + 1 con)</option>
                            <option value="4">4 người (vợ chồng + 2 con)</option>
                            <option value="5">5 người trở lên</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Khu vực sinh sống</label>
                        <select id="jpLivingRegion" class="form-select">
                            <option value="tokyo">Tokyo (đắt nhất)</option>
                            <option value="osaka" selected>Osaka (đắt)</option>
                            <option value="yokohama">Yokohama</option>
                            <option value="nagoya">Nagoya</option>
                            <option value="sapporo">Sapporo</option>
                            <option value="fukuoka">Fukuoka</option>
                            <option value="regional">Thành phố nhỏ</option>
                            <option value="rural">Nông thôn/vùng quê</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phong cách sống</label>
                        <select id="jpLivingStyle" class="form-select">
                            <option value="minimal">Tiết kiệm (chỉ cần thiết)</option>
                            <option value="standard" selected>Bình thường (trung bình)</option>
                            <option value="comfortable">Thoải mái (tiện lợi)</option>
                            <option value="luxury">Cao cấp (chất lượng)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tần suất ăn ngoài</label>
                        <select id="jpLivingDining" class="form-select">
                            <option value="rarely">Hiếm khi (1-2 lần/tháng)</option>
                            <option value="occasional" selected>Thỉnh thoảng (1-2 lần/tuần)</option>
                            <option value="frequent">Thường xuyên (3-4 lần/tuần)</option>
                            <option value="mostly">Chủ yếu ăn ngoài (5+ lần/tuần)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Chi phí di chuyển</label>
                        <select id="jpLivingTransport" class="form-select">
                            <option value="none">Không có chi phí</option>
                            <option value="minimal">Tối thiểu (đi bộ/xe đạp)</option>
                            <option value="public" selected>Phương tiện công cộng</option>
                            <option value="mixed">Kết hợp xe bus + taxi</option>
                            <option value="car">Có xe ô tô</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Giải trí/Văn hóa</label>
                        <select id="jpLivingEntertainment" class="form-select">
                            <option value="minimal">Tối thiểu (chủ yếu ở nhà)</option>
                            <option value="moderate" selected>Vừa phải (2-3 lần/tháng)</option>
                            <option value="active">Tích cực (1-2 lần/tuần)</option>
                            <option value="frequent">Thường xuyên (3+ lần/tuần)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Thói quen mua sắm</label>
                        <select id="jpLivingShopping" class="form-select">
                            <option value="essential">Chỉ mua đồ cần thiết</option>
                            <option value="moderate" selected>Mức độ bình thường</option>
                            <option value="frequent">Mua sắm thường xuyên</option>
                            <option value="luxury">Thích hàng hiệu</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mục tiêu tiết kiệm</label>
                        <select id="jpLivingSavings" class="form-select">
                            <option value="none">Không tiết kiệm</option>
                            <option value="minimal">Tiết kiệm ít (5-10%)</option>
                            <option value="moderate" selected>Tiết kiệm vừa (15-20%)</option>
                            <option value="aggressive">Tiết kiệm nhiều (25%+)</option>
                        </select>
                    </div>
                </div>
                <div class="form-actions">
                    <button class="form-button primary" onclick="calculateJpLiving()">🛒 Tính chi phí sinh hoạt</button>
                    <button class="form-button secondary" onclick="resetJpLiving()">🔄 Đặt lại</button>
                </div>
                <div id="jpLivingResult" class="result-panel">
                    <h3>🛒 Phân tích chi tiết chi phí sinh hoạt hàng tháng</h3>
                    <div class="result-content" id="jpLivingResultContent"></div>
                    <div class="result-details" id="jpLivingResultDetails"></div>
                </div>
                <div id="jpLivingError" class="error-panel">
                    <div id="jpLivingErrorContent"></div>
                </div>
            </div>

            <!-- Japanese Era Converter Info Section -->
            <section id="jp-year-info" class="info-section" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">📅 Máy tính chuyển đổi niên hiệu Nhật Bản - Hướng dẫn chi tiết</h2>
                        <p class="section-subtitle">
                            Tìm hiểu về hệ thống niên hiệu truyền thống Nhật Bản và cách sử dụng trong đời sống hàng ngày.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏯 Hệ thống niên hiệu Nhật Bản (年号)</h3>
                            <p>
                                Hệ thống niên hiệu Nhật Bản là cách tính năm truyền thống dựa trên triều đại Hoàng gia. Thay vì sử dụng năm dương lịch, 
                                người Nhật sử dụng tên niên hiệu kết hợp với số thứ tự năm trong triều đại đó. Ví dụ: <strong>Reiwa 7年 (2025)</strong> có nghĩa là năm thứ 7 của triều đại Reiwa.
                            </p>
                            <ul>
                                <li><strong>Reiwa (令和)</strong>: Từ 2019 đến nay - "Trật tự đẹp đẽ"</li>
                                <li><strong>Heisei (平成)</strong>: 1989-2019 - "Hòa bình thành tựu"</li>
                                <li><strong>Showa (昭和)</strong>: 1926-1989 - "Hòa bình sáng suốt"</li>
                                <li><strong>Taisho (大正)</strong>: 1912-1926 - "Công lý vĩ đại"</li>
                                <li><strong>Meiji (明治)</strong>: 1868-1912 - "Chính trị khai sáng"</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📋 Bảng chuyển đổi niên hiệu thông dụng</h3>
                            <p>
                                Các mốc thời gian quan trọng thường được sử dụng trong giấy tờ hành chính:
                            </p>
                            <ul>
                                <li><strong>2025 = Reiwa 7年</strong> (Niên hiệu hiện tại)</li>
                                <li><strong>2020 = Reiwa 2年</strong> (Đại dịch COVID-19)</li>
                                <li><strong>2019 = Reiwa 1年/Heisei 31年</strong> (Năm chuyển giao)</li>
                                <li><strong>2000 = Heisei 12年</strong> (Thiên niên kỷ)</li>
                                <li><strong>1989 = Heisei 1年/Showa 64年</strong> (Chuyển giao Showa-Heisei)</li>
                                <li><strong>1970 = Showa 45年</strong> (Thập niên 70)</li>
                                <li><strong>1945 = Showa 20年</strong> (Kết thúc WWII)</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📄 Sử dụng thực tế trong giấy tờ chính thức</h3>
                            <p>
                                Hầu hết các giấy tờ chính thức tại Nhật Bản đều yêu cầu sử dụng niên hiệu thay vì năm dương lịch:
                            </p>
                            <ul>
                                <li><strong>Đơn xin việc (履歴書)</strong>: Ngày sinh và kinh nghiệm làm việc</li>
                                <li><strong>Khai báo thuế</strong>: Năm tài chính và thông tin thu nhập</li>
                                <li><strong>Hợp đồng thuê nhà</strong>: Ngày ký và thời hạn hợp đồng</li>
                                <li><strong>Đăng ký cư trú</strong>: Ngày chuyển đến và rời đi</li>
                                <li><strong>Giấy tờ y tế</strong>: Ngày khám bệnh và điều trị</li>
                                <li><strong>Bằng lái xe</strong>: Ngày cấp và ngày hết hạn</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional detailed cards -->
                    <div class="info-grid" style="margin-top: 40px;">
                        <div class="info-card">
                            <h3>💡 Mẹo ghi nhớ và sử dụng</h3>
                            <p>
                                <strong>Công thức chuyển đổi nhanh:</strong>
                            </p>
                            <ul>
                                <li>Reiwa = Năm dương lịch - 2018 (VD: 2025 - 2018 = Reiwa 7)</li>
                                <li>Heisei = Năm dương lịch - 1988 (VD: 2019 - 1988 = Heisei 31)</li>
                                <li>Showa = Năm dương lịch - 1925 (VD: 1989 - 1925 = Showa 64)</li>
                            </ul>
                            <p>
                                <strong>Cách viết đúng:</strong> Tên niên hiệu + số năm + 年 (nen). 
                                Ví dụ: 令和7年 (Reiwa 7-nen) thay vì chỉ viết "Reiwa 7".
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>🌍 Sự khác biệt về văn hóa</h3>
                            <p>
                                Việc sử dụng niên hiệu thể hiện sự tôn trọng đối với truyền thống và Hoàng gia Nhật Bản:
                            </p>
                            <ul>
                                <li><strong>Trong kinh doanh:</strong> Các công ty Nhật thường sử dụng niên hiệu trong tài liệu chính thức</li>
                                <li><strong>Trong giáo dục:</strong> Năm học được ghi theo niên hiệu (VD: Reiwa 7年度)</li>
                                <li><strong>Trong truyền thông:</strong> Báo chí và TV sử dụng cả hai hệ thống song song</li>
                                <li><strong>Đối với người nước ngoài:</strong> Có thể sử dụng năm dương lịch trong một số trường hợp, nhưng nên biết cách chuyển đổi</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>⚠️ Lưu ý quan trọng khi sử dụng</h3>
                            <p>
                                Một số điểm cần chú ý để tránh nhầm lẫn:
                            </p>
                            <ul>
                                <li><strong>Năm chuyển giao:</strong> Năm 2019 có cả Heisei 31 và Reiwa 1 (chuyển giao ngày 1/5)</li>
                                <li><strong>Không nhầm lẫn:</strong> Heisei 30 ≠ năm 30, mà = năm 2018</li>
                                <li><strong>Cách đọc:</strong> "年" đọc là "nen", không phải "toshi"</li>
                                <li><strong>Viết tắt:</strong> R7 = Reiwa 7, H31 = Heisei 31, S64 = Showa 64</li>
                                <li><strong>Trong máy tính:</strong> Một số hệ thống cũ có thể chỉ hỗ trợ đến Heisei</li>
                            </ul>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Câu hỏi thường gặp về niên hiệu</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Tại sao Nhật Bản vẫn sử dụng hệ thống niên hiệu?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Hệ thống niên hiệu là một phần quan trọng của văn hóa và lịch sử Nhật Bản, thể hiện sự liên tục của chế độ Hoàng gia. Nó được sử dụng song song với năm dương lịch trong hầu hết các tài liệu chính thức và có ý nghĩa văn hóa sâu sắc.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Người nước ngoài có bắt buộc phải sử dụng niên hiệu không?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Trong hầu hết các giấy tờ chính thức (thuế, đăng ký cư trú, hợp đồng lao động), bạn cần sử dụng niên hiệu. Tuy nhiên, một số dịch vụ dành cho người nước ngoài có thể chấp nhận năm dương lịch. Tốt nhất là nên học cách chuyển đổi để tránh rắc rối.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Làm sao để nhớ được các niên hiệu phổ biến?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Hãy nhớ các mốc quan trọng: Reiwa bắt đầu từ 2019 (Olympic Tokyo hoãn), Heisei từ 1989-2019 (30 năm hòa bình), Showa từ 1926-1989 (bao gồm WWII). Sử dụng máy tính chuyển đổi này để luyện tập thường xuyên.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Niên hiệu có thay đổi khi nào không?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Niên hiệu thay đổi khi Hoàng đế thoái vị hoặc băng hà. Reiwa bắt đầu khi Hoàng đế Akihito thoái vị năm 2019. Việc thay đổi này được công bố trước và có thời gian chuẩn bị cho các hệ thống máy tính và giấy tờ.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Zodiac Calculator Info Section -->
            <section id="jp-eto-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🐉 Máy tính 12 con giáp Nhật Bản (干支) - Hướng dẫn chi tiết</h2>
                        <p class="section-subtitle">
                            Khám phá ý nghĩa văn hóa và đặc điểm tính cách theo hệ thống 12 con giáp truyền thống Nhật Bản.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🌸 Ý nghĩa văn hóa 12 con giáp (十二支)</h3>
                            <p>
                                Hệ thống 12 con giáp (Jūnishi) là một phần không thể thiếu trong văn hóa Nhật Bản, được sử dụng để:
                            </p>
                            <ul>
                                <li><strong>Đặt tên năm</strong>: Mỗi năm được gọi theo tên con vật (VD: 2025 là năm Rắn - Hebi-doshi)</li>
                                <li><strong>Dự đoán tính cách</strong>: Tin rằng con giáp ảnh hưởng đến đặc điểm tính cách</li>
                                <li><strong>Lễ hội truyền thống</strong>: Oshogatsu (Tết Nhật) thường trang trí theo con giáp của năm</li>
                                <li><strong>Phong thủy</strong>: Chọn hướng may mắn và màu sắc phù hợp</li>
                                <li><strong>Kết duyên</strong>: Xem tương sinh tương khắc giữa các con giáp</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🔄 Hệ thống 60 năm (干支 - Kanshi)</h3>
                            <p>
                                Hệ thống hoàn ch整 của Nhật Bản kết hợp 12 con giáp với 10 thiên can tạo thành chu kỳ 60 năm:
                            </p>
                            <ul>
                                <li><strong>12 Địa chi (十二支)</strong>: Tý, Sửu, Dần, Mão, Thìn, Tỵ, Ngọ, Mùi, Thân, Dậu, Tuất, Hợi</li>
                                <li><strong>10 Thiên can (十干)</strong>: Giáp, Ất, Bính, Đinh, Mậu, Kỷ, Canh, Tân, Nhâm, Quý</li>
                                <li><strong>5 ngũ hành</strong>: Kim, Mộc, Thủy, Hỏa, Thổ (mỗi hành có 2 can âm/dương)</li>
                                <li><strong>Ví dụ 2025</strong>: Ất Tỵ (木蛇) - Rắn Mộc, chu kỳ 42/60</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🐭 12 con vật và đặc điểm tính cách</h3>
                            <p><strong>Tính cách chung của từng con giáp theo văn hóa Nhật Bản:</strong></p>
                            <ul>
                                <li><strong>🐭 Tý (Nezumi)</strong>: Thông minh, tiết kiệm, thích nghi tốt</li>
                                <li><strong>🐮 Sửu (Ushi)</strong>: Chăm chỉ, kiên nhẫn, đáng tin cậy</li>
                                <li><strong>🐅 Dần (Tora)</strong>: Dũng cảm, tự tin, có tinh thần lãnh đạo</li>
                                <li><strong>🐰 Mão (Usagi)</strong>: Nhẹ nhàng, tài tình, có khiếu nghệ thuật</li>
                                <li><strong>🐲 Thìn (Tatsu)</strong>: Quyền lực, may mắn, có tham vọng lớn</li>
                                <li><strong>🐍 Tỵ (Hebi)</strong>: Khôn ngoan, bí ẩn, có trực giác tốt</li>
                                <li><strong>🐴 Ngọ (Uma)</strong>: Năng động, tự do, yêu thích phiêu lưu</li>
                                <li><strong>🐐 Mùi (Hitsuji)</strong>: Hiền lành, sáng tạo, yêu hòa bình</li>
                                <li><strong>🐒 Thân (Saru)</strong>: Lanh lợi, hài hước, có khả năng thích nghi</li>
                                <li><strong>🐓 Dậu (Tori)</strong>: Cần cù, đúng giờ, có ý thức trách nhiệm</li>
                                <li><strong>🐕 Tuất (Inu)</strong>: Trung thành, trực thật, có tinh thần bảo vệ</li>
                                <li><strong>🐗 Hợi (Inoshishi)</strong>: Chân thật, dũng cảm, rộng lượng</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional detailed cards -->
                    <div class="info-grid" style="margin-top: 40px;">
                        <div class="info-card">
                            <h3>📅 Cách tính chính xác theo lịch xuân phân</h3>
                            <p>
                                Khác với lịch dương, hệ thống 12 con giáp tính theo <strong>lịch xuân phân (Risshun)</strong>:
                            </p>
                            <ul>
                                <li><strong>Ngày chuyển giao:</strong> Thường vào 3-5 tháng 2 hàng năm (không cố định)</li>
                                <li><strong>Ví dụ thực tế:</strong> Sinh ngày 15/1/1990 → thuộc Tỵ (1989), không phải Ngọ (1990)</li>
                                <li><strong>Tại sao quan trọng:</strong> Ảnh hưởng đến tính toán tương sinh/khắc và lựa chọn hướng may mắn</li>
                                <li><strong>Trong phong thủy:</strong> Quyết định hướng xây nhà, màu sắc trang trí năm mới</li>
                                <li><strong>Lưu ý:</strong> Máy tính này tự động tính toán chính xác ngày xuân phân từng năm</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🎌 Sử dụng trong đời sống Nhật Bản</h3>
                            <p>
                                12 con giáp không chỉ là niềm tin mà còn được ứng dụng thực tế:
                            </p>
                            <ul>
                                <li><strong>Lễ Oshogatsu:</strong> Trang trí, thiệp chúc mừng theo con giáp năm mới</li>
                                <li><strong>Omamori (bùa may mắn):</strong> Chọn bùa hộ mệnh theo con giáp</li>
                                <li><strong>Kết hôn:</strong> Xem tuổi tương hợp giữa cô dâu chú rể</li>
                                <li><strong>Kinh doanh:</strong> Chọn ngày khai trương, ký hợp đồng theo tuổi</li>
                                <li><strong>Du lịch:</strong> Chọn hướng đi may mắn theo năm sinh</li>
                                <li><strong>Nomihodai (tiệc tùng):</strong> Trò chuyện về con giáp là chủ đề phổ biến</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>💰 Tương sinh tương khắc và may mắn</h3>
                            <p>
                                Hệ thống tương sinh/khắc giúp dự đoán mức độ hợp nhau:
                            </p>
                            <ul>
                                <li><strong>Tam hợp (最良の組み合わせ):</strong> 
                                    <br>• Tý-Thìn-Thân | Sửu-Tỵ-Dậu | Dần-Ngọ-Tuất | Mão-Mùi-Hợi</li>
                                <li><strong>Lục hợp (良い組み合わせ):</strong> 
                                    <br>• Tý-Sửu | Dần-Hợi | Mão-Tuất | Thìn-Dậu | Tỵ-Thân | Ngọ-Mùi</li>
                                <li><strong>Tương xung (注意が必要):</strong> 
                                    <br>• Tý-Ngọ | Sửu-Mùi | Dần-Thân | Mão-Dậu | Thìn-Tuất | Tỵ-Hợi</li>
                                <li><strong>Ứng dụng:</strong> Chọn đối tác kinh doanh, bạn đời, thời điểm quan trọng</li>
                            </ul>
                        </div>
                    </div>

                    <!-- FAQ Section -->
                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 Câu hỏi thường gặp về 12 con giáp</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Tại sao phải tính theo xuân phân thay vì 1/1?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Hệ thống 12 con giáp dựa trên lịch âm và khí tiết truyền thống. Xuân phân (Risshun) đánh dấu sự bắt đầu của mùa xuân theo thiên văn học, thời điểm âm dương cân bằng, có ý nghĩa tâm linh sâu sắc hơn so với ngày 1/1 theo lịch dương.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Người Nhật có thật sự tin vào ảnh hưởng của 12 con giáp không?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Mức độ tin tưởng khác nhau, nhưng đa số người Nhật xem đây là một phần của văn hóa truyền thống. Nhiều người sử dụng như một cách thú vị để hiểu bản thân và người khác, đặc biệt trong các dịp lễ tết và giao tiếp xã hội.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Có sự khác biệt giữa 12 con giáp Nhật Bản và Trung Quốc không?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Cơ bản giống nhau nhưng có những khác biệt nhỏ: Nhật Bản có Heo thay vì Lợn, và một số đặc điểm tính cách được diễn giải khác nhau dựa trên văn hóa Nhật Bản. Cách tính toán và ý nghĩa tâm linh cũng có sắc thái riêng.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Làm sao để biết mình hợp với con giáp nào?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Dựa vào hệ thống tam hợp và lục hợp. Tam hợp có mức độ tương hợp cao nhất, lục hợp là tương hợp tốt. Tương xung nên tránh trong các quyết định quan trọng. Tuy nhiên, đây chỉ là tham khảo, yếu tố con người và hoàn cảnh thực tế quan trọng hơn.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Election Age Checker Info Section -->
            <section id="election-age-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🗳️ Kiểm tra tuổi bầu cử - Hướng dẫn điều kiện đầu phiếu</h2>
                        <p class="section-subtitle">
                            Kiểm tra điều kiện đầu phiếu của bạn cho các cuộc bầu cử dựa trên yêu cầu tuổi hiện tại.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🗳️ Yêu cầu tuổi đầu phiếu</h3>
                            <p>
                                Tuổi tối thiểu để đầu phiếu là <strong>18 tuổi</strong> ở hầu hết các quốc gia. Công cụ này tính toán tuổi chính xác của bạn vào ngày bầu cử 
                                để xác định điều kiện đầu phiếu của bạn trong các cuộc bầu cử sắp tới.
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>📅 Phương pháp tính tuổi</h3>
                            <p>
                                Hệ thống tính toán tuổi chính xác của bạn theo năm vào ngày bầu cử. Bạn phải đủ 18 tuổi trở lên vào ngày bầu cử để có điều kiện đầu phiếu. 
                                Tính toán xét đến năm nhuận và ngày sinh chính xác để có kết quả chính xác.
                            </p>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 FAQ Kiểm tra tuổi bầu cử</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Tiêu chuẩn tuổi đầu phiếu có thể thay đổi không?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Hiện tại, những người từ 18 tuổi trở lên có thể bầu cử, điều này được quy định trong Luật Bầu cử. Nếu luật thay đổi, nội dung sẽ được cập nhật tương ứng. Đây là cài đặt dựa trên cuộc bầu cử tổng thống năm 2025.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Nếu tôi đủ 18 tuổi sau ngày bầu cử thì sao?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Bạn phải đủ 18 tuổi vào hoặc trước ngày bầu cử để có điều kiện đầu phiếu. Nếu bạn đủ 18 tuổi sau cuộc bầu cử, bạn sẽ không đủ điều kiện cho cuộc bầu cử cụ thể đó.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Income Tax Calculator Info Section -->
            <section id="jp-tax-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">📊 Máy tính thuế thu nhập Nhật Bản 2025 - Hướng dẫn đầy đủ</h2>
                        <p class="section-subtitle">
                            Tính toán thuế thu nhập Nhật Bản chính xác với thuế suất mới nhất 2025 và bảng thuế luỹ tiến.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📊 Cơ cấu thuế suất luỹ tiến thu nhập Nhật Bản 2025</h3>
                            <p>
                                Hiểu rõ về <strong>hệ thống thuế thu nhập luỹ tiến (累進課税)</strong> của Nhật Bản là chìa khóa để tối ưu hóa thu nhập:
                            </p>
                            <ul>
                                <li><strong>5%</strong>: Thu nhập từ 0 - 1,950,000 yên/năm</li>
                                <li><strong>10%</strong>: Thu nhập từ 1,950,001 - 3,300,000 yên/năm</li>
                                <li><strong>20%</strong>: Thu nhập từ 3,300,001 - 6,950,000 yên/năm</li>
                                <li><strong>23%</strong>: Thu nhập từ 6,950,001 - 9,000,000 yên/năm</li>
                                <li><strong>33%</strong>: Thu nhập từ 9,000,001 - 18,000,000 yên/năm</li>
                                <li><strong>40%</strong>: Thu nhập từ 18,000,001 - 40,000,000 yên/năm</li>
                                <li><strong>45%</strong>: Thu nhập trên 40,000,000 yên/năm</li>
                            </ul>
                            <p><strong>Lưu ý:</strong> Thuế tái thiết 2.1% được tính thêm cho thu nhập trên 1,950,000 yên.</p>
                        </div>

                        <div class="info-card">
                            <h3>💰 Các khoản miễn giảm thuế quan trọng</h3>
                            <p>
                                Tận dụng các khoản miễn giảm để giảm thiểu thuế phải nộp:
                            </p>
                            <ul>
                                <li><strong>Miễn giảm cơ bản (基礎控除)</strong>: 480,000 yên/năm cho mọi người</li>
                                <li><strong>Miễn giảm thu nhập công việc (給与所得控除)</strong>: Tối thiểu 550,000 yên, tối đa 1,950,000 yên</li>
                                <li><strong>Miễn giảm người phụ thuộc (扶養控除)</strong>: 380,000 yên/người (16 tuổi trở lên)</li>
                                <li><strong>Miễn giảm vợ/chồng (配偶者控除)</strong>: Tối đa 380,000 yên (điều kiện thu nhập)</li>
                                <li><strong>Miễn giảm bảo hiểm xã hội (社会保険料控除)</strong>: Toàn bộ số tiền đã đóng</li>
                                <li><strong>Miễn giảm chi phí y tế (医療費控除)</strong>: Phần vượt quá 100,000 yên/năm</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🏙️ Sự khác biệt thuế theo từng tỉnh thành</h3>
                            <p>
                                Thuế cư trú (住民税) khác nhau giữa các tỉnh thành, ảnh hưởng đến lương thực nhận:
                            </p>
                            <ul>
                                <li><strong>Tokyo (東京)</strong>: Thuế cư trú tổng 10% (đô 4% + quận 6%)</li>
                                <li><strong>Osaka (大阪)</strong>: Thuế cư trú 10.025% (cao hơn do phí tái thiết địa phương)</li>
                                <li><strong>Yokohama (横浜)</strong>: Thuế cư trú 10.025% (phí xanh 0.025%)</li>
                                <li><strong>Kyoto (京都)</strong>: Thuế cư trú tiêu chuẩn 10%</li>
                                <li><strong>Nagoya (名古屋)</strong>: Thuế cư trú giảm 9.7% (ưu đãi đặc biệt)</li>
                                <li><strong>Lưu ý:</strong> Chênh lệch 0.3% có thể tiết kiệm hàng triệu yên cho thu nhập cao</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional detailed cards -->
                    <div class="info-grid" style="margin-top: 40px;">
                        <div class="info-card">
                            <h3>💡 Chiến lược tiết kiệm thuế hợp pháp</h3>
                            <p><strong>Các phương pháp tối ưu hóa thuế được phép tại Nhật Bản:</strong></p>
                            <ul>
                                <li><strong>iDeCo (個人型確定拠出年金)</strong>: Đóng góp tối đa 276,000 yên/năm, giảm thuế trực tiếp</li>
                                <li><strong>NISA/つみたてNISA</strong>: Đầu tư không thuế, tối đa 1.2 triệu yên/năm</li>
                                <li><strong>Furusato Nozei (ふるさと納税)</strong>: Quyên góp địa phương, nhận quà tặng, giảm thuế</li>
                                <li><strong>Chi phí y tế</strong>: Lưu hóa đơn thuốc, khám bệnh để giảm thuế</li>
                                <li><strong>Chi phí học tập</strong>: Khóa học nâng cao kỹ năng nghề nghiệp có thể giảm thuế</li>
                                <li><strong>Bảo hiểm nhân thọ</strong>: Tối đa 40,000-120,000 yên/năm tùy loại</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📋 Quy trình khai báo thuế (確定申告)</h3>
                            <p><strong>Hướng dẫn chi tiết cho người lao động tại Nhật:</strong></p>
                            <ul>
                                <li><strong>Thời gian:</strong> 16/2 - 15/3 hàng năm (năm sau)</li>
                                <li><strong>Ai cần khai báo:</strong> Thu nhập phụ >200,000 yên, nhiều công việc, tự do nghề nghiệp</li>
                                <li><strong>Chuẩn bị giấy tờ:</strong> Gensen chōshūhyō (源泉徴収票), hóa đơn y tế, chứng nhận bảo hiểm</li>
                                <li><strong>Cách khai:</strong> Online (e-Tax), trực tiếp tại trung tâm thuế, gửi bưu điện</li>
                                <li><strong>Hoàn thuế:</strong> Thường trong vòng 4-6 tuần sau khi nộp</li>
                                <li><strong>Mẹo:</strong> Sử dụng ứng dụng "確定申告書等作成コーナー" của NTA</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🌟 Mẹo tiết kiệm cho người Thu nhập cao</h3>
                            <p><strong>Dành cho những người thu nhập trên 10 triệu yên/năm:</strong></p>
                            <ul>
                                <li><strong>Cân nhắc thành lập công ty cá nhân</strong>: Giảm từ 45% xuống 23% thuế doanh nghiệp</li>
                                <li><strong>Tách thu nhập với vợ/chồng</strong>: Tận dụng bậc thuế thấp hơn</li>
                                <li><strong>Đầu tư bất động sản</strong>: Khấu hao và chi phí vay có thể giảm thuế</li>
                                <li><strong>Di chuyển đến tỉnh thuế thấp</strong>: Chênh lệch 0.3% = tiết kiệm lớn</li>
                                <li><strong>Thời điểm nhận bonus</strong>: Cân nhắc nhận vào năm thuế có lợi hơn</li>
                                <li><strong>Chi phí kinh doanh</strong>: Laptop, điện thoại, internet cho công việc</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 FAQ Tính thuế thu nhập</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Độ chính xác của tính toán thuế 2025 như thế nào?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Máy tính của chúng tôi sử dụng các thuế suất và bảng thuế Nhật Bản mới nhất 2025. Kết quả bao gồm thuế tái thiết (2.1%) và áp dụng các miễn giảm phù hợp dựa trên thông tin đầu vào của bạn.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Điều gì được bao gồm trong tính toán thuế?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Tính toán bao gồm thuế thu nhập, thuế đặc biệt tái thiết, miễn giảm thu nhập từ việc làm, miễn giảm cơ bản, miễn giảm người phụ thuộc, và miễn giảm vợ/chồng khi áp dụng.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Real Estate Loan Calculator Info Section -->
            <section id="jp-loan-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏠 Máy tính vay bất động sản Nhật Bản - Hướng dẫn mua nhà</h2>
                        <p class="section-subtitle">
                            Tính toán khoản thanh toán thế chấp và điều kiện vay cho việc mua bất động sản Nhật Bản.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏦 Hệ thống vay thế chấp Nhật Bản chi tiết</h3>
                            <p>
                                Thị trường vay mua nhà Nhật Bản có nhiều lựa chọn linh hoạt:
                            </p>
                            <ul>
                                <li><strong>Lãi suất biến đổi (変動金利)</strong>: 0.3-0.7%/năm - Thấp nhưng có rủi ro tăng</li>
                                <li><strong>Lãi suất cố định 10 năm</strong>: 0.7-1.2%/năm - Cân bằng giữa rủi ro và chi phí</li>
                                <li><strong>Lãi suất cố định 35 năm (全期間固定)</strong>: 1.5-2.0%/năm - An toàn nhưng chi phí cao</li>
                                <li><strong>Thời hạn vay</strong>: Tối đa 35 năm (có thể kéo dài đến 40 năm một số trường hợp)</li>
                                <li><strong>Tiền đặt cọc</strong>: 10-30%, với 20% là mức tối ưu để có lãi suất tốt</li>
                                <li><strong>Phí bảo hiểm vay</strong>: 0.2-0.5% giá trị khoản vay (bắt buộc)</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📋 Điều kiện và tiêu chuẩn đánh giá</h3>
                            <p>
                                Ngân hàng Nhật Bản có tiêu chuẩn khắt khe cho người vay:
                            </p>
                            <ul>
                                <li><strong>Tỷ lệ DTI (Debt-to-Income)</strong>: Dưới 35% tổng thu nhập hàng tháng</li>
                                <li><strong>Thu nhập tối thiểu</strong>: 3-4 triệu yên/năm (tùy ngân hàng)</li>
                                <li><strong>Thời gian làm việc</strong>: Tối thiểu 1-3 năm tại công ty hiện tại</li>
                                <li><strong>Tuổi vay</strong>: 20-65 tuổi khi bắt đầu, hoàn thành trước 80 tuổi</li>
                                <li><strong>Lịch sử tín dụng</strong>: Không có nợ xấu trong 5 năm gần nhất</li>
                                <li><strong>Đối với người nước ngoài</strong>: Thêm yêu cầu về visa, thời gian cư trú</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🌟 So sánh các ngân hàng lớn</h3>
                            <p>
                                Mỗi ngân hàng có ưu thế riêng:
                            </p>
                            <ul>
                                <li><strong>SBI Net Bank</strong>: Lãi suất thấp nhất (0.32%), quy trình online</li>
                                <li><strong>MUFG Bank</strong>: Dịch vụ tốt, nhiều chi nhánh, hỗ trợ người nước ngoài</li>
                                <li><strong>Mizuho Bank</strong>: Ưu đãi cho khách hàng lâu năm</li>
                                <li><strong>SMBC</strong>: Gói bảo hiểm tốt, tư vấn chuyên nghiệp</li>
                                <li><strong>Japan Housing Finance Agency</strong>: Lãi suất cố định dài hạn ổn định</li>
                                <li><strong>Regional Banks</strong>: Thường có chính sách ưu đãi cho địa phương</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional detailed cards -->
                    <div class="info-grid" style="margin-top: 40px;">
                        <div class="info-card">
                            <h3>💡 Chiến lược tài chính thông minh</h3>
                            <p><strong>Mẹo để được điều kiện vay tốt nhất:</strong></p>
                            <ul>
                                <li><strong>Tích lũy tín dụng</strong>: Sử dụng thẻ tín dụng Nhật 6-12 tháng trước khi vay</li>
                                <li><strong>Chọn thời điểm</strong>: Vay vào tháng 3-4 hoặc 9-10 khi lãi suất thường thấp hơn</li>
                                <li><strong>So sánh nhiều ngân hàng</strong>: Chênh lệch 0.1% lãi suất = tiết kiệm hàng triệu yên</li>
                                <li><strong>Đàm phán</strong>: Có thể đàm phán lãi suất với bằng chứng thu nhập ổn định</li>
                                <li><strong>Kết hợp sản phẩm</strong>: Mở tài khoản, bảo hiểm cùng ngân hàng để được ưu đãi</li>
                                <li><strong>Tận dụng ưu đãi</strong>: Nhiều ngân hàng có khuyến mãi cho khách hàng mới</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📊 Chi phí ẩn và phụ phí cần biết</h3>
                            <p><strong>Các khoản chi phí ngoài lãi suất:</strong></p>
                            <ul>
                                <li><strong>Phí thẩm định (事務手数料)</strong>: 2% giá trị khoản vay hoặc phí cố định 30,000-50,000 yên</li>
                                <li><strong>Phí bảo hiểm đoàn thể</strong>: 0.1-0.3%/năm giá trị khoản vay</li>
                                <li><strong>Phí thẩm định tài sản</strong>: 40,000-80,000 yên</li>
                                <li><strong>Phí công chứng</strong>: 0.1-0.3% giá trị bất động sản</li>
                                <li><strong>Thuế bất động sản</strong>: 0.15% giá trị mua</li>
                                <li><strong>Tổng chi phí phụ</strong>: Thường chiếm 3-5% tổng giá trị mua</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🏠 Lời khuyên cho từng nhóm đối tượng</h3>
                            <p><strong>Chiến lược tùy theo tình huống cá nhân:</strong></p>
                            <ul>
                                <li><strong>Người trẻ (<30 tuổi)</strong>: Ưu tiên lãi suất biến đổi, vay dài hạn để giảm áp lực</li>
                                <li><strong>Tuổi trung niên (30-45)</strong>: Cân bằng giữa biến đổi và cố định 10 năm</li>
                                <li><strong>Gần nghỉ hưu (>50 tuổi)</strong>: Chọn lãi suất cố định, thời hạn vay ngắn</li>
                                <li><strong>Người nước ngoài</strong>: Chuẩn bị giấy tờ kỹ, chứng minh thu nhập ổn định</li>
                                <li><strong>Tự do nghề nghiệp</strong>: Cần 2-3 năm lịch sử thu nhập, tiền đặt cọc cao hơn</li>
                                <li><strong>Thu nhập cao</strong>: Tận dụng ưu đãi cao cấp, đàm phán điều kiện</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 FAQ Vay bất động sản</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Tôi cần bao nhiêu tiền đặt cọc?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Hầu hết các ngân hàng Nhật Bản yêu cầu 10-30% tiền đặt cọc. Tiền đặt cọc cao hơn (20%+) thường dẫn đến lãi suất và điều kiện vay tốt hơn.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Những yếu tố nào ảnh hưởng đến cơ hội phê duyệt khoản vay?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Các yếu tố chính bao gồm tỷ lệ nợ trên thu nhập (tốt nhất là dưới 25%), việc làm ổn định, lịch sử tín dụng, và số tiền đặt cọc. Cư dân nước ngoài có thể phải đáp ứng các yêu cầu bổ sung.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Rental Calculator Info Section -->
            <section id="jp-rent-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏢 Máy tính tính phù hợp thuê nhà Nhật Bản - Hướng dẫn nhà ở</h2>
                        <p class="section-subtitle">
                            Phân tích chi phí thuê nhà và xác định chi phí nhà ở phù hợp cho thu nhập của bạn ở Nhật Bản.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏙️ Thị trường thuê nhà theo khu vực</h3>
                            <p>
                                Chi phí thuê nhà tại Nhật Bản có sự chênh lệch lớn giữa các khu vực:
                            </p>
                            <ul>
                                <li><strong>Tokyo trung tâm (山手線內)</strong>: 80,000-250,000 yên/tháng (1K-2DK)</li>
                                <li><strong>Tokyo ngoại vi (多摩地区)</strong>: 50,000-120,000 yên/tháng</li>
                                <li><strong>Osaka trung tâm</strong>: 60,000-180,000 yên/tháng</li>
                                <li><strong>Nagoya</strong>: 45,000-130,000 yên/tháng</li>
                                <li><strong>Yokohama</strong>: 65,000-150,000 yên/tháng</li>
                                <li><strong>Kyoto</strong>: 55,000-140,000 yên/tháng</li>
                                <li><strong>Tỉnh lẻ</strong>: 30,000-80,000 yên/tháng</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>📊 Chi phí ban đầu khi thuê nhà</h3>
                            <p>
                                Ngoài tiền thuê hàng tháng, bạn cần chuẩn bị các khoản phí đầu kỳ:
                            </p>
                            <ul>
                                <li><strong>Tiền đặt cọc (敷金)</strong>: 1-2 tháng tiền thuê (có hoàn lại)</li>
                                <li><strong>Phí tạ ơn (礼金)</strong>: 1-2 tháng tiền thuê (không hoàn lại)</li>
                                <li><strong>Phí môi giới</strong>: 1 tháng tiền thuê + thuế</li>
                                <li><strong>Tiền thuê tháng đầu</strong>: Tính theo ngày thực tế</li>
                                <li><strong>Bảo hiểm nhà</strong>: 15,000-30,000 yên/năm</li>
                                <li><strong>Tổng chi phí ban đầu</strong>: 4-6 lần tiền thuê hàng tháng</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🏠 Các loại hình nhà ở phổ biến</h3>
                            <p>
                                Hiểu rõ các loại căn hộ để chọn phù hợp:
                            </p>
                            <ul>
                                <li><strong>1R (One Room)</strong>: Phòng đa năng, 15-25m² - Phù hợp độc thân</li>
                                <li><strong>1K</strong>: 1 phòng + bếp riêng, 20-30m² - Tiện lợi hơn 1R</li>
                                <li><strong>1DK</strong>: 1 phòng + phòng ăn-bếp, 25-35m² - Không gian rộng hơn</li>
                                <li><strong>1LDK</strong>: 1 phòng + phòng khách-ăn-bếp, 35-45m² - Thoải mái</li>
                                <li><strong>2DK/2LDK</strong>: 2 phòng ngủ, 45-65m² - Gia đình hoặc chia sẻ</li>
                                <li><strong>Manshion vs Apaato</strong>: Condo cao cấp vs chung cư bình dân</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional detailed cards -->
                    <div class="info-grid" style="margin-top: 40px;">
                        <div class="info-card">
                            <h3>💡 Mẹo tiết kiệm chi phí thuê nhà</h3>
                            <p><strong>Chiến lược giảm chi phí nhà ở hiệu quả:</strong></p>
                            <ul>
                                <li><strong>Chọn khu vực phát triển</strong>: Tìm khu sắp có tàu điện mới, giá chưa tăng</li>
                                <li><strong>Xa nhà ga 10-15 phút</strong>: Tiết kiệm 20-30% so với gần ga</li>
                                <li><strong>Tầng cao hoặc thấp</strong>: Tầng 1 hoặc >5 thường rẻ hơn</li>
                                <li><strong>Nhà cũ renovated</strong>: Chất lượng tốt, giá hợp lý</li>
                                <li><strong>Tránh phí tạ ơn</strong>: Ngày càng nhiều nhà không yêu cầu</li>
                                <li><strong>Đàm phán trong mùa thấp điểm</strong>: Tháng 5-8, 11-1 có thể giảm giá</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🚋 Tính toán chi phí tổng thể</h3>
                            <p><strong>Chi phí thật sự bao gồm nhiều yếu tố:</strong></p>
                            <ul>
                                <li><strong>Tiền thuê nhà</strong>: 25-30% thu nhập thực nhận (khuyến nghị)</li>
                                <li><strong>Tiện ích (điện, gas, nước)</strong>: 8,000-15,000 yên/tháng</li>
                                <li><strong>Internet</strong>: 3,000-6,000 yên/tháng</li>
                                <li><strong>Vé tàu hàng tháng</strong>: 10,000-30,000 yên tùy khoảng cách</li>
                                <li><strong>Phí quản lý chung cư</strong>: 3,000-15,000 yên/tháng</li>
                                <li><strong>Chi phí thực tế = Thuê nhà + 25,000-66,000 yên/tháng</strong></li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🔍 Lưu ý cho người nước ngoài</h3>
                            <p><strong>Những điểm đặc biệt cần chú ý:</strong></p>
                            <ul>
                                <li><strong>Người bảo lãnh (保証人)</strong>: Cần người Nhật hoặc công ty bảo lãnh</li>
                                <li><strong>Chấp nhận người nước ngoài</strong>: Không phải tất cả chủ nhà đều cho thuê</li>
                                <li><strong>Giấy tờ cần thiết</strong>: Thẻ cư trú, hợp đồng lao động, chứng minh thu nhập</li>
                                <li><strong>Rào cản ngôn ngữ</strong>: Sử dụng dịch vụ môi giới tiếng Anh</li>
                                <li><strong>Quy tắc sinh hoạt</strong>: Tôn trọng giờ im lặng (22:00-7:00)</li>
                                <li><strong>Share House</strong>: Lựa chọn tốt ban đầu, ít rào cản</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 FAQ Máy tính thuê nhà</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Tỷ lệ thuê trên thu nhập hợp lý là bao nhiêu?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Nói chung 25-30% lương thực nhận được khuyến nghị. Tỷ lệ cao hơn (35%+) có thể làm căng thẳng ngân sách cho các chi tiêu khác.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Chi phí thuê nhà so sánh như thế nào trên toàn Nhật Bản?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Tokyo đắt nhất, tiếp theo là Osaka và Nagoya. Các thành phố vùng cung cấp chi phí thấp hơn đáng kể nhưng với ít cơ hội việc làm hơn.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Japanese Utility Calculator Info Section -->
            <section id="jp-utility-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">⚡ Máy tính hóa đơn tiền điện Nhật Bản - Hướng dẫn chi phí năng lượng</h2>
                        <p class="section-subtitle">
                            Ước tính hóa đơn điện và quản lý chi phí năng lượng hiệu quả ở Nhật Bản.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>⚡ Giá điện theo công ty và khu vực</h3>
                            <p>
                                Giá điện tại Nhật Bản khác nhau đáng kể giữa các khu vực:
                            </p>
                            <ul>
                                <li><strong>TEPCO (Tokyo)</strong>: 19.9-30.0 yên/kWh (cao nhất ở thế giới)</li>
                                <li><strong>KEPCO (Kansai/Osaka)</strong>: 15.3-28.8 yên/kWh</li>
                                <li><strong>Hokkaido Electric</strong>: 23.3-35.4 yên/kWh (do khí hậu lạnh)</li>
                                <li><strong>Kyushu Electric</strong>: 17.5-26.1 yên/kWh</li>
                                <li><strong>Chubu Electric (Nagoya)</strong>: 21.0-28.5 yên/kWh</li>
                                <li><strong>Phí cơ bản hàng tháng</strong>: 286-1,716 yên tùy công suất</li>
                                <li><strong>Mức tiêu thụ trung bình</strong>: 250-400 kWh/tháng (gia đình)</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🏠 Chi phí tiện ích hàng tháng điển hình</h3>
                            <p>
                                Chi phí tiện ích trung bình cho các loại hình nhà ở:
                            </p>
                            <ul>
                                <li><strong>1R/1K (1 người)</strong>: 6,000-12,000 yên/tháng</li>
                                <li><strong>1LDK/2K (2 người)</strong>: 10,000-18,000 yên/tháng</li>
                                <li><strong>2LDK/3K (gia đình)</strong>: 15,000-25,000 yên/tháng</li>
                                <li><strong>Điện (電気)</strong>: 3,000-15,000 yên</li>
                                <li><strong>Gas (ガス)</strong>: 2,000-8,000 yên</li>
                                <li><strong>Nước (水道)</strong>: 2,000-5,000 yên (tính 2 tháng/lần)</li>
                                <li><strong>Mùa hè/đông có thể tăng 50-100%</strong> do điều hòa</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🌡️ Biến động theo mùa và cách tiết kiệm</h3>
                            <p>
                                Hiểu được mô hình tiêu thụ để tối ưu hóa chi phí:
                            </p>
                            <ul>
                                <li><strong>Mùa hè (6-9月)</strong>: Điều hòa 26-28°C, tiết kiệm 10-20%</li>
                                <li><strong>Mùa đông (12-3月)</strong>: Sưởi 18-20°C, sử dụng kotatsu</li>
                                <li><strong>Mùa xuân/thu</strong>: Chi phí thấp nhất, tận dụng thông gió tự nhiên</li>
                                <li><strong>Thiết bị tiết kiệm năng lượng</strong>: LED, tủ lạnh 5 sao</li>
                                <li><strong>Unplugging</strong>: Rút phích cắm khi không dùng</li>
                                <li><strong>Thời gian đỉnh</strong>: Tránh 10-17h mùa hè, 17-23h mùa đông</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Additional detailed cards -->
                    <div class="info-grid" style="margin-top: 40px;">
                        <div class="info-card">
                            <h3>💡 Mẹo tiết kiệm tiền điện thực tế</h3>
                            <p><strong>Chiến lược giảm hóa đơn điện hiệu quả:</strong></p>
                            <ul>
                                <li><strong>Chọn nhà cung cấp rẻ hơn</strong>: So sánh từ tháng 4/2016, có thể tiết kiệm 5-15%</li>
                                <li><strong>Gói điện ban đêm</strong>: Rẻ hơn 60-70% từ 23:00-7:00</li>
                                <li><strong>Máy giặt ban đêm</strong>: Tiết kiệm và giảm tiếng ồn</li>
                                <li><strong>Điều hòa thông minh</strong>: Dùng timer, không bật tắt liên tục</li>
                                <li><strong>Insulaton</strong>: Rèm cửa dày, keo dán khe cửa</li>
                                <li><strong>Chia sẻ tiện ích</strong>: Share house giảm 50-70% chi phí</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🔌 So sánh nhà cung cấp điện mới</h3>
                            <p><strong>Các công ty điện cạnh tranh (電力自由化):</strong></p>
                            <ul>
                                <li><strong>Rakuten Energy</strong>: Tích điểm Rakuten, giảm 3-5%</li>
                                <li><strong>SoftBank Energy</strong>: Combo với mạng di động</li>
                                <li><strong>au Energy</strong>: Ưu đãi cho khách hàng KDDI</li>
                                <li><strong>ENEOSでんき</strong>: Giảm giá khi mua xăng</li>
                                <li><strong>Tokyo Gas</strong>: Combo điện + gas tiết kiệm</li>
                                <li><strong>Lưu ý</strong>: Kiểm tra điều kiện hủy, phí chuyển đổi</li>
                            </ul>
                        </div>

                        <div class="info-card">
                            <h3>🏡 Đặc điểm theo loại nhà ở</h3>
                            <p><strong>Yếu tố ảnh hưởng đến hóa đơn điện:</strong></p>
                            <ul>
                                <li><strong>Manshion (chung cư)</strong>: Cách nhiệt tốt, chi phí thấp hơn</li>
                                <li><strong>Apaato (nhà trọ)</strong>: Cách nhiệt kém, có thể tốn điện hơn</li>
                                <li><strong>Nhà riêng</strong>: Tiêu thụ cao nhất nhưng kiểm soát tốt hơn</li>
                                <li><strong>Hướng nhà</strong>: Nam/Đông Nam tiết kiệm, Bắc/Tây tốn kém</li>
                                <li><strong>Tầng cao</strong>: Nóng hơn mùa hè, lạnh hơn mùa đông</li>
                                <li><strong>Share house</strong>: Chi phí thấp nhất nhờ chia sẻ</li>
                            </ul>
                        </div>
                    </div>

                    <div style="margin-top: 60px; background: white; padding: 40px; border-radius: 16px; border: 1px solid #d5d8dc; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                        <h3 style="font-size: 24px; font-weight: bold; color: var(--primary-navy); margin-bottom: 30px; text-align: center;">📋 FAQ Máy tính tiền điện</h3>
                        
                        <div style="display: grid; gap: 30px;">
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Độ chính xác của ước tính tiền điện như thế nào?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Ước tính dựa trên mô hình sử dụng điển hình và giá theo vùng. Hóa đơn thực tế có thể khác nhau dựa trên thiết bị cụ thể, thói quen sử dụng, và các yếu tố theo mùa.</p>
                            </div>
                            
                            <div style="border-left: 4px solid var(--primary-blue); padding-left: 20px;">
                                <h4 style="font-size: 18px; font-weight: 600; color: var(--text-dark); margin-bottom: 10px;">Hỏi: Có thể sử dụng trên thiết bị di động không?</h4>
                                <p style="color: var(--text-medium); line-height: 1.7;">Đáp: Có, có thể sử dụng trên tất cả các thiết bị. Dù là smartphone, tablet, hay máy tính để bàn, bạn có thể sử dụng ngay lập tức miễn là có trình duyệt web. Được tối ưu hóa cho mỗi kích thước màn hình với thiết kế responsive.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Info section cho máy tính giao thông -->
            <section id="jp-transport-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🚃 Máy tính chi phí giao thông Nhật Bản - Hướng dẫn tiết kiệm chi phí di chuyển</h2>
                        <p class="section-subtitle">
                            Tính toán chính xác chi phí giao thông và tối ưu hóa ngân sách di chuyển ở Nhật Bản.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🚄 Hệ thống tàu điện Nhật Bản</h3>
                            <p>
                                <strong>Hệ thống phong phú và chính xác</strong>. JR (tàu quốc gia): rộng khắp, tàu tư nhân: giá rẻ hơn trong thành phố, 
                                tàu điện ngầm: tiện lợi cho di chuyển nội thành. Vé tháng tiết kiệm đáng kể cho việc sử dụng thường xuyên.
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💳 Thẻ IC và vé tháng</h3>
                            <p>
                                Thẻ IC (Suica, Pasmo) giảm 1% chi phí và tích điểm. Vé tháng tiết kiệm 20-30% cho việc đi làm hàng ngày. 
                                Vé 6 tháng có thêm giảm giá 5%. Xem xét kỹ tần suất sử dụng để chọn phương án tối ưu.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Info section cho máy tính điện thoại -->
            <section id="jp-mobile-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">📱 Máy tính cước điện thoại Nhật Bản - Hướng dẫn tiết kiệm chi phí viễn thông</h2>
                        <p class="section-subtitle">
                            So sánh các nhà mạng và tìm gói cước phù hợp nhất với nhu cầu sử dụng.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>📞 Ba nhà mạng chính</h3>
                            <p>
                                <strong>Docomo, au, SoftBank</strong> có mạng lưới tốt nhất nhưng giá cao. Rakuten Mobile có gói 1GB miễn phí 
                                và không giới hạn với giá rẻ. MVNO (SIM giá rẻ) tiết kiệm 50-70% nhưng tốc độ có thể chậm hơn.
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💰 Chiến lược tiết kiệm</h3>
                            <p>
                                Sử dụng WiFi tối đa để giảm data di động. Giảm giá gia đình tiết kiệm 1,100 yên/tháng/người. 
                                Xem xét chuyển nhà mạng sau 2 năm để nhận ưu đãi khách hàng mới. Chọn gói phù hợp với thực tế sử dụng.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Info section cho máy tính ăn uống -->
            <section id="jp-food-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🍱 Máy tính ngân sách ăn uống Nhật Bản - Hướng dẫn quản lý chi phí thực phẩm</h2>
                        <p class="section-subtitle">
                            Lập kế hoạch ngân sách ăn uống hiệu quả và khám phá cách tiết kiệm chi phí thực phẩm.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🛒 Chi phí theo phong cách</h3>
                            <p>
                                <strong>Nấu ăn tại nhà</strong>: 25,000 yên/người/tháng, <strong>Hỗn hợp</strong>: 40,000 yên, 
                                <strong>Tiện lợi</strong>: 55,000 yên, <strong>Ăn ngoài</strong>: 80,000+ yên. Tokyo đắt hơn 20% so với các vùng khác.
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>⏰ Mẹo tiết kiệm</h3>
                            <p>
                                Mua sắm vào khung giờ giảm giá tối (7-9h) để tiết kiệm 50%. Tự mang cơm trưa tiết kiệm 20,000 yên/tháng. 
                                Sử dụng nguyên liệu theo mùa, mua số lượng lớn và bảo quản đông lạnh. Siêu thị bán buôn rẻ hơn 20-30%.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Info section cho máy tính bảo hiểm y tế -->
            <section id="jp-health-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h2 class="section-title">🏥 Máy tính bảo hiểm y tế Nhật Bản - Hướng dẫn bảo hiểm xã hội</h2>
                        <p class="section-subtitle">
                            Hiểu rõ hệ thống bảo hiểm xã hội Nhật Bản và tối ưu hóa chi phí bảo hiểm.
                        </p>
                    </div>
                    
                    <div class="info-grid">
                        <div class="info-card">
                            <h3>🏥 Hệ thống bảo hiểm</h3>
                            <p>
                                <strong>Bảo hiểm y tế</strong>: 9.81-10.38% theo tỉnh, chia đôi với công ty. <strong>Bảo hiểm lương hưu</strong>: 18.3%. 
                                <strong>Bảo hiểm chăm sóc</strong>: 1.23% từ 40 tuổi. Tỷ lệ khác nhau theo tỉnh thành và hình thức việc làm.
                            </p>
                        </div>

                        <div class="info-card">
                            <h3>💡 Lợi ích và tiết kiệm</h3>
                            <p>
                                Đăng ký người phụ thuộc để tiết kiệm bảo hiểm y tế. Hệ thống hỗ trợ chi phí y tế cao giới hạn gánh nặng. 
                                Khám sức khỏe định kỳ miễn phí. Xem xét địa điểm cư trú vì tỷ lệ bảo hiểm khác nhau theo tỉnh.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Thông tin máy tính chi phí nhà ở Nhật Bản -->
            <section id="jp-housing-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🏠 Máy tính chi phí nhà ở tổng hợp Nhật Bản - Tất cả chi phí thuê nhà một cách chi tiết</h1>
                        <p class="section-subtitle">Tính toán tổng hợp chi phí thuê nhà, chi phí ban đầu và phí quản lý theo tiêu chuẩn thị trường bất động sản Nhật Bản 2025 để nắm bắt chính xác chi phí nhà ở thực tế.</p>
                    </div>
                    <div class="info-card">
                        <h3>💰 Tất cả về chi phí ban đầu khi thuê nhà tại Nhật Bản</h3>
                        <p>Khi thuê nhà tại Nhật Bản, ngoài tiền thuê hàng tháng còn phát sinh nhiều chi phí ban đầu khác nhau. Hãy tính toán chính xác tiền cọc (敷金), tiền lễ (礼金), phí môi giới, phí bảo hiểm cháy nổ để tránh những chi phí bất ngờ.</p>
                    </div>
                </div>
            </section>
            <!-- Thông tin máy tính lương thực lĩnh Nhật Bản -->
            <section id="jp-netpay-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">💰 Máy tính lương thực lĩnh Nhật Bản - Tính toán chính xác lương sau thuế</h1>
                        <p class="section-subtitle">Phản ánh hệ thống thuế Nhật Bản năm 2025, tính toán chính xác lương thực tế nhận được bao gồm đầy đủ thuế thu nhập, thuế cư trú và phí bảo hiểm xã hội.</p>
                    </div>
                    <div class="info-card">
                        <h3>🏛️ Hệ thống thuế và bảo hiểm xã hội Nhật Bản</h3>
                        <p>Tại Nhật Bản, từ tổng lương sẽ bị khấu trừ thuế thu nhập, thuế phục hưng, thuế cư trú, phí bảo hiểm y tế, phí bảo hiểm lương hưu, phí bảo hiểm thất nghiệp, phí bảo hiểm chăm sóc (từ 40 tuổi trở lên). Do thuế suất khác nhau theo từng khu vực nên cần tính toán chính xác.</p>
                    </div>
                </div>
            </section>
            <!-- Thông tin máy tính chi phí sinh hoạt Nhật Bản -->
            <section id="jp-living-info" class="info-section hidden" style="margin-top: 80px;">
                <div class="container">
                    <div class="section-header">
                        <h1 class="section-title">🛒 Máy tính chi phí sinh hoạt tổng hợp Nhật Bản - Lập kế hoạch ngân sách sinh hoạt hàng tháng</h1>
                        <p class="section-subtitle">Phản ánh giá cả Nhật Bản năm 2025, tính toán tổng hợp chi phí sinh hoạt hàng tháng theo quy mô gia đình, khu vực và phong cách sống để lập kế hoạch ngân sách.</p>
                    </div>
                    <div class="info-card">
                        <h3>🎯 Chiến lược quản lý chi phí sinh hoạt hiệu quả</h3>
                        <p>Chi phí sinh hoạt tại Nhật Bản thay đổi rất nhiều tùy theo khu vực, cơ cấu gia đình và phong cách sống. Hãy quản lý có hệ thống các khoản chi cho ăn uống, đi lại, giải trí, mua sắm để lập ngân sách hợp lý và đạt được mục tiêu tiết kiệm.</p>
                    </div>
                </div>
            </section>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <h3 class="footer-title">Máy tính lương Nhật Bản 2025 - Dịch vụ tổng hợp</h3>
                <p class="footer-description">
                    Tính toán chính xác lương thực nhận, thuế, bảo hiểm tại Nhật Bản cho người Việt Nam với các công cụ tiện ích tổng hợp.
                </p>
                <div class="footer-links">
                    <p>📧 Liên hệ: <a href="mailto:contact@utilities.mahalohana-bruce.com">contact@utilities.mahalohana-bruce.com</a></p>
                </div>
                <div class="footer-copyright">
                    <p>© 2025 Máy tính lương Nhật Bản. Mọi quyền được bảo lưu.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Sidebar navigation functionality
        function showTool(toolId) {
            // Hide all tools
            document.querySelectorAll('.tool-panel').forEach(panel => {
                panel.classList.add('hidden');
            });
            
            // Hide all info sections
            document.querySelectorAll('.info-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Remove active from all nav items
            document.querySelectorAll('.tool-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected tool
            document.getElementById(toolId + '-tool').classList.remove('hidden');
            
            // Show corresponding info section
            const infoSection = document.getElementById(toolId + '-info');
            if (infoSection) {
                infoSection.classList.remove('hidden');
            }
            
            // Activate selected nav item
            event.currentTarget.classList.add('active');
            
            // Hide all results
            document.querySelectorAll('.result-panel, .error-panel').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Japan Salary Calculator
        function calculateSalary() {
            const annualSalary = parseFloat(document.getElementById('annualSalary').value);
            const prefecture = document.getElementById('prefecture').value;
            const age = parseInt(document.getElementById('age').value);
            const dependents = parseInt(document.getElementById('dependents').value) || 0;
            
            const resultPanel = document.getElementById('salaryResult');
            const errorPanel = document.getElementById('salaryError');
            
            resultPanel.classList.remove('visible');
            errorPanel.classList.remove('visible');
            
            try {
                if (!annualSalary || annualSalary < 100 || annualSalary > 5000) {
                    throw new Error('Vui lòng nhập thu nhập từ 100 đến 5000 man yên.');
                }
                
                if (!age || age < 18 || age > 70) {
                    throw new Error('Vui lòng nhập tuổi từ 18 đến 70.');
                }
                
                // Simplified calculation (actual rates are complex)
                const grossMonthly = annualSalary / 12;
                const healthInsurance = grossMonthly * 0.05; // Approx 5%
                const pension = grossMonthly * 0.09; // Approx 9%
                const employment = grossMonthly * 0.003; // Approx 0.3%
                
                // Income tax (progressive)
                let incomeTax = 0;
                if (annualSalary <= 195) {
                    incomeTax = grossMonthly * 0.05;
                } else if (annualSalary <= 330) {
                    incomeTax = grossMonthly * 0.10;
                } else if (annualSalary <= 695) {
                    incomeTax = grossMonthly * 0.20;
                } else {
                    incomeTax = grossMonthly * 0.23;
                }
                
                // Resident tax (approx 10%)
                const residentTax = grossMonthly * 0.10;
                
                const totalDeductions = healthInsurance + pension + employment + incomeTax + residentTax;
                const netSalary = grossMonthly - totalDeductions;
                
                document.getElementById('salaryResultContent').innerHTML = 
                    `Thu nhập hàng năm <strong>${annualSalary} man yên</strong><br>
                     Lương thực nhận hàng tháng: <strong>${Math.round(netSalary * 10) / 10} man yên</strong>`;
                
                document.getElementById('salaryResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Lương gốp hàng tháng</div>
                        <div class="value">${Math.round(grossMonthly * 10) / 10} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Bảo hiểm y tế</div>
                        <div class="value">${Math.round(healthInsurance * 10) / 10} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Lương hưu</div>
                        <div class="value">${Math.round(pension * 10) / 10} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thuế thu nhập</div>
                        <div class="value">${Math.round(incomeTax * 10) / 10} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thuế cư trú</div>
                        <div class="value">${Math.round(residentTax * 10) / 10} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Lương thực nhận</div>
                        <div class="value" style="color: var(--success); font-size: 1.2em;">
                            ${Math.round(netSalary * 10) / 10} man yên
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('salaryErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Japanese Year Converter - Accurate Implementation
        class JpYearConverterIntegrated {
            constructor() {
                this.eras = {
                    reiwa: 2019,
                    heisei: 1989,
                    showa: 1926,
                    taisho: 1912,
                    meiji: 1868
                };
                
                this.eraNames = {
                    reiwa: "Reiwa (令和)",
                    heisei: "Heisei (平成)",
                    showa: "Showa (昭和)",
                    taisho: "Taisho (大正)",
                    meiji: "Meiji (明治)"
                };

                // Define exact end years for each era
                this.eraEndYears = {
                    meiji: 1912,   // Meiji 45 (ended July 30, 1912)
                    taisho: 1926,  // Taisho 15 (ended December 25, 1926)
                    showa: 1989,   // Showa 64 (ended January 7, 1989)
                    heisei: 2019,  // Heisei 31 (ended April 30, 2019)
                    reiwa: new Date().getFullYear() // Current era, ongoing
                };
                
                this.init();
            }

            init() {
                document.getElementById('conversionType').addEventListener('change', (e) => {
                    const isAdToEra = e.target.value === 'ad-to-era';
                    document.getElementById('adYearGroup').classList.toggle('hidden', !isAdToEra);
                    document.getElementById('eraGroup').classList.toggle('hidden', isAdToEra);
                    document.getElementById('eraYearGroup').classList.toggle('hidden', isAdToEra);
                });
            }

            convertYear() {
                const conversionType = document.getElementById('conversionType').value;
                const resultPanel = document.getElementById('yearResult');
                const errorPanel = document.getElementById('yearError');
                
                resultPanel.classList.remove('visible');
                errorPanel.classList.remove('visible');
                
                try {
                    if (conversionType === 'ad-to-era') {
                        this.convertToWareki();
                    } else {
                        this.convertToSeireki();
                    }
                    resultPanel.classList.add('visible');
                } catch (error) {
                    document.getElementById('yearErrorContent').textContent = error.message;
                    errorPanel.classList.add('visible');
                }
            }

            convertToWareki() {
                const adYear = parseInt(document.getElementById('adYear').value);
                if (!adYear || adYear < 1868 || adYear > 2030) {
                    throw new Error('Vui lòng nhập năm từ 1868 đến 2030.');
                }

                // Sort eras by start year descending to find the correct era
                const sortedEras = Object.entries(this.eras).sort((a, b) => b[1] - a[1]);
                
                for (const [era, start] of sortedEras) {
                    if (adYear >= start) {
                        const ey = adYear - start + 1;
                        const eraName = this.eraNames[era];
                        const endYear = this.eraEndYears[era];
                        
                        // Check if the year is within the era's valid range
                        if (endYear && adYear >= endYear) {
                            continue; // This era has ended, try the next one
                        }
                        
                        document.getElementById('yearResultContent').innerHTML = 
                            `<strong>Năm ${adYear}</strong> là <strong>${eraName} năm ${ey}</strong>.`;
                        
                        document.getElementById('yearResultDetails').innerHTML = `
                            <div class="result-item">
                                <div class="label">Tây lịch</div>
                                <div class="value">Năm ${adYear}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">Niên hiệu</div>
                                <div class="value">${eraName} năm ${ey}</div>
                            </div>
                            <div class="result-item">
                                <div class="label">Thời kỳ niên hiệu</div>
                                <div class="value">${start} ~ ${endYear === new Date().getFullYear() ? 'hiện tại' : endYear}</div>
                            </div>
                        `;
                        return;
                    }
                }
                
                throw new Error('Không tìm thấy niên hiệu cho năm này.');
            }

            convertToSeireki() {
                const eraKey = document.getElementById('eraSelect').value;
                const eraYear = parseInt(document.getElementById('eraYear').value);
                
                if (!eraYear || eraYear < 1) {
                    throw new Error('Vui lòng nhập năm niên hiệu hợp lệ.');
                }
                
                const start = this.eras[eraKey];
                const endYear = this.eraEndYears[eraKey];
                const maxYear = endYear - start + 1;
                
                if (eraYear > maxYear) {
                    throw new Error(`${this.eraNames[eraKey]} chỉ tồn tại tối đa ${maxYear} năm.`);
                }
                
                const adYear = start + eraYear - 1;
                const eraName = this.eraNames[eraKey];
                
                document.getElementById('yearResultContent').innerHTML = 
                    `<strong>${eraName} năm ${eraYear}</strong> là <strong>năm ${adYear}</strong>.`;
                
                document.getElementById('yearResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Niên hiệu</div>
                        <div class="value">${eraName} năm ${eraYear}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tây lịch</div>
                        <div class="value">Năm ${adYear}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thời kỳ niên hiệu</div>
                        <div class="value">${start} ~ ${endYear === new Date().getFullYear() ? 'hiện tại' : endYear}</div>
                    </div>
                `;
            }
        }

        // Initialize the year converter
        const jpYearConverter = new JpYearConverterIntegrated();

        // Global function for the convert button
        function convertYear() {
            jpYearConverter.convertYear();
        }

        // Eto Calculator (12 zodiac animals)
        const etoAnimals = [
            { name: 'Chuột', kanji: '子', description: 'Thông minh và lanh lợi' },
            { name: 'Trâu', kanji: '丑', description: 'Chăm chỉ và trung thành' },
            { name: 'Hổ', kanji: '寅', description: 'Dũng cảm và mạnh mẽ' },
            { name: 'Mèo', kanji: '卯', description: 'Dịu dàng và tinh tế' },
            { name: 'Rồng', kanji: '辰', description: 'Năng động và có sức hút' },
            { name: 'Rắn', kanji: '巳', description: 'Thận trọng và thông thái' },
            { name: 'Ngựa', kanji: '午', description: 'Năng động và tự do' },
            { name: 'Dê', kanji: '未', description: 'Hòa bình và nghệ thuật' },
            { name: 'Khỉ', kanji: '申', description: 'Thông minh và sáng tạo' },
            { name: 'Gà', kanji: '酉', description: 'Chính xác và có trách nhiệm' },
            { name: 'Chó', kanji: '戌', description: 'Trung thành và thật thà' },
            { name: 'Lợn', kanji: '亥', description: 'Rộng lượng và hạnh phúc' }
        ];

        function calculateEto() {
            const birthDate = document.getElementById('birthDate').value;
            const resultPanel = document.getElementById('etoResult');
            const errorPanel = document.getElementById('etoError');
            
            resultPanel.classList.remove('visible');
            errorPanel.classList.remove('visible');
            
            try {
                if (!birthDate) {
                    throw new Error('Vui lòng nhập ngày sinh.');
                }
                
                const date = new Date(birthDate);
                let year = date.getFullYear();
                
                // Calculate based on Spring Equinox (approximately February 4th)
                if (date.getMonth() === 0 || (date.getMonth() === 1 && date.getDate() < 4)) {
                    year -= 1;
                }
                
                const etoIndex = (year - 4) % 12;
                const animal = etoAnimals[etoIndex];
                
                document.getElementById('etoResultContent').innerHTML = 
                    `Sinh năm <strong>${year}</strong> thuộc con <strong>${animal.name} (${animal.kanji})</strong>.`;
                
                document.getElementById('etoResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">12 con giáp</div>
                        <div class="value">${animal.name}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Hán tự</div>
                        <div class="value">${animal.kanji}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Đặc điểm</div>
                        <div class="value">${animal.description}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Năm chuẩn</div>
                        <div class="value">${year} (theo lịch xuân phân)</div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
            } catch (error) {
                document.getElementById('etoErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Máy tính thuế thu nhập Nhật Bản
        function calculateJpTax() {
            const annualIncome = parseFloat(document.getElementById('jpTaxIncome').value) * 10000; // Convert to yen
            const incomeType = document.getElementById('jpIncomeType').value;
            const dependents = parseInt(document.getElementById('jpTaxDependents').value || 0);
            const spouseType = document.getElementById('jpTaxSpouse').value;
            const otherDeductions = parseFloat(document.getElementById('jpTaxDeductions').value || 0) * 10000;
            const residence = document.getElementById('jpTaxResidence').value;
            
            const resultPanel = document.getElementById('jpTaxResult');
            const errorPanel = document.getElementById('jpTaxError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!annualIncome || annualIncome <= 0) {
                    throw new Error('Vui lòng nhập thu nhập hàng năm chính xác.');
                }
                
                // Khấu trừ thu nhập 2025 (dành cho người lương)
                let taxableIncome = annualIncome;
                
                if (incomeType === 'salary') {
                    if (annualIncome <= 1625000) {
                        taxableIncome = Math.max(0, annualIncome - 550000);
                    } else if (annualIncome <= 1800000) {
                        taxableIncome = annualIncome - annualIncome * 0.4 + 100000;
                    } else if (annualIncome <= 3600000) {
                        taxableIncome = annualIncome - annualIncome * 0.3 + 80000;
                    } else if (annualIncome <= 6600000) {
                        taxableIncome = annualIncome - annualIncome * 0.2 + 440000;
                    } else if (annualIncome <= 8500000) {
                        taxableIncome = annualIncome - annualIncome * 0.1 + 1100000;
                    } else {
                        taxableIncome = annualIncome - 1950000;
                    }
                }
                
                // Các khoản khấu trừ
                let totalDeductions = 480000; // Khấu trừ cơ bản
                totalDeductions += dependents * 380000; // Khấu trừ người phụ thuộc
                totalDeductions += otherDeductions; // Khấu trừ khác
                
                if (spouseType === 'general' || spouseType === 'special') {
                    totalDeductions += 380000; // Khấu trừ vợ/chồng
                }
                
                taxableIncome = Math.max(0, taxableIncome - totalDeductions);
                
                // Tính thuế thu nhập (thuế lũy tiến)
                let incomeTax = 0;
                const taxBrackets = [
                    { min: 0, max: 1950000, rate: 0.05, deduction: 0 },
                    { min: 1950000, max: 3300000, rate: 0.10, deduction: 97500 },
                    { min: 3300000, max: 6950000, rate: 0.20, deduction: 427500 },
                    { min: 6950000, max: 9000000, rate: 0.23, deduction: 636000 },
                    { min: 9000000, max: 18000000, rate: 0.33, deduction: 1536000 },
                    { min: 18000000, max: 40000000, rate: 0.40, deduction: 2796000 },
                    { min: 40000000, max: Infinity, rate: 0.45, deduction: 4796000 }
                ];
                
                for (const bracket of taxBrackets) {
                    if (taxableIncome > bracket.min) {
                        incomeTax = taxableIncome * bracket.rate - bracket.deduction;
                        break;
                    }
                }
                
                // Thuế tái thiết đặc biệt (2.1%)
                const reconstructionTax = incomeTax * 0.021;
                const totalTax = incomeTax + reconstructionTax;
                
                // Tính thuế suất thực tế
                const effectiveRate = (totalTax / annualIncome) * 100;
                
                // Hiển thị kết quả
                document.getElementById('jpTaxResultContent').innerHTML = 
                    `Thu nhập hàng năm <strong>${(annualIncome/10000).toLocaleString()} man yên</strong><br>
                     Thu nhập chịu thuế: <strong>${(taxableIncome/10000).toLocaleString()} man yên</strong><br>
                     Tổng số thuế phải nộp: <strong>${Math.round(totalTax).toLocaleString()} yên</strong>`;
                
                document.getElementById('jpTaxResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Thu nhập chịu thuế</div>
                        <div class="value">${(taxableIncome/10000).toLocaleString()} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thuế thu nhập</div>
                        <div class="value">${Math.round(incomeTax).toLocaleString()} yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thuế tái thiết đặc biệt</div>
                        <div class="value">${Math.round(reconstructionTax).toLocaleString()} yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tổng số thuế</div>
                        <div class="value" style="color: var(--error); font-size: 1.2em;">
                            ${Math.round(totalTax).toLocaleString()} yên
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thuế suất thực tế</div>
                        <div class="value">${effectiveRate.toFixed(2)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thu nhập sau thuế</div>
                        <div class="value" style="color: var(--success); font-size: 1.2em;">
                            ${(annualIncome - totalTax)/10000} man yên
                        </div>
                    </div>
                `;
                
                // Hiển thị phân tích khung thuế suất
                document.getElementById('jpTaxBracketsContent').innerHTML = `
                    <div style="margin-top: 20px;">
                        <h4>Khung thuế suất lũy tiến áp dụng:</h4>
                        ${taxBrackets.map(bracket => {
                            if (taxableIncome > bracket.min) {
                                const bracketMax = bracket.max === Infinity ? 'trở lên' : (bracket.max/10000).toLocaleString() + ' man yên';
                                const isCurrent = taxableIncome >= bracket.min && taxableIncome <= bracket.max;
                                return `
                                    <div style="padding: 10px; margin: 5px 0; border-left: 4px solid ${isCurrent ? 'var(--primary-blue)' : '#ddd'}; background: ${isCurrent ? 'var(--very-light-gray)' : 'white'};">
                                        <strong>${(bracket.min/10000).toLocaleString()} - ${bracketMax}: ${(bracket.rate * 100).toFixed(1)}%</strong>
                                        ${isCurrent ? ' (áp dụng cho bạn)' : ''}
                                    </div>
                                `;
                            }
                            return '';
                        }).join('')}
                    </div>
                    <div style="margin-top: 20px; padding: 15px; background: var(--very-light-gray); border-radius: 8px;">
                        <h4>💡 Lời khuyên tiết kiệm thuế:</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            ${taxableIncome > 3300000 ? '<li>Tham gia iDeCo (quỹ hưu trí cá nhân) để khấu trừ tối đa 27.6 man yên</li>' : ''}
                            ${annualIncome > 2000000 ? '<li>Sử dụng Furusato Nozei (quyên góp quê hương) để nhận sản phẩm đặc sản</li>' : ''}
                            ${incomeType === 'freelance' ? '<li>Người tự do có thể khấu trừ đặc biệt 65 man yên khi khai thuế xanh</li>' : ''}
                            <li>Chi phí y tế trên 10 man yên có thể khấu trừ thuế</li>
                            <li>Bảo hiểm nhân thọ có thể khấu trừ tối đa 12 man yên</li>
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                document.getElementById('jpTaxBrackets').classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpTaxErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Máy tính vay bất động sản Nhật Bản
        function calculateJpLoan() {
            const propertyPrice = parseFloat(document.getElementById('jpLoanPrice').value) * 10000;
            const downPaymentPercent = parseFloat(document.getElementById('jpLoanDownPayment').value);
            const loanYears = parseInt(document.getElementById('jpLoanTerm').value);
            const rateType = document.getElementById('jpLoanRateType').value;
            const annualIncome = parseFloat(document.getElementById('jpLoanIncome').value) * 10000;
            const otherDebt = parseFloat(document.getElementById('jpLoanOtherDebt').value || 0) * 10000;
            
            const resultPanel = document.getElementById('jpLoanResult');
            const errorPanel = document.getElementById('jpLoanError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!propertyPrice || !downPaymentPercent || !loanYears || !annualIncome) {
                    throw new Error('Vui lòng nhập đầy đủ thông tin.');
                }
                
                // Tính toán khoản vay
                const downPayment = propertyPrice * (downPaymentPercent / 100);
                const loanAmount = propertyPrice - downPayment;
                
                // Lãi suất theo loại
                let interestRate = 0;
                let rateTypeName = '';
                switch(rateType) {
                    case 'variable':
                        interestRate = 0.005; // 0.5%
                        rateTypeName = 'Lãi suất thả nổi';
                        break;
                    case 'fixed10':
                        interestRate = 0.008; // 0.8%
                        rateTypeName = 'Lãi suất cố định 10 năm';
                        break;
                    case 'fixed35':
                        interestRate = 0.018; // 1.8%
                        rateTypeName = 'Lãi suất cố định toàn kỳ';
                        break;
                }
                
                // Tính toán khoản thanh toán hàng tháng
                const monthlyRate = interestRate / 12;
                const totalMonths = loanYears * 12;
                
                const monthlyPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths) / 
                                     (Math.pow(1 + monthlyRate, totalMonths) - 1);
                
                const totalPayment = monthlyPayment * totalMonths;
                const totalInterest = totalPayment - loanAmount;
                
                // Tính tỷ lệ trả nợ
                const annualPayment = (monthlyPayment * 12) + (otherDebt * 12);
                const repaymentRatio = (annualPayment / annualIncome) * 100;
                
                // Đánh giá khả năng vay
                let approvalChance = '';
                let approvalClass = '';
                
                if (repaymentRatio <= 20) {
                    approvalChance = 'Rất cao';
                    approvalClass = 'excellent';
                } else if (repaymentRatio <= 25) {
                    approvalChance = 'Cao';
                    approvalClass = 'good';
                } else if (repaymentRatio <= 30) {
                    approvalChance = 'Trung bình';
                    approvalClass = 'fair';
                } else if (repaymentRatio <= 35) {
                    approvalChance = 'Thấp';
                    approvalClass = 'poor';
                } else {
                    approvalChance = 'Rất thấp';
                    approvalClass = 'very-poor';
                }
                
                document.getElementById('jpLoanResultContent').innerHTML = 
                    `Giá bất động sản <strong>${(propertyPrice/10000).toLocaleString()} man yên</strong><br>
                     Số tiền vay: <strong>${(loanAmount/10000).toLocaleString()} man yên</strong><br>
                     Thanh toán hàng tháng: <strong>${Math.round(monthlyPayment).toLocaleString()} yên</strong>`;
                
                document.getElementById('jpLoanResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Vốn tự có</div>
                        <div class="value">${(downPayment/10000).toLocaleString()} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Số tiền vay</div>
                        <div class="value">${(loanAmount/10000).toLocaleString()} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Trả hàng tháng</div>
                        <div class="value" style="color: var(--primary-blue); font-size: 1.2em;">
                            ${Math.round(monthlyPayment).toLocaleString()} yên
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tổng số tiền trả</div>
                        <div class="value">${Math.round(totalPayment/10000).toLocaleString()} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tổng lãi suất</div>
                        <div class="value">${Math.round(totalInterest/10000).toLocaleString()} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tỷ lệ trả nợ</div>
                        <div class="value ${approvalClass}">${repaymentRatio.toFixed(1)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Khả năng duyệt vay</div>
                        <div class="value ${approvalClass}">${approvalChance}</div>
                    </div>
                `;
                
                document.getElementById('jpLoanAnalysisContent').innerHTML = `
                    <div style="margin-top: 20px;">
                        <h4>Chi tiết điều kiện vay:</h4>
                        <div style="background: var(--very-light-gray); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>Thời hạn vay:</strong> ${loanYears} năm (${totalMonths} tháng)</p>
                            <p><strong>Lãi suất:</strong> ${(interestRate * 100).toFixed(2)}% (năm) - ${rateTypeName}</p>
                            <p><strong>Loại trả nợ:</strong> Trả đều gốc và lãi</p>
                        </div>
                        
                        <h4>💡 Lời khuyên về khoản vay:</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            ${repaymentRatio > 35 ? '<li style="color: var(--error);">⚠️ Tỷ lệ trả nợ vượt quá 35%, có thể khó được duyệt vay.</li>' : ''}
                            ${repaymentRatio > 25 ? '<li>Nên giảm số tiền vay hoặc kéo dài thời hạn để giảm khoản trả hàng tháng.</li>' : ''}
                            ${rateType === 'variable' ? '<li>Lãi suất thả nổi có rủi ro tăng, hãy cân nhắc lãi suất cố định.</li>' : ''}
                            <li>Ngoài giá nhà còn có chi phí đăng ký, môi giới và các phí khác.</li>
                            <li>Nên dành quỹ dự phòng 3-6 tháng chi phí sinh hoạt.</li>
                            ${annualIncome > 5000000 ? '<li>Có thể được khấu trừ thuế đặc biệt cho khoản vay mua nhà.</li>' : ''}
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                document.getElementById('jpLoanAnalysis').classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpLoanErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Máy tính thuê nhà Nhật Bản
        function calculateJpRent() {
            const monthlySalary = parseFloat(document.getElementById('jpRentSalary').value) * 10000;
            const monthlyRent = parseFloat(document.getElementById('jpRentAmount').value) * 10000;
            const region = document.getElementById('jpRentRegion').value;
            const houseType = document.getElementById('jpRentType').value;
            const rooms = document.getElementById('jpRentRooms').value;
            const stationTime = document.getElementById('jpRentStation').value;
            
            const resultPanel = document.getElementById('jpRentResult');
            const errorPanel = document.getElementById('jpRentError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!monthlySalary || !monthlyRent) {
                    throw new Error('Vui lòng nhập lương và tiền thuê nhà.');
                }
                
                // Tính tỷ lệ tiền thuê
                const rentRatio = (monthlyRent / monthlySalary) * 100;
                
                // Giá thuê trung bình theo khu vực
                const averageRent = {
                    'tokyo-center': { '1R': 8.0, '1K': 8.5, '1DK': 10.5, '1LDK': 12.0, '2DK': 14.0, '2LDK': 16.0, '3LDK': 20.0 },
                    'tokyo-suburbs': { '1R': 6.5, '1K': 7.0, '1DK': 8.5, '1LDK': 10.0, '2DK': 11.5, '2LDK': 13.5, '3LDK': 16.0 },
                    'osaka': { '1R': 5.5, '1K': 6.0, '1DK': 7.5, '1LDK': 8.5, '2DK': 10.0, '2LDK': 11.5, '3LDK': 14.0 },
                    'nagoya': { '1R': 5.0, '1K': 5.5, '1DK': 6.5, '1LDK': 7.5, '2DK': 9.0, '2LDK': 10.5, '3LDK': 13.0 },
                    'fukuoka': { '1R': 4.5, '1K': 5.0, '1DK': 6.0, '1LDK': 7.0, '2DK': 8.0, '2LDK': 9.5, '3LDK': 12.0 },
                    'other-major': { '1R': 4.8, '1K': 5.3, '1DK': 6.3, '1LDK': 7.3, '2DK': 8.5, '2LDK': 10.0, '3LDK': 12.5 },
                    'regional': { '1R': 4.0, '1K': 4.5, '1DK': 5.5, '1LDK': 6.0, '2DK': 7.0, '2LDK': 8.5, '3LDK': 10.5 }
                };
                
                const avgRentForType = (averageRent[region]?.[rooms] || 6.0) * 10000;
                const rentComparison = ((monthlyRent - avgRentForType) / avgRentForType) * 100;
                
                // Đánh giá tính hợp lý
                let rentJudgment = '';
                let judgmentClass = '';
                
                if (rentRatio <= 25) {
                    rentJudgment = 'Rất hợp lý';
                    judgmentClass = 'excellent';
                } else if (rentRatio <= 30) {
                    rentJudgment = 'Hợp lý';
                    judgmentClass = 'good';
                } else if (rentRatio <= 35) {
                    rentJudgment = 'Hơi cao';
                    judgmentClass = 'fair';
                } else if (rentRatio <= 40) {
                    rentJudgment = 'Cao';
                    judgmentClass = 'poor';
                } else {
                    rentJudgment = 'Quá cao';
                    judgmentClass = 'very-poor';
                }
                
                // So sánh giá thị trường
                let priceComparison = '';
                if (rentComparison <= -10) {
                    priceComparison = 'Rẻ hơn thị trường';
                } else if (rentComparison <= 10) {
                    priceComparison = 'Phù hợp thị trường';
                } else {
                    priceComparison = 'Đắt hơn thị trường';
                }
                
                // Chi phí sinh hoạt còn lại
                const remainingIncome = monthlySalary - monthlyRent;
                const livingExpenseRatio = (remainingIncome / monthlySalary) * 100;
                
                document.getElementById('jpRentResultContent').innerHTML = 
                    `Lương hàng tháng <strong>${(monthlySalary/10000).toLocaleString()} man yên</strong><br>
                     Tiền thuê nhà: <strong>${(monthlyRent/10000).toLocaleString()} man yên</strong><br>
                     Tỷ lệ tiền thuê: <strong>${rentRatio.toFixed(1)}%</strong> - ${rentJudgment}`;
                
                document.getElementById('jpRentResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Tỷ lệ tiền thuê</div>
                        <div class="value ${judgmentClass}">${rentRatio.toFixed(1)}%</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Đánh giá</div>
                        <div class="value ${judgmentClass}">${rentJudgment}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">So với thị trường</div>
                        <div class="value">${priceComparison}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Giá trung bình khu vực</div>
                        <div class="value">${(avgRentForType/10000).toFixed(1)} man yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Thu nhập còn lại</div>
                        <div class="value" style="color: var(--success); font-size: 1.1em;">
                            ${(remainingIncome/10000).toLocaleString()} man yên
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tỷ lệ sinh hoạt</div>
                        <div class="value">${livingExpenseRatio.toFixed(1)}%</div>
                    </div>
                `;
                
                // Thêm phân tích chi tiết
                const analysisContent = `
                    <div style="margin-top: 20px;">
                        <h4>Chi phí ước tính hàng tháng:</h4>
                        <div style="background: var(--very-light-gray); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>Tiền thuê nhà:</strong> ${(monthlyRent/10000).toFixed(1)} man yên</p>
                            <p><strong>Phí quản lý (ước tính):</strong> ${Math.round(monthlyRent * 0.1 / 1000) / 10} man yên</p>
                            <p><strong>Tiện ích (ước tính):</strong> ${Math.round(monthlySalary * 0.02 / 1000) / 10} man yên</p>
                            <p><strong>Tổng chi phí nhà ở:</strong> ${Math.round((monthlyRent * 1.15) / 1000) / 10} man yên</p>
                        </div>
                        
                        <h4>💡 Lời khuyên về việc thuê nhà:</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            ${rentRatio > 35 ? '<li style="color: var(--error);">⚠️ Tỷ lệ tiền thuê cao. Nên tìm nhà rẻ hơn.</li>' : ''}
                            ${rentComparison > 15 ? '<li>Giá thuê cao hơn thị trường. Nên tìm hiểu thêm nhiều căn khác.</li>' : ''}
                            ${rentRatio < 25 ? '<li>✅ Tiền thuê hợp lý. Bạn có thể tiết kiệm được nhiều.</li>' : ''}
                            <li>Cần tính thêm tiền cọc (敷金) và tiền lễ (礼金) khi thuê nhà.</li>
                            <li>Bảo hiểm cháy nổ và phí gia hạn hợp đồng cũng cần được tính đến.</li>
                            <li>Nên chọn nhà gần ga để tiết kiệm chi phí đi lại.</li>
                            ${monthlySalary > 300000 ? '<li>Với mức lương này, bạn có thể cân nhắc mua nhà. Hãy dùng máy tính vay để tính toán.</li>' : ''}
                        </ul>
                    </div>
                `;
                
                // Thêm analysis content vào result details  
                document.getElementById('jpRentResultDetails').innerHTML += analysisContent;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpRentErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Máy tính tiền điện nước Nhật Bản
        function calculateJpUtility() {
            const region = document.getElementById('jpUtilityRegion').value;
            const housing = document.getElementById('jpUtilityHousing').value;
            const season = document.getElementById('jpUtilitySeason').value;
            const acUsage = document.getElementById('jpUtilityAC').value;
            const wfh = document.getElementById('jpUtilityWFH').value;
            
            // Thiết bị điện
            const hasFridge = document.getElementById('jpUtilityFridge').checked;
            const hasWasher = document.getElementById('jpUtilityWasher').checked;
            const hasDryer = document.getElementById('jpUtilityDryer').checked;
            const hasTV = document.getElementById('jpUtilityTV').checked;
            const hasPC = document.getElementById('jpUtilityPC').checked;
            const hasHeater = document.getElementById('jpUtilityHeater').checked;
            
            const resultPanel = document.getElementById('jpUtilityResult');
            const errorPanel = document.getElementById('jpUtilityError');
            
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!region || !housing || !season) {
                    throw new Error('Vui lòng nhập đầy đủ thông tin.');
                }
                
                // Thông tin công ty điện theo khu vực
                const electricCompanies = {
                    'tepco': { name: 'TEPCO (Kanto)', basicFee: 295.24, unitPrice: 30.00 },
                    'kepco': { name: 'KEPCO (Kansai)', basicFee: 522.58, unitPrice: 25.80 },
                    'chubu': { name: 'Chubu (Chubu)', basicFee: 297.00, unitPrice: 28.46 },
                    'tohoku': { name: 'Tohoku (Tohoku)', basicFee: 370.40, unitPrice: 29.42 },
                    'kyushu': { name: 'Kyushu (Kyushu)', basicFee: 316.24, unitPrice: 26.84 },
                    'chugoku': { name: 'Chugoku (Chugoku)', basicFee: 759.00, unitPrice: 27.44 },
                    'shikoku': { name: 'Shikoku (Shikoku)', basicFee: 409.40, unitPrice: 29.65 },
                    'hokkaido': { name: 'Hokkaido (Hokkaido)', basicFee: 402.60, unitPrice: 31.21 },
                    'hokuriku': { name: 'Hokuriku (Hokuriku)', basicFee: 302.50, unitPrice: 27.89 },
                    'okinawa': { name: 'Okinawa (Okinawa)', basicFee: 402.40, unitPrice: 28.49 }
                };
                
                const company = electricCompanies[region];
                
                // Lượng điện tiêu thụ cơ bản theo loại nhà
                let baseUsage = 0;
                if (housing === 'studio') baseUsage = 200;
                else if (housing === '1bedroom') baseUsage = 280;
                else if (housing === 'family') baseUsage = 400;
                
                // Điều chỉnh theo mùa
                const seasonMultiplier = {
                    'spring': 0.9,
                    'summer': 1.4,
                    'autumn': 0.9,
                    'winter': 1.3
                };
                
                baseUsage *= seasonMultiplier[season];
                
                // Điều chỉnh theo sử dụng điều hòa
                const acMultiplier = {
                    'none': 0.7,
                    'light': 0.9,
                    'moderate': 1.0,
                    'heavy': 1.3,
                    'always': 1.6
                };
                
                baseUsage *= acMultiplier[acUsage];
                
                // Điều chỉnh theo làm việc tại nhà
                const wfhMultiplier = {
                    'none': 0.9,
                    'partial': 1.0,
                    'hybrid': 1.1,
                    'full': 1.3
                };
                
                baseUsage *= wfhMultiplier[wfh];
                
                // Thêm điện cho thiết bị
                if (hasFridge) baseUsage += 30;
                if (hasWasher) baseUsage += 15;
                if (hasDryer) baseUsage += 40;
                if (hasTV) baseUsage += 20;
                if (hasPC) baseUsage += 25;
                if (hasHeater) baseUsage += 50;
                
                // Tính tiền điện (3 bậc thang)
                let electricityFee = company.basicFee;
                
                if (baseUsage <= 120) {
                    electricityFee += baseUsage * company.unitPrice * 0.7;
                } else if (baseUsage <= 300) {
                    electricityFee += 120 * company.unitPrice * 0.7;
                    electricityFee += (baseUsage - 120) * company.unitPrice;
                } else {
                    electricityFee += 120 * company.unitPrice * 0.7;
                    electricityFee += 180 * company.unitPrice;
                    electricityFee += (baseUsage - 300) * company.unitPrice * 1.2;
                }
                
                // Ước tính tiền gas và nước
                let gasFee = 0;
                let waterFee = 0;
                
                if (housing === 'studio') {
                    gasFee = 3500;
                    waterFee = 2500;
                } else if (housing === '1bedroom') {
                    gasFee = 4500;
                    waterFee = 3500;
                } else {
                    gasFee = 6500;
                    waterFee = 5000;
                }
                
                const totalUtility = electricityFee + gasFee + waterFee;
                const annualUtility = totalUtility * 12;
                
                document.getElementById('jpUtilityResultContent').innerHTML = 
                    `Khu vực: <strong>${company.name}</strong><br>
                     Lượng điện ước tính: <strong>${Math.round(baseUsage)} kWh/tháng</strong><br>
                     Tổng tiền điện nước: <strong>${Math.round(totalUtility).toLocaleString()} yên/tháng</strong>`;
                
                document.getElementById('jpUtilityResultDetails').innerHTML = `
                    <div class="result-item">
                        <div class="label">Công ty điện</div>
                        <div class="value">${company.name}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Lượng điện sử dụng</div>
                        <div class="value">${Math.round(baseUsage)} kWh/tháng</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tiền điện tháng</div>
                        <div class="value" style="color: var(--primary-blue); font-size: 1.1em;">
                            ${Math.round(electricityFee).toLocaleString()} yên
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tiền gas tháng</div>
                        <div class="value">${Math.round(gasFee).toLocaleString()} yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tiền nước tháng</div>
                        <div class="value">${Math.round(waterFee).toLocaleString()} yên</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tổng cộng/tháng</div>
                        <div class="value" style="color: var(--error); font-size: 1.2em;">
                            ${Math.round(totalUtility).toLocaleString()} yên
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tổng cộng/năm</div>
                        <div class="value">${Math.round(annualUtility/10000).toLocaleString()} man yên</div>
                    </div>
                `;
                
                document.getElementById('jpUtilitySavingsContent').innerHTML = `
                    <div style="margin-top: 20px;">
                        <h4>Chi tiết sử dụng điện:</h4>
                        <div style="background: var(--very-light-gray); padding: 15px; border-radius: 8px; margin: 10px 0;">
                            <p><strong>Phí cơ bản:</strong> ${Math.round(company.basicFee)} yên</p>
                            <p><strong>Lượng điện:</strong> ${Math.round(baseUsage)} kWh</p>
                            <p><strong>Đơn giá trung bình:</strong> ${company.unitPrice.toFixed(2)} yên/kWh</p>
                            <p><strong>Loại nhà:</strong> ${housing === 'studio' ? 'Studio/One room' : housing === '1bedroom' ? '1-2 phòng' : 'Gia đình (3+ phòng)'}</p>
                            <p><strong>Mùa:</strong> ${season === 'spring' ? 'Xuân' : season === 'summer' ? 'Hè' : season === 'autumn' ? 'Thu' : 'Đông'}</p>
                        </div>
                        
                        <h4>💡 Mẹo tiết kiệm tiền điện:</h4>
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            ${baseUsage > 400 ? '<li style="color: var(--error);">⚠️ Lượng điện sử dụng cao. Cần chú ý tiết kiệm điện.</li>' : ''}
                            <li>Thay bóng LED có thể tiết kiệm 20-30% điện năng.</li>
                            <li>Điều chỉnh nhiệt độ điều hòa 1 độ có thể tiết kiệm 10% điện.</li>
                            ${region === 'tepco' ? '<li>Khu vực Tokyo có thể so sánh giá với các công ty điện mới.</li>' : ''}
                            <li>Đầu vòi sen tiết kiệm nước nóng giúp giảm cả tiền gas và nước.</li>
                            <li>Thiết bị điện tiết kiệm năng lượng giúp tiết kiệm lâu dài.</li>
                            ${housing === 'family' ? '<li>Gia đình đông người nên cân nhắc gói giá theo giờ.</li>' : ''}
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                document.getElementById('jpUtilitySavings').classList.add('visible');
                
            } catch (error) {
                document.getElementById('jpUtilityErrorContent').textContent = error.message;
                errorPanel.classList.add('visible');
            }
        }

        // Reset functions
        function resetJpTax() {
            document.getElementById('jpTaxIncome').value = '';
            document.getElementById('jpIncomeType').value = 'salary';
            document.getElementById('jpTaxDependents').value = '0';
            document.getElementById('jpTaxSpouse').value = 'none';
            document.getElementById('jpTaxDeductions').value = '';
            document.getElementById('jpTaxResidence').value = 'resident';
            
            ['jpTaxResult', 'jpTaxError', 'jpTaxBrackets'].forEach(id => {
                document.getElementById(id).classList.remove('visible');
            });
        }

        function resetJpLoan() {
            document.getElementById('jpLoanPrice').value = '';
            document.getElementById('jpLoanDownPayment').value = '20';
            document.getElementById('jpLoanTerm').value = '35';
            document.getElementById('jpLoanRateType').value = 'variable';
            document.getElementById('jpLoanIncome').value = '';
            document.getElementById('jpLoanOtherDebt').value = '0';
            
            ['jpLoanResult', 'jpLoanError', 'jpLoanAnalysis'].forEach(id => {
                document.getElementById(id).classList.remove('visible');
            });
        }

        function resetJpRent() {
            document.getElementById('jpRentSalary').value = '';
            document.getElementById('jpRentAmount').value = '';
            document.getElementById('jpRentRegion').value = 'tokyo-center';
            document.getElementById('jpRentType').value = 'apartment';
            document.getElementById('jpRentRooms').value = '1R';
            document.getElementById('jpRentStation').value = '5';
            
            ['jpRentResult', 'jpRentError'].forEach(id => {
                document.getElementById(id).classList.remove('visible');
            });
        }

        function resetJpUtility() {
            document.getElementById('jpUtilityRegion').value = 'tepco';
            document.getElementById('jpUtilityHousing').value = 'studio';
            document.getElementById('jpUtilitySeason').value = 'spring';
            document.getElementById('jpUtilityAC').value = 'moderate';
            document.getElementById('jpUtilityWFH').value = 'none';
            
            // Reset checkboxes
            ['jpUtilityFridge', 'jpUtilityWasher', 'jpUtilityDryer', 'jpUtilityTV', 'jpUtilityPC', 'jpUtilityHeater'].forEach(id => {
                document.getElementById(id).checked = false;
            });
            
            ['jpUtilityResult', 'jpUtilityError', 'jpUtilitySavings'].forEach(id => {
                document.getElementById(id).classList.remove('visible');
            });
        }

        // Máy tính chi phí giao thông Nhật Bản
        function calculateJpTransport() {
            const fromStation = document.getElementById('jpTransportFrom').value.trim();
            const toStation = document.getElementById('jpTransportTo').value.trim();
            const frequency = document.getElementById('jpTransportFreq').value;
            const ticketType = document.getElementById('jpTransportType').value;
            const distance = parseFloat(document.getElementById('jpTransportDistance').value);
            const lineType = document.getElementById('jpTransportLine').value;
            
            const resultPanel = document.getElementById('jpTransportResult');
            const errorPanel = document.getElementById('jpTransportError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!fromStation || !toStation || !distance) {
                    throw new Error('Vui lòng nhập đầy đủ ga khởi hành, ga đến và khoảng cách.');
                }
                
                // Tính giá cơ bản (theo khoảng cách)
                let basePrice = 0;
                if (lineType === 'jr') {
                    if (distance <= 3) basePrice = 140;
                    else if (distance <= 6) basePrice = 150;
                    else if (distance <= 10) basePrice = 160;
                    else if (distance <= 20) basePrice = 240;
                    else if (distance <= 40) basePrice = 400;
                    else basePrice = 400 + Math.ceil((distance - 40) / 10) * 80;
                } else if (lineType === 'subway') {
                    if (distance <= 6) basePrice = 170;
                    else if (distance <= 11) basePrice = 200;
                    else if (distance <= 20) basePrice = 250;
                    else basePrice = 300;
                } else if (lineType === 'private') {
                    basePrice = 150 + distance * 15;
                } else { // mixed
                    basePrice = 200 + distance * 20;
                }
                
                // Tính theo loại vé
                let actualPrice = basePrice;
                let monthlyPrice = 0;
                let savings = 0;
                
                if (ticketType === 'ic-card') {
                    actualPrice = Math.floor(basePrice * 0.99); // Giảm 1%
                } else if (ticketType === 'commuter') {
                    monthlyPrice = basePrice * 2 * 15; // Khứ hồi 15 ngày
                    actualPrice = monthlyPrice;
                }
                
                // Tính chi phí hàng tháng theo tần suất sử dụng
                let monthlyUsage = 0;
                let normalMonthlyCost = 0;
                
                if (frequency === 'daily') {
                    monthlyUsage = 22; // Chỉ ngày làm việc
                    normalMonthlyCost = actualPrice * 2 * monthlyUsage;
                } else if (frequency === 'weekly') {
                    monthlyUsage = 16; // 4 lần/tuần
                    normalMonthlyCost = actualPrice * 2 * monthlyUsage;
                } else { // occasional
                    monthlyUsage = 8; // 2 lần/tuần
                    normalMonthlyCost = actualPrice * 2 * monthlyUsage;
                }
                
                // So sánh vé tháng và vé thường
                let commuterPassPrice = basePrice * 2 * 15; // Vé tháng 1 tháng
                if (ticketType === 'ic-card') {
                    commuterPassPrice = Math.floor(commuterPassPrice * 0.99);
                }
                
                savings = normalMonthlyCost - commuterPassPrice;
                
                let recommendation = '';
                if (frequency === 'daily' && savings > 0) {
                    recommendation = 'Khuyến nghị mua vé tháng!';
                } else if (frequency === 'occasional') {
                    recommendation = 'Sử dụng thẻ IC có lợi hơn.';
                } else {
                    recommendation = 'Lựa chọn hiện tại phù hợp.';
                }
                
                resultPanel.innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">🚃</div>
                        <h3>Kết quả tính chi phí giao thông Nhật Bản</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Tuyến đường</span>
                            <span class="value">${fromStation} → ${toStation}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Khoảng cách</span>
                            <span class="value">${distance}km</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">Giá một chiều</span>
                            <span class="value">${actualPrice} yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Chi phí hàng tháng</span>
                            <span class="value">${ticketType === 'commuter' ? commuterPassPrice : normalMonthlyCost} yên</span>
                        </div>
                        ${savings > 0 ? `
                        <div class="summary-item total">
                            <span class="label">Tiết kiệm với vé tháng</span>
                            <span class="value">${savings} yên/tháng</span>
                        </div>
                        ` : ''}
                        <div class="summary-item">
                            <span class="label">Khuyến nghị</span>
                            <span class="value">${recommendation}</span>
                        </div>
                    </div>
                    
                    <div class="transport-analysis">
                        <h4>📊 Phân tích chi tiết chi phí</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Vé thường</h5>
                                <p>Một chiều: ${basePrice} yên</p>
                                <p>Chi phí tháng: ${normalMonthlyCost} yên</p>
                                <p>Hàng năm: ${Math.round(normalMonthlyCost * 12 / 10000)} vạn yên</p>
                            </div>
                            <div class="analysis-item">
                                <h5>Vé tháng (1 tháng)</h5>
                                <p>Giá: ${commuterPassPrice} yên</p>
                                <p>Tiết kiệm: ${Math.max(0, savings)} yên/tháng</p>
                                <p>Tiết kiệm hàng năm: ${Math.round(Math.max(0, savings) * 12 / 1000)} nghìn yên</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advice-panel">
                        <h4>💡 Mẹo tiết kiệm chi phí giao thông</h4>
                        <ul class="advice-list">
                            ${savings > 5000 ? '<li>Có thể tiết kiệm trên 5,000 yên mỗi tháng với vé tháng!</li>' : ''}
                            ${distance > 10 ? '<li>Đường dài nên mua vé 6 tháng để được giảm thêm 5%.</li>' : ''}
                            ${lineType === 'mixed' ? '<li>Có chuyển tiếp. Hãy xem xét tuyến trực tiếp.</li>' : ''}
                            <li>Khi công ty hỗ trợ phí giao thông, nên đăng ký vé 6 tháng.</li>
                            <li>Tích điểm thẻ IC để nhận thêm ưu đãi.</li>
                            <li>Tránh khung giờ đêm (phụ thu 10%).</li>
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                errorPanel.innerHTML = `
                    <div class="error-content">
                        <div class="error-icon">⚠️</div>
                        <div class="error-message">${error.message}</div>
                    </div>
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpTransport() {
            document.getElementById('jpTransportFrom').value = '';
            document.getElementById('jpTransportTo').value = '';
            document.getElementById('jpTransportFreq').value = 'daily';
            document.getElementById('jpTransportType').value = 'normal';
            document.getElementById('jpTransportDistance').value = '';
            document.getElementById('jpTransportLine').value = 'jr';
            document.querySelectorAll('#jpTransportResult, #jpTransportError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Máy tính cước điện thoại Nhật Bản
        function calculateJpMobile() {
            const carrier = document.getElementById('jpMobileCarrier').value;
            const dataUsage = document.getElementById('jpMobileData').value;
            const callUsage = document.getElementById('jpMobileCall').value;
            const contract = document.getElementById('jpMobileContract').value;
            const device = document.getElementById('jpMobileDevice').value;
            const discount = document.getElementById('jpMobileDiscount').value;
            
            const resultPanel = document.getElementById('jpMobileResult');
            const errorPanel = document.getElementById('jpMobileError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                // Cước cơ bản theo nhà mạng
                const carrierRates = {
                    'docomo': { base: 2980, unlimited: 7315, premium: true },
                    'softbank': { base: 3278, unlimited: 7238, premium: true },
                    'au': { base: 3465, unlimited: 7238, premium: true },
                    'rakuten': { base: 0, unlimited: 3278, premium: false },
                    'mvno': { base: 1518, unlimited: 3828, premium: false }
                };
                
                // Cước theo lượng data
                const dataRates = {
                    '1gb': 0,
                    '3gb': 500,
                    '7gb': 1500,
                    '20gb': 2500,
                    'unlimited': 4000
                };
                
                const rate = carrierRates[carrier];
                let monthlyFee = rate.base;
                
                // Thêm phí data
                if (dataUsage === 'unlimited') {
                    monthlyFee = rate.unlimited;
                } else {
                    monthlyFee += dataRates[dataUsage];
                }
                
                // Thêm phí gọi điện
                let callFee = 0;
                if (callUsage === '10min') callFee = 770;
                else if (callUsage === 'unlimited-5min') callFee = 880;
                else if (callUsage === 'unlimited') callFee = 1980;
                
                monthlyFee += callFee;
                
                // Áp dụng giảm giá
                let totalDiscount = 0;
                if (discount === 'family') totalDiscount += 1100;
                else if (discount === 'internet') totalDiscount += 1100;
                else if (discount === 'student') totalDiscount += 1650;
                else if (discount === 'senior') totalDiscount += 1100;
                
                const finalFee = Math.max(0, monthlyFee - totalDiscount);
                
                // Chi phí máy điện thoại
                let deviceCost = 0;
                let deviceMonthlyCost = 0;
                if (device === 'budget') {
                    deviceCost = 40000;
                    deviceMonthlyCost = Math.round(deviceCost / 24);
                } else if (device === 'mid') {
                    deviceCost = 85000;
                    deviceMonthlyCost = Math.round(deviceCost / 24);
                } else if (device === 'premium') {
                    deviceCost = 135000;
                    deviceMonthlyCost = Math.round(deviceCost / 24);
                }
                
                const totalMonthlyCost = finalFee + deviceMonthlyCost;
                const annualCost = totalMonthlyCost * 12;
                
                // So sánh với nhà mạng khác
                let comparison = '';
                if (carrier === 'rakuten' && dataUsage === '1gb') {
                    comparison = 'Rakuten 1GB miễn phí - tiết kiệm tối ưu!';
                } else if (carrier === 'mvno') {
                    comparison = 'MVNO tiết kiệm 50-70% so với nhà mạng lớn!';
                } else if (rate.premium) {
                    comparison = 'Nhà mạng lớn (chất lượng cuộc gọi tốt)';
                }
                
                resultPanel.innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">📱</div>
                        <h3>Kết quả tính cước điện thoại Nhật Bản</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Nhà mạng</span>
                            <span class="value">${carrier === 'docomo' ? 'NTT Docomo' : 
                                              carrier === 'softbank' ? 'SoftBank' :
                                              carrier === 'au' ? 'au (KDDI)' :
                                              carrier === 'rakuten' ? 'Rakuten Mobile' : 'SIM giá rẻ'}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Data</span>
                            <span class="value">${dataUsage === 'unlimited' ? 'Không giới hạn' : dataUsage.toUpperCase()}</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">Cước hàng tháng</span>
                            <span class="value">${finalFee.toLocaleString()} yên</span>
                        </div>
                        ${deviceMonthlyCost > 0 ? `
                        <div class="summary-item">
                            <span class="label">Trả góp máy</span>
                            <span class="value">${deviceMonthlyCost.toLocaleString()} yên/tháng</span>
                        </div>
                        ` : ''}
                        <div class="summary-item total">
                            <span class="label">Tổng cước hàng tháng</span>
                            <span class="value">${totalMonthlyCost.toLocaleString()} yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Chi phí hàng năm</span>
                            <span class="value">${Math.round(annualCost/10000).toLocaleString()} vạn yên</span>
                        </div>
                    </div>
                    
                    <div class="mobile-analysis">
                        <h4>📊 Chi tiết cấu thành cước</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Cấu thành cơ bản</h5>
                                <p>Cước cơ bản: ${rate.base} yên</p>
                                <p>Data: +${dataRates[dataUsage]} yên</p>
                                <p>Gọi điện: +${callFee} yên</p>
                                <p>Giảm giá: -${totalDiscount} yên</p>
                            </div>
                            <div class="analysis-item">
                                <h5>Đặc điểm dịch vụ</h5>
                                <p>Chất lượng mạng: ${rate.premium ? 'Tốt' : 'Bình thường'}</p>
                                <p>Tính cạnh tranh: ${comparison}</p>
                                <p>Thời hạn hợp đồng: ${contract === 'postpaid' ? '2 năm' : 'Không ràng buộc'}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advice-panel">
                        <h4>💡 Mẹo tiết kiệm cước điện thoại</h4>
                        <ul class="advice-list">
                            ${carrier !== 'rakuten' && dataUsage === '1gb' ? '<li>Hãy xem xét gói 1GB miễn phí của Rakuten Mobile!</li>' : ''}
                            ${finalFee > 3000 && carrier !== 'mvno' ? '<li>SIM giá rẻ MVNO có thể tiết kiệm 2,000-4,000 yên/tháng.</li>' : ''}
                            ${discount === 'none' ? '<li>Giảm giá gia đình, kết hợp internet tiết kiệm 1,100 yên/tháng.</li>' : ''}
                            <li>Tối đa hóa sử dụng WiFi để giảm lượng data di động.</li>
                            <li>Sau 2 năm, chuyển mạng để nhận ưu đãi khách hàng mới.</li>
                            ${deviceCost > 80000 ? '<li>Chọn máy tầm trung thay vì cao cấp để tiết kiệm 5 vạn yên.</li>' : ''}
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                errorPanel.innerHTML = `
                    <div class="error-content">
                        <div class="error-icon">⚠️</div>
                        <div class="error-message">${error.message}</div>
                    </div>
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpMobile() {
            document.getElementById('jpMobileCarrier').value = 'docomo';
            document.getElementById('jpMobileData').value = '1gb';
            document.getElementById('jpMobileCall').value = 'basic';
            document.getElementById('jpMobileContract').value = 'postpaid';
            document.getElementById('jpMobileDevice').value = 'none';
            document.getElementById('jpMobileDiscount').value = 'none';
            document.querySelectorAll('#jpMobileResult, #jpMobileError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Máy tính ngân sách ăn uống Nhật Bản
        function calculateJpFood() {
            const familySize = document.getElementById('jpFoodFamily').value;
            const foodStyle = document.getElementById('jpFoodStyle').value;
            const region = document.getElementById('jpFoodRegion').value;
            const preference = document.getElementById('jpFoodPreference').value;
            const drinking = document.getElementById('jpFoodDrinking').value;
            const lunchType = document.getElementById('jpFoodLunch').value;
            
            const resultPanel = document.getElementById('jpFoodResult');
            const errorPanel = document.getElementById('jpFoodError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                // Chi phí ăn uống cơ bản (tính cho 1 người)
                let baseFood = 0;
                if (foodStyle === 'home-cooking') baseFood = 25000;
                else if (foodStyle === 'mixed') baseFood = 40000;
                else if (foodStyle === 'convenience') baseFood = 55000;
                else baseFood = 80000; // restaurant
                
                // Hệ số nhân theo số thành viên gia đình
                const familyMultiplier = {
                    '1': 1.0,
                    '2': 1.7,
                    '3': 2.3,
                    '4': 2.8,
                    '5+': 3.4
                };
                
                let totalFood = baseFood * familyMultiplier[familySize];
                
                // Điều chỉnh theo khu vực
                const regionMultiplier = {
                    'tokyo': 1.2,
                    'osaka': 1.0,
                    'regional': 0.85
                };
                
                totalFood *= regionMultiplier[region];
                
                // Điều chỉnh theo sở thích thực phẩm
                const preferenceMultiplier = {
                    'normal': 1.0,
                    'organic': 1.4,
                    'imported': 1.6,
                    'luxury': 2.0
                };
                
                totalFood *= preferenceMultiplier[preference];
                
                // Chi phí đồ uống có cồn
                let drinkingCost = 0;
                if (drinking === 'occasional') drinkingCost = 8000;
                else if (drinking === 'regular') drinkingCost = 18000;
                else if (drinking === 'frequent') drinkingCost = 35000;
                
                // Chi phí ăn trưa riêng
                let lunchCost = 0;
                if (lunchType === 'bento') lunchCost = 0; // Tự mang cơm
                else if (lunchType === 'cafeteria') lunchCost = 12000; // Căng tin (22 ngày/tháng)
                else lunchCost = 22000; // Ăn ngoài (22 ngày/tháng)
                
                const monthlyTotal = Math.round(totalFood + drinkingCost + lunchCost);
                const annualTotal = monthlyTotal * 12;
                
                // Phân tích cấu thành chi phí ăn uống
                const groceryCost = Math.round(totalFood * 0.7);
                const restaurantCost = Math.round(totalFood * 0.3);
                const dailyAverage = Math.round(monthlyTotal / 30);
                
                // Đánh giá mức độ hợp lý
                let budgetJudgment = '';
                let judgmentClass = '';
                const perPersonMonthly = monthlyTotal / parseFloat(familySize === '5+' ? 5 : familySize);
                
                if (perPersonMonthly <= 30000) {
                    budgetJudgment = 'Tiết kiệm';
                    judgmentClass = 'excellent';
                } else if (perPersonMonthly <= 45000) {
                    budgetJudgment = 'Hợp lý';
                    judgmentClass = 'good';
                } else if (perPersonMonthly <= 60000) {
                    budgetJudgment = 'Thoải mái';
                    judgmentClass = 'fair';
                } else {
                    budgetJudgment = 'Cao cấp';
                    judgmentClass = 'poor';
                }
                
                resultPanel.innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">🍱</div>
                        <h3>Kết quả tính ngân sách ăn uống Nhật Bản</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Cấu thành gia đình</span>
                            <span class="value">${familySize === '5+' ? '5 người trở lên' : familySize + ' người'}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Phong cách ăn uống</span>
                            <span class="value">${foodStyle === 'home-cooking' ? 'Nấu ăn tại nhà' :
                                               foodStyle === 'mixed' ? 'Nấu + ăn ngoài' :
                                               foodStyle === 'convenience' ? 'Tiện lợi + ăn ngoài' : 'Chủ yếu ăn ngoài'}</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">Tổng chi phí ăn uống/tháng</span>
                            <span class="value">${monthlyTotal.toLocaleString()} yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Chi phí/người/tháng</span>
                            <span class="value">${Math.round(perPersonMonthly).toLocaleString()} yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Trung bình/ngày</span>
                            <span class="value">${dailyAverage.toLocaleString()} yên</span>
                        </div>
                        <div class="summary-item total">
                            <span class="label">Mức độ chi tiêu</span>
                            <span class="value ${judgmentClass}">${budgetJudgment}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Chi phí hàng năm</span>
                            <span class="value">${Math.round(annualTotal/10000).toLocaleString()} vạn yên</span>
                        </div>
                    </div>
                    
                    <div class="food-analysis">
                        <h4>🍽️ Phân tích chi tiết chi phí ăn uống</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Cấu thành theo hạng mục</h5>
                                <p>Chi phí nguyên liệu: ${groceryCost.toLocaleString()} yên</p>
                                <p>Chi phí ăn ngoài: ${restaurantCost.toLocaleString()} yên</p>
                                <p>Chi phí ăn trưa: ${lunchCost.toLocaleString()} yên</p>
                                <p>Chi phí đồ uống: ${drinkingCost.toLocaleString()} yên</p>
                            </div>
                            <div class="analysis-item">
                                <h5>Đặc điểm khu vực</h5>
                                <p>Khu vực: ${region === 'tokyo' ? 'Tokyo (giá cao)' : 
                                           region === 'osaka' ? 'Osaka (bình thường)' : 'Thành phố tỉnh (rẻ)'}</p>
                                <p>Sở thích: ${preference === 'normal' ? 'Thực phẩm thông thường' :
                                            preference === 'organic' ? 'Ưa thích hữu cơ' :
                                            preference === 'imported' ? 'Ưa thích nhập khẩu' : 'Nguyên liệu cao cấp'}</p>
                                <p>Ăn trưa: ${lunchType === 'bento' ? 'Tự mang cơm' :
                                          lunchType === 'cafeteria' ? 'Căng tin công ty' : 'Ăn ngoài'}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advice-panel">
                        <h4>💡 Mẹo tiết kiệm chi phí ăn uống</h4>
                        <ul class="advice-list">
                            ${perPersonMonthly > 50000 ? '<li class="warning">⚠️ Chi phí ăn uống khá cao. Hãy xem xét các phương án tiết kiệm.</li>' : ''}
                            ${lunchType === 'outside' ? '<li>Tự mang cơm có thể tiết kiệm hơn 2 vạn yên/tháng.</li>' : ''}
                            ${foodStyle === 'restaurant' ? '<li>Nấu ăn tại nhà có thể tiết kiệm 3-4 vạn yên/tháng.</li>' : ''}
                            ${preference === 'luxury' ? '<li>Chọn thực phẩm thông thường thay vì cao cấp để tiết kiệm hơn 50%.</li>' : ''}
                            <li>Mua sắm tại siêu thị bán buôn để tiết kiệm 20-30%.</li>
                            <li>Tận dụng khung giờ giảm giá tối (7-9h) để được giảm 50% món ăn sẵn.</li>
                            <li>Sử dụng nguyên liệu theo mùa để có thực phẩm tươi ngon và rẻ hơn.</li>
                            ${drinking === 'frequent' ? '<li>Uống tại nhà thay vì ngoài để tiết kiệm 50% chi phí đồ uống.</li>' : ''}
                            <li>Bảo quản đông lạnh và mua số lượng lớn để tiết kiệm chi phí nguyên liệu.</li>
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                errorPanel.innerHTML = `
                    <div class="error-content">
                        <div class="error-icon">⚠️</div>
                        <div class="error-message">${error.message}</div>
                    </div>
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpFood() {
            document.getElementById('jpFoodFamily').value = '1';
            document.getElementById('jpFoodStyle').value = 'home-cooking';
            document.getElementById('jpFoodRegion').value = 'tokyo';
            document.getElementById('jpFoodPreference').value = 'normal';
            document.getElementById('jpFoodDrinking').value = 'none';
            document.getElementById('jpFoodLunch').value = 'bento';
            document.querySelectorAll('#jpFoodResult, #jpFoodError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }

        // Máy tính bảo hiểm y tế Nhật Bản
        function calculateJpHealth() {
            const monthlySalary = parseFloat(document.getElementById('jpHealthSalary').value) * 10000;
            const prefecture = document.getElementById('jpHealthPrefecture').value;
            const age = parseInt(document.getElementById('jpHealthAge').value);
            const employment = document.getElementById('jpHealthEmployment').value;
            const dependents = parseInt(document.getElementById('jpHealthDependents').value || 0);
            const annualBonus = parseFloat(document.getElementById('jpHealthBonus').value || 0) * 10000;
            
            const resultPanel = document.getElementById('jpHealthResult');
            const errorPanel = document.getElementById('jpHealthError');
            
            // Hide panels initially
            [resultPanel, errorPanel].forEach(panel => {
                panel.classList.remove('visible');
            });
            
            try {
                if (!monthlySalary || !age) {
                    throw new Error('Vui lòng nhập lương hàng tháng và tuổi.');
                }
                
                // Tỷ lệ bảo hiểm y tế theo tỉnh thành (2025)
                const prefectureRates = {
                    'tokyo': 0.0981,
                    'osaka': 0.1029,
                    'kanagawa': 0.0985,
                    'saitama': 0.0971,
                    'chiba': 0.0979,
                    'hyogo': 0.1013,
                    'aichi': 0.0993,
                    'fukuoka': 0.1038,
                    'others': 0.0995
                };
                
                const healthRate = prefectureRates[prefecture];
                
                // Tính lương chuẩn hàng tháng (dựa trên lương hàng tháng)
                let standardMonthlyPay = monthlySalary;
                
                // Tính bảo hiểm y tế (phần cá nhân chịu = 50%)
                let monthlyHealthInsurance = Math.round(standardMonthlyPay * healthRate * 0.5);
                
                // Bảo hiểm chăm sóc dài hạn từ 40 tuổi trở lên
                let monthlyLongTermCare = 0;
                if (age >= 40) {
                    monthlyLongTermCare = Math.round(standardMonthlyPay * 0.0123 * 0.5); // 1.23% chia đôi
                }
                
                // Bảo hiểm lương hưu (18.3% chia đôi)
                let monthlyPension = 0;
                if (employment === 'employee') {
                    monthlyPension = Math.round(standardMonthlyPay * 0.183 * 0.5);
                }
                
                // Bảo hiểm thất nghiệp (0.6% phần cá nhân là 0.2%)
                let monthlyEmployment = 0;
                if (employment === 'employee' || employment === 'part-time') {
                    monthlyEmployment = Math.round(monthlySalary * 0.002); // 0.2%
                }
                
                // Bảo hiểm xã hội cho tiền thưởng
                let bonusInsurance = 0;
                if (annualBonus > 0 && employment === 'employee') {
                    bonusInsurance = Math.round(annualBonus * (healthRate * 0.5 + 0.183 * 0.5));
                    if (age >= 40) {
                        bonusInsurance += Math.round(annualBonus * 0.0123 * 0.5);
                    }
                }
                
                const totalMonthlySocial = monthlyHealthInsurance + monthlyLongTermCare + monthlyPension + monthlyEmployment;
                const annualSocialInsurance = totalMonthlySocial * 12 + bonusInsurance;
                
                // Tính lương thực nhận (tính đơn giản)
                const monthlyGross = monthlySalary;
                const monthlyNet = monthlyGross - totalMonthlySocial - Math.round(monthlyGross * 0.05); // thuế thu nhập đơn giản
                
                // So sánh với khu vực khác
                let comparison = '';
                const lowestRate = 0.0971; // Saitama
                const highestRate = 0.1038; // Fukuoka
                const savingsVsHighest = Math.round((highestRate - healthRate) * standardMonthlyPay * 0.5 * 12);
                
                if (healthRate === lowestRate) {
                    comparison = 'Khu vực rẻ nhất toàn quốc!';
                } else if (healthRate === highestRate) {
                    comparison = 'Khu vực đắt nhất toàn quốc.';
                } else {
                    comparison = `Mức trung bình toàn quốc. (Hàng năm ${Math.abs(savingsVsHighest).toLocaleString()} yên ${savingsVsHighest > 0 ? 'tiết kiệm' : 'phụ trội'})`;
                }
                
                resultPanel.innerHTML = `
                    <div class="result-header">
                        <div class="result-icon">🏥</div>
                        <h3>Kết quả tính bảo hiểm y tế Nhật Bản</h3>
                    </div>
                    
                    <div class="result-summary">
                        <div class="summary-item">
                            <span class="label">Nơi cư trú</span>
                            <span class="value">${prefecture === 'tokyo' ? 'Tokyo' : 
                                               prefecture === 'osaka' ? 'Osaka' :
                                               prefecture === 'kanagawa' ? 'Kanagawa' :
                                               prefecture === 'saitama' ? 'Saitama' :
                                               prefecture === 'chiba' ? 'Chiba' :
                                               prefecture === 'hyogo' ? 'Hyogo' :
                                               prefecture === 'aichi' ? 'Aichi' :
                                               prefecture === 'fukuoka' ? 'Fukuoka' : 'Khu vực khác'}</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Tỷ lệ bảo hiểm y tế</span>
                            <span class="value">${(healthRate * 100).toFixed(2)}%</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="label">Bảo hiểm y tế hàng tháng</span>
                            <span class="value">${monthlyHealthInsurance.toLocaleString()} yên</span>
                        </div>
                        ${age >= 40 ? `
                        <div class="summary-item">
                            <span class="label">Bảo hiểm chăm sóc hàng tháng</span>
                            <span class="value">${monthlyLongTermCare.toLocaleString()} yên</span>
                        </div>
                        ` : ''}
                        ${employment === 'employee' ? `
                        <div class="summary-item">
                            <span class="label">Bảo hiểm lương hưu hàng tháng</span>
                            <span class="value">${monthlyPension.toLocaleString()} yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Bảo hiểm thất nghiệp hàng tháng</span>
                            <span class="value">${monthlyEmployment.toLocaleString()} yên</span>
                        </div>
                        ` : ''}
                        <div class="summary-item total">
                            <span class="label">Tổng bảo hiểm xã hội hàng tháng</span>
                            <span class="value">${totalMonthlySocial.toLocaleString()} yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Bảo hiểm xã hội hàng năm</span>
                            <span class="value">${Math.round(annualSocialInsurance/10000).toLocaleString()} vạn yên</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Lương thực nhận hàng tháng (ước tính)</span>
                            <span class="value">${monthlyNet.toLocaleString()} yên</span>
                        </div>
                    </div>
                    
                    <div class="health-analysis">
                        <h4>📊 Phân tích chi tiết bảo hiểm</h4>
                        <div class="analysis-grid">
                            <div class="analysis-item">
                                <h5>Cấu thành bảo hiểm y tế</h5>
                                <p>Phần cá nhân: ${monthlyHealthInsurance.toLocaleString()} yên</p>
                                <p>Phần công ty: ${monthlyHealthInsurance.toLocaleString()} yên</p>
                                <p>Tổng bảo hiểm: ${(monthlyHealthInsurance * 2).toLocaleString()} yên</p>
                                ${age >= 40 ? `<p>Bảo hiểm chăm sóc: ${monthlyLongTermCare.toLocaleString()} yên</p>` : ''}
                            </div>
                            <div class="analysis-item">
                                <h5>So sánh theo khu vực</h5>
                                <p>Khu vực hiện tại: ${(healthRate * 100).toFixed(2)}%</p>
                                <p>Thấp nhất toàn quốc: ${(lowestRate * 100).toFixed(2)}% (Saitama)</p>
                                <p>Cao nhất toàn quốc: ${(highestRate * 100).toFixed(2)}% (Fukuoka)</p>
                                <p>${comparison}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="advice-panel">
                        <h4>💡 Mẹo tiết kiệm và sử dụng bảo hiểm xã hội</h4>
                        <ul class="advice-list">
                            ${healthRate > 0.101 ? '<li>Tỷ lệ bảo hiểm y tế ở khu vực này khá cao. Tham khảo khi chuyển nơi ở.</li>' : ''}
                            ${dependents === 0 && monthlySalary > 1300000 ? '<li>Đăng ký người phụ thuộc có thể tiết kiệm được bảo hiểm y tế.</li>' : ''}
                            ${age >= 35 && age < 40 ? '<li>Từ 40 tuổi sẽ phải đóng thêm bảo hiểm chăm sóc. Hãy chuẩn bị trước.</li>' : ''}
                            ${employment === 'freelancer' ? '<li>Freelancer có thể chọn giữa bảo hiểm y tế quốc dân và tiếp tục tự nguyện.</li>' : ''}
                            <li>Có chế độ hỗ trợ chi phí y tế cao để giới hạn gánh nặng chi phí.</li>
                            <li>Hãy thường xuyên khám sức khỏe định kỳ để phòng ngừa bệnh tật.</li>
                            <li>Nếu gần mức lương chuẩn, hãy xem xét điều chỉnh lương.</li>
                            ${annualBonus > 2000000 ? '<li>Tiền thưởng cao cũng làm tăng gánh nặng bảo hiểm xã hội.</li>' : ''}
                        </ul>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                
            } catch (error) {
                errorPanel.innerHTML = `
                    <div class="error-content">
                        <div class="error-icon">⚠️</div>
                        <div class="error-message">${error.message}</div>
                    </div>
                `;
                errorPanel.classList.add('visible');
            }
        }

        function resetJpHealth() {
            document.getElementById('jpHealthSalary').value = '';
            document.getElementById('jpHealthPrefecture').value = 'tokyo';
            document.getElementById('jpHealthAge').value = '';
            document.getElementById('jpHealthEmployment').value = 'employee';
            document.getElementById('jpHealthDependents').value = '0';
            document.getElementById('jpHealthBonus').value = '';
            document.querySelectorAll('#jpHealthResult, #jpHealthError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }
        
        // 1. Máy tính chi phí nhà ở tổng hợp Nhật Bản
        function calculateJpHousing() {
            try {
                const monthlyRent = parseFloat(document.getElementById('jpHousingRent').value) * 10000;
                const managementFee = parseFloat(document.getElementById('jpHousingManagement').value || 0);
                const depositMonths = parseFloat(document.getElementById('jpHousingDeposit').value);
                const keyMoneyMonths = parseFloat(document.getElementById('jpHousingKeyMoney').value);
                const brokerageFee = parseFloat(document.getElementById('jpHousingBrokerage').value);
                const insurance = parseFloat(document.getElementById('jpHousingInsurance').value || 15000);
                const region = document.getElementById('jpHousingRegion').value;
                const housingType = document.getElementById('jpHousingType').value;
                const resultPanel = document.getElementById('jpHousingResult');
                const errorPanel = document.getElementById('jpHousingError');
                
                if (!monthlyRent || monthlyRent <= 0) {
                    throw new Error('Vui lòng nhập tiền thuê hàng tháng hợp lệ.');
                }
                
                // Hệ số chi phí theo khu vực
                const regionMultiplier = {
                    tokyo: 1.3,
                    osaka: 1.1,
                    yokohama: 1.2,
                    nagoya: 1.05,
                    sapporo: 0.9,
                    fukuoka: 0.95,
                    regional: 0.8
                };
                
                // Chi phí thêm theo loại nhà ở
                const typeMultiplier = {
                    apartment: 1.0,
                    mansion: 1.2,
                    house: 1.1,
                    share: 0.7
                };
                
                const baseMultiplier = (regionMultiplier[region] || 1.0) * (typeMultiplier[housingType] || 1.0);
                
                // Tính toán chi phí hàng tháng
                const totalMonthlyRent = monthlyRent + managementFee;
                const utilities = Math.round(8000 * baseMultiplier); // Tiền điện nước cơ bản
                const monthlyTotal = totalMonthlyRent + utilities;
                
                // Tính toán chi phí ban đầu
                const deposit = monthlyRent * depositMonths;
                const keyMoney = monthlyRent * keyMoneyMonths;
                const brokerage = monthlyRent * brokerageFee;
                const cleaningFee = Math.round(30000 * baseMultiplier);
                const lockChange = Math.round(15000 * baseMultiplier);
                
                const initialCost = deposit + keyMoney + brokerage + insurance + cleaningFee + lockChange + monthlyRent;
                
                // Chi phí hàng năm
                const yearlyRent = monthlyTotal * 12;
                const yearlyInsurance = insurance;
                const yearlyTotal = yearlyRent + yearlyInsurance;
                
                // Đánh giá và lời khuyên
                let evaluation = '';
                let advice = [];
                
                const rentIncomeRatio = monthlyTotal / (300000); // So với thu nhập trung bình
                
                if (rentIncomeRatio <= 0.25) {
                    evaluation = 'Chi phí nhà ở rất hợp lý';
                    advice.push('Hãy tận dụng số tiền tiết kiệm được để đầu tư hoặc tiết kiệm');
                } else if (rentIncomeRatio <= 0.33) {
                    evaluation = 'Chi phí nhà ở ở mức phù hợp';
                    advice.push('Duy trì mức độ hiện tại và quản lý tốt chi phí sinh hoạt');
                } else if (rentIncomeRatio <= 0.4) {
                    evaluation = 'Chi phí nhà ở hơi cao';
                    advice.push('Nên tiết kiệm ở các khoản chi khác để cân bằng');
                } else {
                    evaluation = 'Chi phí nhà ở quá cao';
                    advice.push('Nên cân nhắc tìm khu vực rẻ hơn hoặc nhà nhỏ hơn');
                }
                
                if (region === 'tokyo') {
                    advice.push('Tokyo nên ở gần nơi làm việc để tiết kiệm chi phí đi lại');
                }
                if (housingType === 'share') {
                    advice.push('Share house có chi phí ban đầu thấp nhưng cần cân nhắc về không gian riêng tư');
                }
                
                document.getElementById('jpHousingResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">Tổng chi phí nhà ở hàng tháng: <span class="highlight">${monthlyTotal.toLocaleString()} yên</span></div>
                        <div class="result-subtitle">Chi phí ban đầu: ${initialCost.toLocaleString()} yên</div>
                        <div class="result-subtitle">Chi phí nhà ở hàng năm: ${yearlyTotal.toLocaleString()} yên</div>
                    </div>
                `;
                
                document.getElementById('jpHousingResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>📋 Chi tiết chi phí hàng tháng</h4>
                            <ul>
                                <li>Tiền thuê: ${monthlyRent.toLocaleString()} yên</li>
                                <li>Phí quản lý: ${managementFee.toLocaleString()} yên</li>
                                <li>Tiền điện nước ước tính: ${utilities.toLocaleString()} yên</li>
                                <li><strong>Tổng cộng: ${monthlyTotal.toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>💰 Chi tiết chi phí ban đầu</h4>
                            <ul>
                                <li>Tiền cọc: ${deposit.toLocaleString()} yên</li>
                                <li>Tiền lễ: ${keyMoney.toLocaleString()} yên</li>
                                <li>Phí môi giới: ${brokerage.toLocaleString()} yên</li>
                                <li>Bảo hiểm cháy nổ: ${insurance.toLocaleString()} yên</li>
                                <li>Phí dọn dẹp: ${cleaningFee.toLocaleString()} yên</li>
                                <li>Đổi khóa: ${lockChange.toLocaleString()} yên</li>
                                <li>Tiền thuê tháng đầu: ${monthlyRent.toLocaleString()} yên</li>
                                <li><strong>Tổng cộng: ${initialCost.toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 Đánh giá</h4>
                            <p><strong>${evaluation}</strong></p>
                            <ul>
                                ${advice.map(item => `<li>${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                errorPanel.classList.remove('visible');
                
            } catch (error) {
                document.getElementById('jpHousingErrorContent').innerHTML = `<strong>Lỗi:</strong> ${error.message}`;
                document.getElementById('jpHousingError').classList.add('visible');
                document.getElementById('jpHousingResult').classList.remove('visible');
            }
        }
        
        function resetJpHousing() {
            document.getElementById('jpHousingRent').value = '';
            document.getElementById('jpHousingManagement').value = '';
            document.getElementById('jpHousingDeposit').value = '1';
            document.getElementById('jpHousingKeyMoney').value = '0';
            document.getElementById('jpHousingBrokerage').value = '1';
            document.getElementById('jpHousingInsurance').value = '15000';
            document.getElementById('jpHousingRegion').value = 'osaka';
            document.getElementById('jpHousingType').value = 'apartment';
            document.querySelectorAll('#jpHousingResult, #jpHousingError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }
        
        // 2. Máy tính lương thực lĩnh Nhật Bản
        function calculateJpNetpay() {
            try {
                const monthlyGross = parseFloat(document.getElementById('jpNetpayGross').value) * 10000;
                const yearlyBonus = parseFloat(document.getElementById('jpNetpayBonus').value || 0) * 10000;
                const region = document.getElementById('jpNetpayRegion').value;
                const age = parseInt(document.getElementById('jpNetpayAge').value);
                const dependents = parseInt(document.getElementById('jpNetpayDependents').value || 0);
                const spouseStatus = document.getElementById('jpNetpaySpouse').value;
                const employment = document.getElementById('jpNetpayEmployment').value;
                const otherDeductions = parseFloat(document.getElementById('jpNetpayDeductions').value || 0) * 10000;
                const resultPanel = document.getElementById('jpNetpayResult');
                const errorPanel = document.getElementById('jpNetpayError');
                
                if (!monthlyGross || monthlyGross <= 0) {
                    throw new Error('Vui lòng nhập lương hàng tháng hợp lệ.');
                }
                
                const annualGross = monthlyGross * 12 + yearlyBonus;
                
                // Thuế suất bảo hiểm y tế theo khu vực (2025)
                const healthInsuranceRates = {
                    tokyo: 0.0981,
                    osaka: 0.1029,
                    kanagawa: 0.0997,
                    aichi: 0.0985,
                    saitama: 0.0971,
                    chiba: 0.0984,
                    hyogo: 0.1015,
                    hokkaido: 0.1038,
                    fukuoka: 0.1038,
                    other: 0.1000
                };
                
                const healthRate = healthInsuranceRates[region] || 0.1000;
                
                // Tính toán các khoản khấu trừ
                const employeePensionRate = 0.183 / 2; // 9.15% (công ty trả 50%)
                const employmentInsuranceRate = 0.006 / 2; // 0.3% (công ty trả 50%)
                const careInsuranceRate = age >= 40 ? 0.0123 / 2 : 0; // 0.615% từ 40 tuổi
                
                // Bảo hiểm xã hội
                const healthInsurance = Math.min(annualGross * healthRate / 2, 2500000); // Giới hạn trần
                const pensionInsurance = Math.min(annualGross * employeePensionRate, 2300000);
                const employmentInsurance = annualGross * employmentInsuranceRate;
                const careInsurance = age >= 40 ? annualGross * careInsuranceRate : 0;
                
                const totalSocialInsurance = healthInsurance + pensionInsurance + employmentInsurance + careInsurance;
                
                // Khấu trừ cơ bản
                const basicDeduction = 480000;
                const spouseDeduction = spouseStatus === 'dependent' ? 380000 : 0;
                const dependentDeduction = dependents * 380000;
                const employmentDeduction = Math.min(annualGross * 0.3, 1950000); // Khấu trừ thu nhập từ lương
                
                const totalDeductions = basicDeduction + spouseDeduction + dependentDeduction + employmentDeduction + otherDeductions;
                
                // Thu nhập chịu thuế
                const taxableIncome = Math.max(0, annualGross - totalSocialInsurance - totalDeductions);
                
                // Thuế thu nhập (cấp tiến)
                let incomeTax = 0;
                if (taxableIncome > 0) {
                    if (taxableIncome <= 1950000) incomeTax = taxableIncome * 0.05;
                    else if (taxableIncome <= 3300000) incomeTax = 97500 + (taxableIncome - 1950000) * 0.10;
                    else if (taxableIncome <= 6950000) incomeTax = 232500 + (taxableIncome - 3300000) * 0.20;
                    else if (taxableIncome <= 9000000) incomeTax = 962500 + (taxableIncome - 6950000) * 0.23;
                    else if (taxableIncome <= 18000000) incomeTax = 1434000 + (taxableIncome - 9000000) * 0.33;
                    else if (taxableIncome <= 40000000) incomeTax = 4404000 + (taxableIncome - 18000000) * 0.40;
                    else incomeTax = 13204000 + (taxableIncome - 40000000) * 0.45;
                }
                
                // Thuế phục hưng 2.1%
                const reconstructionTax = incomeTax * 0.021;
                
                // Thuế cư trú (khoảng 10%)
                const residentTax = taxableIncome * 0.10;
                
                const totalTax = incomeTax + reconstructionTax + residentTax;
                const netAnnual = annualGross - totalSocialInsurance - totalTax;
                const netMonthly = netAnnual / 12;
                
                document.getElementById('jpNetpayResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">Lương thực lĩnh hàng tháng: <span class="highlight">${Math.round(netMonthly).toLocaleString()} yên</span></div>
                        <div class="result-subtitle">Thu nhập thực lĩnh hàng năm: ${Math.round(netAnnual).toLocaleString()} yên</div>
                        <div class="result-subtitle">Tỷ lệ khấu trừ: ${Math.round((1 - netAnnual/annualGross) * 100)}%</div>
                    </div>
                `;
                
                document.getElementById('jpNetpayResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>💰 Thu nhập gốc</h4>
                            <ul>
                                <li>Lương hàng tháng: ${(monthlyGross).toLocaleString()} yên</li>
                                <li>Thưởng hàng năm: ${yearlyBonus.toLocaleString()} yên</li>
                                <li><strong>Tổng thu nhập: ${annualGross.toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>🏥 Bảo hiểm xã hội</h4>
                            <ul>
                                <li>Bảo hiểm y tế (${Math.round(healthRate*200)/2}%): ${Math.round(healthInsurance).toLocaleString()} yên</li>
                                <li>Bảo hiểm lương hưu (9.15%): ${Math.round(pensionInsurance).toLocaleString()} yên</li>
                                <li>Bảo hiểm thất nghiệp (0.3%): ${Math.round(employmentInsurance).toLocaleString()} yên</li>
                                ${age >= 40 ? `<li>Bảo hiểm chăm sóc (0.615%): ${Math.round(careInsurance).toLocaleString()} yên</li>` : ''}
                                <li><strong>Tổng: ${Math.round(totalSocialInsurance).toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📋 Thuế</h4>
                            <ul>
                                <li>Thuế thu nhập: ${Math.round(incomeTax).toLocaleString()} yên</li>
                                <li>Thuế phục hưng: ${Math.round(reconstructionTax).toLocaleString()} yên</li>
                                <li>Thuế cư trú: ${Math.round(residentTax).toLocaleString()} yên</li>
                                <li><strong>Tổng thuế: ${Math.round(totalTax).toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                errorPanel.classList.remove('visible');
                
            } catch (error) {
                document.getElementById('jpNetpayErrorContent').innerHTML = `<strong>Lỗi:</strong> ${error.message}`;
                document.getElementById('jpNetpayError').classList.add('visible');
                document.getElementById('jpNetpayResult').classList.remove('visible');
            }
        }
        
        function resetJpNetpay() {
            document.getElementById('jpNetpayGross').value = '';
            document.getElementById('jpNetpayBonus').value = '0';
            document.getElementById('jpNetpayRegion').value = 'osaka';
            document.getElementById('jpNetpayAge').value = '30';
            document.getElementById('jpNetpayDependents').value = '0';
            document.getElementById('jpNetpaySpouse').value = 'none';
            document.getElementById('jpNetpayEmployment').value = 'fulltime';
            document.getElementById('jpNetpayDeductions').value = '0';
            document.querySelectorAll('#jpNetpayResult, #jpNetpayError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }
        
        // 3. Máy tính chi phí sinh hoạt tổng hợp Nhật Bản
        function calculateJpLiving() {
            try {
                const family = parseInt(document.getElementById('jpLivingFamily').value);
                const region = document.getElementById('jpLivingRegion').value;
                const lifestyle = document.getElementById('jpLivingStyle').value;
                const dining = document.getElementById('jpLivingDining').value;
                const transport = document.getElementById('jpLivingTransport').value;
                const entertainment = document.getElementById('jpLivingEntertainment').value;
                const shopping = document.getElementById('jpLivingShopping').value;
                const savings = document.getElementById('jpLivingSavings').value;
                const resultPanel = document.getElementById('jpLivingResult');
                const errorPanel = document.getElementById('jpLivingError');
                
                // Hệ số chi phí theo khu vực
                const regionMultiplier = {
                    tokyo: 1.3,
                    osaka: 1.1,
                    yokohama: 1.2,
                    nagoya: 1.0,
                    sapporo: 0.85,
                    fukuoka: 0.9,
                    regional: 0.8,
                    rural: 0.7
                };
                
                // Chi phí cơ bản cho 1 người (yên/tháng)
                let baseFood = 40000;
                let baseTransport = 8000;
                let baseEntertainment = 15000;
                let baseShopping = 20000;
                let baseUtilities = 8000;
                
                // Điều chỉnh theo phong cách sống
                const lifestyleMultiplier = {
                    minimal: 0.7,
                    standard: 1.0,
                    comfortable: 1.3,
                    luxury: 1.8
                };
                
                const styleMultiplier = lifestyleMultiplier[lifestyle] || 1.0;
                const regionMult = regionMultiplier[region] || 1.0;
                
                // Tính toán chi phí ăn uống
                const diningMultiplier = {
                    rarely: 0.8,
                    occasional: 1.0,
                    frequent: 1.4,
                    mostly: 2.0
                };
                const foodCost = baseFood * family * styleMultiplier * regionMult * (diningMultiplier[dining] || 1.0);
                
                // Tính toán chi phí di chuyển
                const transportMultiplier = {
                    none: 0,
                    minimal: 0.3,
                    public: 1.0,
                    mixed: 1.5,
                    car: 2.5
                };
                const transportCost = baseTransport * family * regionMult * (transportMultiplier[transport] || 1.0);
                
                // Tính toán chi phí giải trí
                const entertainmentMultiplier = {
                    minimal: 0.4,
                    moderate: 1.0,
                    active: 1.8,
                    frequent: 2.5
                };
                const entertainmentCost = baseEntertainment * family * styleMultiplier * regionMult * (entertainmentMultiplier[entertainment] || 1.0);
                
                // Tính toán chi phí mua sắm
                const shoppingMultiplier = {
                    essential: 0.6,
                    moderate: 1.0,
                    frequent: 1.6,
                    luxury: 2.5
                };
                const shoppingCost = baseShopping * family * styleMultiplier * regionMult * (shoppingMultiplier[shopping] || 1.0);
                
                // Chi phí tiện ích (chia theo quy mô gia đình)
                const utilitiesCost = baseUtilities * Math.pow(family, 0.8) * regionMult;
                
                // Tổng chi phí sinh hoạt
                const totalLiving = foodCost + transportCost + entertainmentCost + shoppingCost + utilitiesCost;
                
                // Tính toán tiết kiệm
                const savingsRate = {
                    none: 0,
                    minimal: 0.075,
                    moderate: 0.175,
                    aggressive: 0.275
                };
                
                const savingsAmount = totalLiving * (savingsRate[savings] || 0) / (1 - (savingsRate[savings] || 0));
                const totalBudget = totalLiving + savingsAmount;
                
                // Đánh giá
                let evaluation = '';
                let advice = [];
                
                const perPersonCost = totalLiving / family;
                
                if (perPersonCost < 80000) {
                    evaluation = 'Chi phí sinh hoạt rất tiết kiệm';
                    advice.push('Bạn đang quản lý chi phí rất tốt, có thể tăng chất lượng cuộc sống');
                } else if (perPersonCost < 120000) {
                    evaluation = 'Chi phí sinh hoạt hợp lý';
                    advice.push('Mức chi tiêu cân bằng tốt giữa chất lượng cuộc sống và tiết kiệm');
                } else if (perPersonCost < 180000) {
                    evaluation = 'Chi phí sinh hoạt hơi cao';
                    advice.push('Cân nhắc cắt giảm một số khoản chi không cần thiết');
                } else {
                    evaluation = 'Chi phí sinh hoạt cao';
                    advice.push('Nên xem xét lại ngân sách và ưu tiên các khoản chi thiết yếu');
                }
                
                if (region === 'tokyo') {
                    advice.push('Tokyo đắt đỏ, hãy tận dụng các dịch vụ công cộng và ưu đãi');
                }
                if (family >= 4) {
                    advice.push('Gia đình đông người nên mua số lượng lớn để tiết kiệm');
                }
                
                document.getElementById('jpLivingResultContent').innerHTML = `
                    <div class="result-main">
                        <div class="result-value">Chi phí sinh hoạt hàng tháng: <span class="highlight">${Math.round(totalLiving).toLocaleString()} yên</span></div>
                        <div class="result-subtitle">Bao gồm tiết kiệm: ${Math.round(totalBudget).toLocaleString()} yên</div>
                        <div class="result-subtitle">Chi phí bình quân/người: ${Math.round(perPersonCost).toLocaleString()} yên</div>
                    </div>
                `;
                
                document.getElementById('jpLivingResultDetails').innerHTML = `
                    <div class="analysis-grid">
                        <div class="analysis-item">
                            <h4>🍽️ Chi tiết chi phí</h4>
                            <ul>
                                <li>Ăn uống: ${Math.round(foodCost).toLocaleString()} yên</li>
                                <li>Di chuyển: ${Math.round(transportCost).toLocaleString()} yên</li>
                                <li>Giải trí: ${Math.round(entertainmentCost).toLocaleString()} yên</li>
                                <li>Mua sắm: ${Math.round(shoppingCost).toLocaleString()} yên</li>
                                <li>Tiện ích: ${Math.round(utilitiesCost).toLocaleString()} yên</li>
                                <li><strong>Tổng cộng: ${Math.round(totalLiving).toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>💰 Kế hoạch tiết kiệm</h4>
                            <ul>
                                <li>Mục tiêu tiết kiệm: ${Math.round((savingsRate[savings] || 0) * 100)}%</li>
                                <li>Số tiền tiết kiệm: ${Math.round(savingsAmount).toLocaleString()} yên/tháng</li>
                                <li>Tiết kiệm 1 năm: ${Math.round(savingsAmount * 12).toLocaleString()} yên</li>
                                <li><strong>Tổng ngân sách cần: ${Math.round(totalBudget).toLocaleString()} yên</strong></li>
                            </ul>
                        </div>
                        <div class="analysis-item">
                            <h4>📊 Đánh giá</h4>
                            <p><strong>${evaluation}</strong></p>
                            <ul>
                                ${advice.map(item => `<li>${item}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                `;
                
                resultPanel.classList.add('visible');
                errorPanel.classList.remove('visible');
                
            } catch (error) {
                document.getElementById('jpLivingErrorContent').innerHTML = `<strong>Lỗi:</strong> ${error.message}`;
                document.getElementById('jpLivingError').classList.add('visible');
                document.getElementById('jpLivingResult').classList.remove('visible');
            }
        }
        
        function resetJpLiving() {
            document.getElementById('jpLivingFamily').value = '1';
            document.getElementById('jpLivingRegion').value = 'osaka';
            document.getElementById('jpLivingStyle').value = 'standard';
            document.getElementById('jpLivingDining').value = 'occasional';
            document.getElementById('jpLivingTransport').value = 'public';
            document.getElementById('jpLivingEntertainment').value = 'moderate';
            document.getElementById('jpLivingShopping').value = 'moderate';
            document.getElementById('jpLivingSavings').value = 'moderate';
            document.querySelectorAll('#jpLivingResult, #jpLivingError').forEach(panel => {
                panel.classList.remove('visible');
            });
        }
    </script>
</body>
</html>
